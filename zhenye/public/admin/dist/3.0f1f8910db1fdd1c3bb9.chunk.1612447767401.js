webpackJsonp([3],{788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(985),r=n.n(i),o=n(987),a=n.n(o),s=n(25),l=s(r.a,a.a,!1,null,null,null);l.options.__file="src\\views\\argu-page\\teamdetail.vue",l.esModule&&Object.keys(l.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),t.default=l.exports},803:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAEECAMAAADERNteAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABXUExUReXl5WhoaFNTU8XFxXd3d+Xl5Y2NjXd3d4SEhNjY2F9fX05OToCAgK6urnBwcHh4eE9PT1xcXJubm2JiYoKCgktLS0dHR2xsbFdXV46OjlVVVUxMTERERNpr+JcAAAAcdFJOUzOZzEAtLWYzMzOZzGZNjYDZslmlc+XygL9ZstlYIOCXAAAC/klEQVR42u3Z2VabUAAFUAZ7rcMlTLG25f+/s3AJSl3mqV2GhH0e8Dq8uBecHGN2P+d7lmUPzm/nuwzGGRj5JA9gzsOkm0c+5hsYMGDAKF8wYAw8MGDAKF8x8MCAAaN8wYAx8MCAASPK18ADAwaM8gUDxsADA0bAKF8DDwwYMMoXDBgDD4yAAaN8DTwwYMAoXzBgDDwwAgaM8jXwwIABo3zBgDHwBAwYMMrXwAMDBozyBQNGDDwwYMAoXwMPDBgwyheMgDHwwNwwzPPjDzCf5XF4Ur7bhdngwAMDBsw/5ufzlF/D7/TxWfkueRr+ChgwV7ZjDDwwYMAoX8t3G287+C8BGDC3Wr5gwFwrjIABA0b5GnhgwIBRvv8nh7j6pAzjJfZnf7hN13wXMEVYK3XjpaqWb60zfyVdh/3B1PGQ50WTj4kngJPScCmYi2UNE5pshHnJVzBVPZ4Pe4c5Tuf2dfl0BDgcQwhNvmAck9kwXcLNw6QHJ/VpN4QwPklF+kK6S6oiFGVfvN0ldXhLvHmYKv2e46kviglmfpJmmPFVqH85lh86Zh8v1++PUldO59hk749SW9VNPBRNfxmYiw68dcdM5y4Pyy00lHlfduOt0+Zlggkv69funcFU6UHq6uXxKfM6LOfQzGj1HmHmBVy0M0boY1bGBWYqnq99ojYE0x/Kk8uE0VavRdcuMHX8WpjNLN/pPD46Xd2uh1y/7JiwgNw4TEhtcpx3TBpsJ6TqOP8dMOTvGdKK2QdMDOvE1d1TNl2CWX17hIlVdgGYjaXczPsxAgbMdb9cbzveDAcDBozyBQPGwAMDBozyFQMPDBgwyhcMGAMPDBgwonwNPDBgwChfMGAMPDBgBIzyNfDAgAGjfMGAMfDACBgwytfAAwMGjPIFA8bAAyNgwChfAw8MGDDKFwwYA0/AgAGjfA08MGDAKF8wYMTAAwMGjPI18MCAAaN8wQgYAw8MGDDK18ADAwaM8gUDBoyBBwYMGOVr4F0zzH2iebif4zznDswZmD/pBESeAxLzIQAAAABJRU5ErkJggg=="},804:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},805:function(e,t,n){"use strict";t.__esModule=!0;var i=n(806),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},806:function(e,t,n){e.exports={default:n(949),__esModule:!0}},942:function(e,t,n){(function(t){/*!
 * Quill Editor v1.3.6
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),r=n(18),o=n(19),a=n(45),s=n(46),l=n(47),u=n(48),c=n(49),d=n(12),f=n(32),p=n(33),h=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:d.default,Class:f.default,Style:p.default,Store:h.default}};t.default=g},function(e,t,n){"use strict";function i(e,t){var n=o(e);if(null==n)throw new l("Unable to create "+e+" blot");var i=n;return new i(e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t),t)}function r(e,n){return void 0===n&&(n=!1),null==e?null:null!=e[t.DATA_KEY]?e[t.DATA_KEY].blot:n?r(e.parentNode,n):null}function o(e,t){void 0===t&&(t=p.ANY);var n;if("string"==typeof e)n=f[e]||u[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=f.text;else if("number"==typeof e)e&p.LEVEL&p.BLOCK?n=f.block:e&p.LEVEL&p.INLINE&&(n=f.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=c[i[r]])break;n=n||d[e.tagName]}return null==n?null:t&p.LEVEL&n.scope&&t&p.TYPE&n.scope?n:null}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)return e.map(function(e){return a(e)});var n=e[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new l("Invalid definition");if("abstract"===n.blotName)throw new l("Cannot register abstract class");if(f[n.blotName||n.attrName]=n,"string"==typeof n.keyName)u[n.keyName]=n;else if(null!=n.className&&(c[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(e){return e.toUpperCase()}):n.tagName=n.tagName.toUpperCase();var i=Array.isArray(n.tagName)?n.tagName:[n.tagName];i.forEach(function(e){null!=d[e]&&null!=n.className||(d[e]=n)})}return n}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var n=this;return t="[Parchment] "+t,n=e.call(this,t)||this,n.message=t,n.name=n.constructor.name,n}return s(t,e),t}(Error);t.ParchmentError=l;var u={},c={},d={},f={};t.DATA_KEY="__blot";var p;!function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(p=t.Scope||(t.Scope={})),t.create=i,t.find=r,t.query=o,t.register=a},function(e,t,n){var i=n(51),r=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(i){(e(i)?t:n).push(i)}),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+a.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=a.iterator(this.ops),r=0;r<t&&i.hasNext();){var o;r<e?o=i.next(e-r):(o=i.next(t-r),n.push(o)),r+=a.length(o)}return new l(n)},l.prototype.compose=function(e){for(var t=a.iterator(this.ops),n=a.iterator(e.ops),i=new l;t.hasNext()||n.hasNext();)if("insert"===n.peekType())i.push(n.next());else if("delete"===t.peekType())i.push(t.next());else{var r=Math.min(t.peekLength(),n.peekLength()),o=t.next(r),s=n.next(r);if("number"==typeof s.retain){var u={};"number"==typeof o.retain?u.retain=r:u.insert=o.insert;var c=a.attributes.compose(o.attributes,s.attributes,"number"==typeof o.retain);c&&(u.attributes=c),i.push(u)}else"number"==typeof s.delete&&"number"==typeof o.retain&&i.push(s)}return i.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;var i=t===e?"on":"with";throw new Error("diff() called "+i+" non-document")}).join("")}),o=new l,u=i(n[0],n[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),o.push(d.next(n));break;case i.DELETE:n=Math.min(t,c.peekLength()),c.next(n),o.delete(n);break;case i.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);var s=c.next(n),l=d.next(n);r(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l).delete(n)}t-=n}}),o.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),i=new l,r=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(u<0)i.push(n.next());else if(u>0)i.push(n.next(u));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&e(i,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),i=a.iterator(e.ops),r=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),s=n.next(o),u=i.next(o);if(s.delete)continue;u.delete?r.push(u):r.retain(o,a.attributes.transform(s.attributes,u.attributes,t))}else r.retain(a.length(n.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},o=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t=n.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var o;for(o in e);return void 0===o||n.call(e,o)};e.exports=function e(){var t,n,i,a,s,l,u=arguments[0],c=1,d=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},c=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});c<d;++c)if(null!=(t=arguments[c]))for(n in t)i=u[n],a=t[n],u!==a&&(f&&a&&(o(a)||(s=r(a)))?(s?(s=!1,l=i&&r(i)?i:[]):l=i&&o(i)?i:{},u[n]=e(f,l,a)):void 0!==a&&(u[n]=a));return u}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,d.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:s(e.parent,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(3),d=i(c),f=n(2),p=i(f),h=n(0),m=i(h),g=n(16),v=i(g),y=n(6),b=i(y),x=n(7),w=i(x),C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"attach",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new p.default).insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=m.default.query(e,m.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"==typeof n&&n.endsWith("\n")){var r=m.default.create(N.blotName);this.parent.insertBefore(r,0===e?this:this.next),r.insertAt(0,n.slice(0,-1))}else u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(m.default.Embed);C.scope=m.default.Scope.BLOCK_BLOT;var N=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return a(t,e),l(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),s(t))},new p.default).insert("\n",s(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,r){n<=0||(m.default.query(i,m.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,r):u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,r),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var r=n.split("\n"),o=r.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var a=this;r.reduce(function(e,t){return a=a.split(e,!0),a.insertAt(0,t),t.length},e+o.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof v.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},r}}]),t}(m.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[b.default,m.default.Embed,w.default],t.bubbleFormats=s,t.BlockEmbed=C,t.default=N},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(t=(0,k.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t),t.theme&&t.theme!==L.DEFAULTS.theme){if(t.theme=L.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=A.default;var n=(0,k.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var i=Object.keys(n.modules).concat(Object.keys(t.modules)),r=i.reduce(function(e,t){var n=L.import("modules/"+t);return null==n?O.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,k.default)(!0,{},L.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function s(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===y.default.sources.USER)return new h.default;var r=null==n?null:this.getSelection(),o=this.editor.delta,a=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=u(r,a,t):0!==i&&(r=u(r,n,i,t)),this.setSelection(r,y.default.sources.SILENT)),a.length()>0){var s,l=[y.default.events.TEXT_CHANGE,a,o,t];if((s=this.emitter).emit.apply(s,[y.default.events.EDITOR_CHANGE].concat(l)),t!==y.default.sources.SILENT){var c;(c=this.emitter).emit.apply(c,l)}}return a}function l(e,t,n,i,r){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(r=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(r=i,i=n,n=t,t=0),"object"===(void 0===n?"undefined":c(n))?(o=n,r=i):"string"==typeof n&&(null!=i?o[n]=i:r=n),r=r||y.default.sources.API,[e,t,o,r]}function u(e,t,n,i){if(null==e)return null;var r=void 0,o=void 0;if(t instanceof h.default){var a=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,i!==y.default.sources.USER)}),s=d(a,2);r=s[0],o=s[1]}else{var l=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&i===y.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),u=d(l,2);r=u[0],o=u[1]}return new N.Range(r,o-r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(50);var p=n(2),h=i(p),m=n(14),g=i(m),v=n(8),y=i(v),b=n(9),x=i(b),w=n(0),C=i(w),N=n(15),E=i(N),T=n(3),k=i(T),_=n(10),S=i(_),U=n(34),A=i(U),O=(0,S.default)("quill"),L=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),this.options=a(t,i),this.container=this.options.container,null==this.container)return O.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=C.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(e){e===y.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(e,t){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;s.call(n,function(){return n.editor.update(null,t,r)},e)});var l=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(l),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),S.default.level(e)}},{key:"find",value:function(e){return e.__quill||C.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&O.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach(function(i){n.register(i,e[i],t)})}else null==this.imports[e]||i||O.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?C.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),f(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,r=l(e,t,n),o=d(r,4);return e=o[0],t=o[1],n=o[3],s.call(this,function(){return i.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.default.sources.API;return s.call(this,function(){var i=n.getSelection(!0),o=new h.default;if(null==i)return o;if(C.default.query(e,C.default.Scope.BLOCK))o=n.editor.formatLine(i.index,i.length,r({},e,t));else{if(0===i.length)return n.selection.format(e,t),o;o=n.editor.formatText(i.index,i.length,r({},e,t))}return n.setSelection(i,y.default.sources.SILENT),o},i)}},{key:"formatLine",value:function(e,t,n,i,r){var o=this,a=void 0,u=l(e,t,n,i,r),c=d(u,4);return e=c[0],t=c[1],a=c[2],r=c[3],s.call(this,function(){return o.editor.formatLine(e,t,a)},r,e,0)}},{key:"formatText",value:function(e,t,n,i,r){var o=this,a=void 0,u=l(e,t,n,i,r),c=d(u,4);return e=c[0],t=c[1],a=c[2],r=c[3],s.call(this,function(){return o.editor.formatText(e,t,a)},r,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),i=d(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),i=d(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return s.call(this,function(){return r.editor.insertEmbed(t,n,i)},o,t)}},{key:"insertText",value:function(e,t,n,i,r){var o=this,a=void 0,u=l(e,0,n,i,r),c=d(u,4);return e=c[0],a=c[2],r=c[3],s.call(this,function(){return o.editor.insertText(e,t,a)},r,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,r=l(e,t,n),o=d(r,4);return e=o[0],t=o[1],n=o[3],s.call(this,function(){return i.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API;return s.call(this,function(){e=new h.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),o=r.ops[r.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)},n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var r=l(t,n,i),o=d(r,4);t=o[0],n=o[1],i=o[3],this.selection.setRange(new N.Range(t,n),i),i!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API,n=(new h.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API;return s.call(this,function(){return e=new h.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=y.default.events,L.sources=y.default.sources,L.version="1.3.6",L.imports={delta:h.default,parchment:C.default,"core/module":x.default,"core/theme":A.default},t.expandConfig=a,t.overload=l,t.default=L},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=n(7),c=i(u),d=n(0),f=i(d),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"formatAt",value:function(e,n,i,r){if(t.compare(this.statics.blotName,i)<0&&f.default.query(i,f.default.Scope.BLOT)){var o=this.isolate(e,n);r&&o.wrap(i,r)}else l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r)}},{key:"optimize",value:function(e){if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),r=t.order.indexOf(n);return i>=0||r>=0?i-r:e===n?0:e<n?-1:1}}]),t}(f.default.Inline);p.allowedChildren=[p,f.default.Embed,c.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.default.Text);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=n(54),c=i(u),d=n(10),f=i(d),p=(0,f.default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){if(e.__quill&&e.__quill.emitter){var n;(n=e.__quill.emitter).handleDOM.apply(n,t)}})})});var h=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",p.error),e}return a(t,e),s(t,[{key:"emit",value:function(){p.log.apply(p,arguments),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach(function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(c.default);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},t.default=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";function i(e){if(o.indexOf(e)<=o.indexOf(a)){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=console)[e].apply(t,i)}}function r(e){return o.reduce(function(t,n){return t[n]=i.bind(console,n,e),t},{})}Object.defineProperty(t,"__esModule",{value:!0});var o=["error","warn","log","info"],a="warn";i.level=r.level=function(e){a=e},t.default=r},function(e,t,n){function i(e){return null===e||void 0===e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){var o,c;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=a.call(e),t=a.call(t),u(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var d=s(e),f=s(t)}catch(e){return!1}if(d.length!=f.length)return!1;for(d.sort(),f.sort(),o=d.length-1;o>=0;o--)if(d[o]!=f[o])return!1;for(o=d.length-1;o>=0;o--)if(c=d[o],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(52),l=n(53),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(2),d=i(c),f=n(0),p=i(f),h=n(4),m=i(h),g=n(6),v=i(g),y=n(7),b=i(y),x=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(v.default);x.blotName="code",x.tagName="CODE";var w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new d.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(b.default,this.length()-1),r=s(i,1),o=r[0];null!=o&&o.deleteAt(o.length()-1,1),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,r){if(0!==n&&null!=p.default.query(i,p.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var a=this.newlineIndex(e,!0)+1,s=o-a+1,l=this.isolate(a,s),u=l.next;l.format(i,r),u instanceof t&&u.formatAt(0,e-a+n-s,i,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(b.default,e),r=s(i,2),o=r[0],a=r[1];o.insertAt(a,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(p.default.create("text","\n")),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=p.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof p.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=u(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(m.default);w.blotName="code-block",w.tagName="PRE",w.TAB="  ",t.Code=x,t.default=w},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return Object.keys(t).reduce(function(n,i){return null==e[i]?n:(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]],n)},{})}function s(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,k.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||(t=(0,k.default)(t),t.attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)},new f.default)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=n(2),f=i(d),p=n(20),h=i(p),m=n(0),g=i(m),v=n(13),y=i(v),b=n(24),x=i(b),w=n(4),C=i(w),N=n(16),E=i(N),T=n(21),k=i(T),_=n(11),S=i(_),U=n(3),A=i(U),O=/^[ -~]*$/,L=function(){function e(t){o(this,e),this.scroll=t,this.delta=this.getDelta()}return c(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),e=s(e),e.reduce(function(e,r){var o=r.retain||r.delete||r.insert.length||1,a=r.attributes||{};if(null!=r.insert){if("string"==typeof r.insert){var s=r.insert;s.endsWith("\n")&&n&&(n=!1,s=s.slice(0,-1)),e>=i&&!s.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,s);var c=t.scroll.line(e),d=u(c,2),f=d[0],p=d[1],m=(0,A.default)({},(0,w.bubbleFormats)(f));if(f instanceof C.default){var v=f.descendant(g.default.Leaf,p),y=u(v,1),b=y[0];m=(0,A.default)(m,(0,w.bubbleFormats)(b))}a=h.default.attributes.diff(m,a)||{}}else if("object"===l(r.insert)){var x=Object.keys(r.insert)[0];if(null==x)return e;t.scroll.insertAt(e,x,r.insert[x])}i+=o}return Object.keys(a).forEach(function(n){t.scroll.formatAt(e,o,n,a[n])}),e+o},0),e.reduce(function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new f.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach(function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var o=n.scroll.lines(e,Math.max(t,1)),a=t;o.forEach(function(t){var o=t.length();if(t instanceof y.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,r,i[r])}else t.format(r,i[r]);a-=o})}}),this.scroll.optimize(),this.update((new f.default).retain(e).retain(t,(0,k.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach(function(r){n.scroll.formatAt(e,t,r,i[r])}),this.update((new f.default).retain(e).retain(t,(0,k.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new f.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach(function(e){var t=u(e,1),r=t[0];r instanceof C.default?n.push(r):r instanceof g.default.Leaf&&i.push(r)}):(n=this.scroll.lines(e,t),i=this.scroll.descendants(g.default.Leaf,e,t));var r=[n,i].map(function(e){if(0===e.length)return{};for(var t=(0,w.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=a((0,w.bubbleFormats)(n),t)}return t});return A.default.apply(A.default,r)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new f.default).retain(e).insert(r({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach(function(r){n.scroll.formatAt(e,t.length,r,i[r])}),this.update((new f.default).retain(e).insert(t,(0,k.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===C.default.blotName&&(!(e.children.length>1)&&e.children.head instanceof E.default)}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),r=u(i,2),o=r[0],a=r[1],s=0,l=new f.default;null!=o&&(s=o instanceof y.default?o.newlineIndex(a)-a+1:o.length()-a,l=o.delta().slice(a,a+s-1).insert("\n"));var c=this.getContents(e,t+s),d=c.diff((new f.default).insert(n).concat(l)),p=(new f.default).retain(e).concat(d);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(O)&&g.default.find(t[0].target)){var r=g.default.find(t[0].target),o=(0,w.bubbleFormats)(r),a=r.offset(this.scroll),s=t[0].oldValue.replace(x.default.CONTENTS,""),l=(new f.default).insert(s),u=(new f.default).insert(r.value());e=(new f.default).retain(a).concat(l.diff(u,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)},new f.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,S.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}]),e}();t.default=L},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),c=i(u),d=n(21),f=i(d),p=n(11),h=i(p),m=n(8),g=i(m),v=n(10),y=i(v),b=(0,y.default)("quill:selection"),x=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(this,e),this.index=t,this.length=n},w=function(){function e(t,n){var i=this;o(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||setTimeout(i.update.bind(i,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(e,t){e===g.default.events.TEXT_CHANGE&&t.length()>0&&i.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,r=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(r,o,a,s)}}),this.update(g.default.sources.SILENT)}return l(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!c.default.query(e,c.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=c.default.find(n.start.node,!1);if(null==i)return;if(i instanceof c.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,r=this.scroll.leaf(e),o=s(r,2),a=o[0],l=o[1];if(null==a)return null;var u=a.position(l,!0),c=s(u,2);i=c[0],l=c[1];var d=document.createRange();if(t>0){d.setStart(i,l);var f=this.scroll.leaf(e+t),p=s(f,2);if(a=p[0],l=p[1],null==a)return null;var h=a.position(l,!0),m=s(h,2);return i=m[0],l=m[1],d.setEnd(i,l),d.getBoundingClientRect()}var g="left",v=void 0;return i instanceof Text?(l<i.data.length?(d.setStart(i,l),d.setEnd(i,l+1)):(d.setStart(i,l-1),d.setEnd(i,l),g="right"),v=d.getBoundingClientRect()):(v=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return b.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map(function(e){var n=s(e,2),i=n[0],r=n[1],o=c.default.find(i,!0),a=o.offset(t.scroll);return 0===r?a:o instanceof c.default.Container?a+o.length():a+o.index(i,r)}),o=Math.min(Math.max.apply(Math,r(i)),this.scroll.length()-1),a=Math.min.apply(Math,[o].concat(r(i)));return new x(a,o-a)}},{key:"normalizeNative",value:function(e){if(!a(this.root,e.startContainer)||!e.collapsed&&!a(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;t=t.lastChild,n=t instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],r=this.scroll.length();return n.forEach(function(e,n){e=Math.min(r-1,e);var o=void 0,a=t.scroll.leaf(e),l=s(a,2),u=l[0],c=l[1],d=u.position(c,0!==n),f=s(d,2);o=f[0],c=f[1],i.push(o,c)}),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,r=this.scroll.line(Math.min(t.index,i)),o=s(r,1),a=o[0],l=a;if(t.length>0){var u=this.scroll.line(Math.min(t.index+t.length,i));l=s(u,1)[0]}if(null!=a&&null!=l){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(b.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default.sources.API;if("string"==typeof t&&(n=t,t=!1),b.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,r(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.sources.USER,t=this.lastRange,n=this.getRange(),i=s(n,2),r=i[0],o=i[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,h.default)(t,this.lastRange)){var a;!this.composing&&null!=o&&o.native.collapsed&&o.start.node!==this.cursor.textNode&&this.cursor.restore();var l=[g.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(t),e];if((a=this.emitter).emit.apply(a,[g.default.events.EDITOR_CHANGE].concat(l)),e!==g.default.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}}}]),e}();t.Range=x,t.default=w},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"insertInto",value:function(e,n){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(u.default.Embed);c.blotName="break",c.tagName="BR",t.default=c},function(e,t,n){"use strict";function i(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=i(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var i=this.children.find(n),r=i[0],o=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,o]:r instanceof t?r.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,function(n,i,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,i,o))),o-=a}),r},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,function(e,t,r){e.formatAt(t,r,n,i)})},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),r=i[0],o=i[1];if(r)r.insertAt(o,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),r=i[0],o=i[1],a=[[this,e]];return r instanceof t?a.concat(r.path(o,n)):(null!=r&&a.push([r,o]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,i,r){e=e.split(i,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],o=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),o.push.apply(o,e.removedNodes))}),o.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),r.filter(function(e){return e.parentNode==n.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=i(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})},t}(a.default);t.default=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(31),a=n(17),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return i(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=s.query(e);n instanceof r.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===i.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,i){var r=e.prototype.wrap.call(this,n,i);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(a.default);t.default=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){return e={},e[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=o.Scope.INLINE_BLOT,t}(r.default);t.default=a},function(e,t,n){function i(e){this.ops=e,this.index=0,this.offset=0}var r=n(11),o=n(3),a={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=o(!0,{},t);n||(i=Object.keys(i).reduce(function(e,t){return null!=i[t]&&(e[t]=i[t]),e},{}));for(var r in e)void 0!==e[r]&&void 0===t[r]&&(i[r]=e[r]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,i){return r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce(function(n,i){return void 0===e[i]&&(n[i]=t[i]),n},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new i(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};i.prototype.hasNext=function(){return this.peekLength()<1/0},i.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=a.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},i.prototype.peek=function(){return this.ops[this.index]},i.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},i.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=a},function(e,n){var i=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}function n(i,r,o,a,d){function f(i,o){if(null===i)return null;if(0===o)return i;var g,v;if("object"!=typeof i)return i;if(e(i,l))g=new l;else if(e(i,u))g=new u;else if(e(i,c))g=new c(function(e,t){i.then(function(t){e(f(t,o-1))},function(e){t(f(e,o-1))})});else if(n.__isArray(i))g=[];else if(n.__isRegExp(i))g=new RegExp(i.source,s(i)),i.lastIndex&&(g.lastIndex=i.lastIndex);else if(n.__isDate(i))g=new Date(i.getTime());else{if(m&&t.isBuffer(i))return g=new t(i.length),i.copy(g),g;e(i,Error)?g=Object.create(i):void 0===a?(v=Object.getPrototypeOf(i),g=Object.create(v)):(g=Object.create(a),v=a)}if(r){var y=p.indexOf(i);if(-1!=y)return h[y];p.push(i),h.push(g)}e(i,l)&&i.forEach(function(e,t){var n=f(t,o-1),i=f(e,o-1);g.set(n,i)}),e(i,u)&&i.forEach(function(e){var t=f(e,o-1);g.add(t)});for(var b in i){var x;v&&(x=Object.getOwnPropertyDescriptor(v,b)),x&&null==x.set||(g[b]=f(i[b],o-1))}if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(i),b=0;b<w.length;b++){var C=w[b],N=Object.getOwnPropertyDescriptor(i,C);(!N||N.enumerable||d)&&(g[C]=f(i[C],o-1),N.enumerable||Object.defineProperty(g,C,{enumerable:!1}))}if(d)for(var E=Object.getOwnPropertyNames(i),b=0;b<E.length;b++){var T=E[b],N=Object.getOwnPropertyDescriptor(i,T);N&&N.enumerable||(g[T]=f(i[T],o-1),Object.defineProperty(g,T,{enumerable:!1}))}return g}"object"==typeof r&&(o=r.depth,a=r.prototype,d=r.includeNonEnumerable,r=r.circular);var p=[],h=[],m=void 0!==t;return void 0===r&&(r=!0),void 0===o&&(o=1/0),f(i,o)}function i(e){return Object.prototype.toString.call(e)}function r(e){return"object"==typeof e&&"[object Date]"===i(e)}function o(e){return"object"==typeof e&&"[object Array]"===i(e)}function a(e){return"object"==typeof e&&"[object RegExp]"===i(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var l;try{l=Map}catch(e){l=function(){}}var u;try{u=Set}catch(e){u=function(){}}var c;try{c=Promise}catch(e){c=function(){}}return n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},n.__objToStr=i,n.__isDate=r,n.__isArray=o,n.__isRegExp=a,n.__getRegExpFlags=s,n}();"object"==typeof e&&e.exports&&(e.exports=i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e instanceof g.default||e instanceof m.BlockEmbed}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},d=n(0),f=i(d),p=n(8),h=i(p),m=n(4),g=i(m),v=n(16),y=i(v),b=n(13),x=i(b),w=n(25),C=i(w),N=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),i.domNode.addEventListener("DOMNodeInserted",function(){}),i.optimize(),i.enable(),i}return a(t,e),u(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var i=this.line(e),r=l(i,2),o=r[0],a=r[1],s=this.line(e+n),u=l(s,1),d=u[0];if(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=d&&o!==d&&a>0){if(o instanceof m.BlockEmbed||d instanceof m.BlockEmbed)return void this.optimize();if(o instanceof x.default){var f=o.newlineIndex(o.length(),!0);if(f>-1&&(o=o.split(f+1))===d)return void this.optimize()}else if(d instanceof x.default){var p=d.newlineIndex(0);p>-1&&d.split(p+1)}var h=d.children.head instanceof y.default?null:d.children.head;o.moveChildren(d,h),o.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,r){(null==this.whitelist||this.whitelist[i])&&(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==f.default.query(n,f.default.Scope.BLOCK)){var r=f.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var o=f.default.create(n,i);this.appendChild(o)}else c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===f.default.Scope.INLINE_BLOT){var i=f.default.create(this.statics.defaultChild);i.appendChild(e),e=i}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(s,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function e(t,n,i){var r=[],o=i;return t.children.forEachAt(n,i,function(t,n,i){s(t)?r.push(t):t instanceof f.default.Container&&(r=r.concat(e(t,n,o))),o-=i}),r}(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=h.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,n,e),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,n,e)}}}]),t}(f.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[g.default,m.BlockEmbed,C.default],t.default=N},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n,i=e===q.keys.LEFT?"prefix":"suffix";return n={key:e,shiftKey:t,altKey:null},r(n,i,/^$/),r(n,"handler",function(n){var i=n.index;e===q.keys.RIGHT&&(i+=n.length+1);var r=this.quill.getLeaf(i);return!(v(r,1)[0]instanceof A.default.Embed)||(e===q.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,L.default.sources.USER):this.quill.setSelection(n.index-1,L.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,L.default.sources.USER):this.quill.setSelection(n.index+n.length+1,L.default.sources.USER),!1)}),n}function u(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),i=v(n,1),r=i[0],o={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=v(a,1),l=s[0];if(null!=l&&l.length()>1){var u=r.formats(),c=this.quill.getFormat(e.index-1,1);o=S.default.attributes.diff(u,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,L.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-d,d,o,L.default.sources.USER),this.quill.focus()}}function c(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},r=0,o=this.quill.getLine(e.index),a=v(o,1),s=a[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),u=v(l,1),c=u[0];if(c){var d=s.formats(),f=this.quill.getFormat(e.index,1);i=S.default.attributes.diff(d,f)||{},r=c.length()}}this.quill.deleteText(e.index,n,L.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+r-1,n,i,L.default.sources.USER)}}function d(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),r=t[t.length-1].formats();n=S.default.attributes.diff(r,i)||{}}this.quill.deleteText(e,L.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,L.default.sources.USER),this.quill.setSelection(e.index,L.default.sources.SILENT),this.quill.focus()}function f(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce(function(e,n){return A.default.query(n,A.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",i,L.default.sources.USER),this.quill.setSelection(e.index+1,L.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],L.default.sources.USER))})}function p(e){return{key:q.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=A.default.query("code-block"),i=t.index,r=t.length,o=this.quill.scroll.descendant(n,i),a=v(o,2),s=a[0],l=a[1];if(null!=s){var u=this.quill.getIndex(s),c=s.newlineIndex(l,!0)+1,d=s.newlineIndex(u+l+r),f=s.domNode.textContent.slice(c,d).split("\n");l=0,f.forEach(function(t,o){e?(s.insertAt(c+l,n.TAB),l+=n.TAB.length,0===o?i+=n.TAB.length:r+=n.TAB.length):t.startsWith(n.TAB)&&(s.deleteAt(c+l,n.TAB.length),l-=n.TAB.length,0===o?i-=n.TAB.length:r-=n.TAB.length),l+=t.length+1}),this.quill.update(L.default.sources.USER),this.quill.setSelection(i,r,L.default.sources.SILENT)}}}}function h(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],L.default.sources.USER)}}}function m(e){if("string"==typeof e||"number"==typeof e)return m({key:e});if("object"===(void 0===e?"undefined":g(e))&&(e=(0,x.default)(e,!1)),"string"==typeof e.key)if(null!=q.keys[e.key.toUpperCase()])e.key=q.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[j]=e.shortKey,delete e.shortKey),e}Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),b=n(21),x=i(b),w=n(11),C=i(w),N=n(3),E=i(N),T=n(2),k=i(T),_=n(20),S=i(_),U=n(0),A=i(U),O=n(5),L=i(O),B=n(10),R=i(B),P=n(9),I=i(P),D=(0,R.default)("quill:keyboard"),j=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(e){function t(e,n){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])}),i.addBinding({key:t.keys.ENTER,shiftKey:null},f),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},u),i.addBinding({key:t.keys.DELETE},{collapsed:!0},c)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},u),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},c)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},d),i.addBinding({key:t.keys.DELETE},{collapsed:!1},d),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},u),i.listen(),i}return s(t,e),y(t,null,[{key:"match",value:function(e,t){return t=m(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),y(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=m(e);if(null==i||null==i.key)return D.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=(0,E.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,r=(e.bindings[i]||[]).filter(function(e){return t.match(n,e)});if(0!==r.length){var o=e.quill.getSelection();if(null!=o&&e.quill.hasFocus()){var a=e.quill.getLine(o.index),s=v(a,2),l=s[0],u=s[1],c=e.quill.getLeaf(o.index),d=v(c,2),f=d[0],p=d[1],h=0===o.length?[f,p]:e.quill.getLeaf(o.index+o.length),m=v(h,2),y=m[0],b=m[1],x=f instanceof A.default.Text?f.value().slice(0,p):"",w=y instanceof A.default.Text?y.value().slice(b):"",N={collapsed:0===o.length,empty:0===o.length&&l.length()<=1,format:e.quill.getFormat(o),offset:u,prefix:x,suffix:w};r.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===g(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,C.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix))&&(!(null!=t.suffix&&!t.suffix.test(N.suffix))&&!0!==t.handler.call(e,o,N))})&&n.preventDefault()}}}})}}]),t}(I.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:h("bold"),italic:h("italic"),underline:h("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",L.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",L.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",L.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,L.default.sources.USER)}},"indent code-block":p(!0),"outdent code-block":p(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,L.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new k.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,L.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,L.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,L.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=v(t,2),i=n[0],r=n[1],o=(0,E.default)({},i.formats(),{list:"checked"}),a=(new k.default).retain(e.index).insert("\n",o).retain(i.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,L.default.sources.USER),this.quill.setSelection(e.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),i=v(n,2),r=i[0],o=i[1],a=(new k.default).retain(e.index).insert("\n",t.format).retain(r.length()-o-1).retain(1,{header:null});this.quill.updateContents(a,L.default.sources.USER),this.quill.setSelection(e.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,i=this.quill.getLine(e.index),r=v(i,2),o=r[0],a=r[1];if(a>n)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",L.default.sources.USER),this.quill.history.cutoff();var l=(new k.default).retain(e.index-a).delete(n+1).retain(o.length()-2-a).retain(1,{list:s});this.quill.updateContents(l,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,L.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=v(t,2),i=n[0],r=n[1],o=(new k.default).retain(e.index+i.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,L.default.sources.USER)}},"embed left":l(q.keys.LEFT,!1),"embed left shift":l(q.keys.LEFT,!0),"embed right":l(q.keys.RIGHT,!1),"embed right shift":l(q.keys.RIGHT,!0)}},t.default=q,t.SHORTKEY=j},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),d=i(c),f=n(7),p=i(f),h=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return a(t,e),u(t,null,[{key:"value",value:function(){}}]),u(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,r=0;null!=i&&i.statics.scope!==d.default.Scope.BLOCK_BLOT;)r+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(r,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),i=void 0,r=void 0,o=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var a=[e,n.start.offset,n.end.offset];i=a[0],r=a[1],o=a[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var l=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof p.default?(i=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=t.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var u=[r,o].map(function(e){return Math.max(0,Math.min(i.data.length,e-1))}),c=s(u,2);return r=c[0],o=c[1],{startNode:i,startOffset:r,endNode:i,endOffset:o}}}}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(d.default.Embed);h.blotName="cursor",h.className="ql-cursor",h.tagName="span",h.CONTENTS="\ufeff",t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=i(s),u=n(4),c=i(u),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(l.default.Container);d.allowedChildren=[c.default,u.BlockEmbed,d],t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"value",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):n}}]),t}(u.default.Attributor.Style),d=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),f=new c("color","color",{scope:u.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=d,t.ColorStyle=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=n(6),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return a(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(c.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=d,t.sanitize=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(23),u=i(l),c=n(107),d=i(c),f=0,p=function(){function e(t){var n=this;r(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case u.default.keys.ENTER:n.togglePicker();break;case u.default.keys.ESCAPE:n.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return s(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),o(this.label,"aria-expanded"),o(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n.addEventListener("keydown",function(e){switch(e.keyCode){case u.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case u.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=d.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(n){var i=e.buildItem(n);t.appendChild(i),!0===n.selected&&e.selectItem(i)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":a(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=i(r),a=n(5),s=i(a),l=n(4),u=i(l),c=n(16),d=i(c),f=n(25),p=i(f),h=n(24),m=i(h),g=n(35),v=i(g),y=n(6),b=i(y),x=n(22),w=i(x),C=n(7),N=i(C),E=n(55),T=i(E),k=n(42),_=i(k),S=n(23),U=i(S);s.default.register({"blots/block":u.default,"blots/block/embed":l.BlockEmbed,"blots/break":d.default,"blots/container":p.default,"blots/cursor":m.default,"blots/embed":v.default,"blots/inline":b.default,"blots/scroll":w.default,"blots/text":N.default,"modules/clipboard":T.default,"modules/history":_.default,"modules/keyboard":U.default}),o.default.register(u.default,d.default,m.default,b.default,w.default,N.default),t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var o=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);o.wrap(a),a.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?i.create("text",t):i.create(t,n),o=this.split(e);this.parent.insertBefore(r,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r=n(32),o=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=o.default.keys(this.domNode);t.concat(n).concat(s).forEach(function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=s},function(e,t,n){"use strict";function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=i(e,this.keyName)[0]||"",n=t.slice(this.keyName.length+1);return this.canAdd(e,n)?n:""},t}(o.default);t.default=a},function(e,t,n){"use strict";function i(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(o.default);t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){i(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=n(0),c=i(u),d=n(7),f=i(d),p="\ufeff",h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(p),n.rightGuard=document.createTextNode(p),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return a(t,e),s(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,i=e.data.split(p).join("");if(e===this.leftGuard)if(this.prev instanceof f.default){var r=this.prev.length();this.prev.insertAt(r,i),t={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(c.default.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(c.default.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=p,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}})}}]),t}(c.default.Embed);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new r.default.Attributor.Attribute("align","align",o),s=new r.default.Attributor.Class("align","ql-align",o),l=new r.default.Attributor.Style("align","text-align",o);t.AlignAttribute=a,t.AlignClass=s,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(26),a=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),s=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},a=new r.default.Attributor.Attribute("direction","dir",o),s=new r.default.Attributor.Class("direction","ql-direction",o),l=new r.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=a,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new u.default.Attributor.Class("font","ql-font",c),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(u.default.Attributor.Style),p=new f("font","font-family",c);t.FontStyle=p,t.FontClass=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=a},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=d.default.query(e,d.default.Scope.BLOCK)}))}function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),n=e.length()-t;return s(e)&&(n-=1),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),d=i(c),f=n(5),p=i(f),h=n(9),m=i(h),g=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(p.default.events.EDITOR_CHANGE,function(e,t,n,r){e!==p.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==p.default.sources.USER?i.transform(t):i.record(t,n))}),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return a(t,e),u(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],p.default.sources.USER),this.ignoreChange=!1;var i=l(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(m.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=g,t.getLastChangeIndex=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},d=n(3),f=i(d),p=n(2),h=i(p),m=n(8),g=i(m),v=n(23),y=i(v),b=n(34),x=i(b),w=n(59),C=i(w),N=n(60),E=i(N),T=n(28),k=i(T),_=n(61),S=i(_),U=[!1,"center","right","justify"],A=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],O=[!1,"serif","monospace"],L=["1","2","3",!1],B=["small",!1,"large","huge"],R=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})};return e.emitter.listenDOM("click",document.body,a),i}return a(t,e),u(t,[{key:"addModule",value:function(e){var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&l(e,U),new E.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&l(e,A,"background"===n?"#ffffff":"#000000"),new C.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?l(e,O):e.classList.contains("ql-header")?l(e,L):e.classList.contains("ql-size")&&l(e,B)),new k.default(e)});var i=function(){n.pickers.forEach(function(e){e.update()})};this.quill.on(g.default.events.EDITOR_CHANGE,i)}}]),t}(x.default);R.DEFAULTS=(0,f.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new h.default).retain(i.index).delete(i.length).insert({image:n.target.result}),g.default.sources.USER),e.quill.setSelection(i.index+1,g.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var P=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return a(t,e),u(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){y.default.match(t,"enter")?(e.save(),t.preventDefault()):y.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,g.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,g.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=s(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,g.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",g.default.sources.USER),this.quill.setSelection(i+2,g.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(S.default);t.BaseTooltip=P,t.default=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,r=this.find(e),o=r[0],a=r[1],s=e-a,l=this.iterator(o);(i=l())&&s<e+t;){var u=i.length();e>s?n(i,e-s,Math.min(t,s+u-e)):n(i,0,Math.min(u,e+t-s)),s+=u}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,a),n.attach(),n}return i(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,r){this.update(),e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var a=[].slice.call(this.observer.takeRecords());a.length>0;)t.push(a.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof r.default&&e.children.forEach(l),e.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=o.find(e,!1);s(t,!1),t instanceof r.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(l),u=[].slice.call(this.observer.takeRecords()),a=u.slice();a.length>0;)t.push(a.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),t=t||this.observer.takeRecords(),t.map(function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==i&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)}),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(r.default);t.default=s},function(e,t,n){"use strict";function i(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var r=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach(function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,i,r){if(null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)){this.isolate(t,n).format(i,r)}else e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&i(r,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){var i=o.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,r){null!=o.query(i,o.Scope.BLOCK)?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var r=this.split(t),a=o.create(n,i);r.parent.insertBefore(a,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(r.default);t.default=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,r){0===t&&n===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(1),a=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return i(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(r.default);t.default=a},function(e,t,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){function n(e,t,n){if(e==t)return e?[[g,e]]:[];(n<0||e.length<n)&&(n=null);var r=a(e,t),o=e.substring(0,r);e=e.substring(r),t=t.substring(r),r=s(e,t);var l=e.substring(e.length-r);e=e.substring(0,e.length-r),t=t.substring(0,t.length-r);var c=i(e,t);return o&&c.unshift([g,o]),l&&c.push([g,l]),u(c),null!=n&&(c=d(c,n)),c=f(c)}function i(e,t){var i;if(!e)return[[m,t]];if(!t)return[[h,e]];var o=e.length>t.length?e:t,a=e.length>t.length?t:e,s=o.indexOf(a);if(-1!=s)return i=[[m,o.substring(0,s)],[g,a],[m,o.substring(s+a.length)]],e.length>t.length&&(i[0][0]=i[2][0]=h),i;if(1==a.length)return[[h,e],[m,t]];var u=l(e,t);if(u){var c=u[0],d=u[1],f=u[2],p=u[3],v=u[4],y=n(c,f),b=n(d,p);return y.concat([[g,v]],b)}return r(e,t)}function r(e,t){for(var n=e.length,i=t.length,r=Math.ceil((n+i)/2),a=r,s=2*r,l=new Array(s),u=new Array(s),c=0;c<s;c++)l[c]=-1,u[c]=-1;l[a+1]=0,u[a+1]=0;for(var d=n-i,f=d%2!=0,p=0,g=0,v=0,y=0,b=0;b<r;b++){for(var x=-b+p;x<=b-g;x+=2){var w,C=a+x;w=x==-b||x!=b&&l[C-1]<l[C+1]?l[C+1]:l[C-1]+1;for(var N=w-x;w<n&&N<i&&e.charAt(w)==t.charAt(N);)w++,N++;if(l[C]=w,w>n)g+=2;else if(N>i)p+=2;else if(f){var E=a+d-x;if(E>=0&&E<s&&-1!=u[E]){var T=n-u[E];if(w>=T)return o(e,t,w,N)}}}for(var k=-b+v;k<=b-y;k+=2){var T,E=a+k;T=k==-b||k!=b&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1;for(var _=T-k;T<n&&_<i&&e.charAt(n-T-1)==t.charAt(i-_-1);)T++,_++;if(u[E]=T,T>n)y+=2;else if(_>i)v+=2;else if(!f){var C=a+d-k;if(C>=0&&C<s&&-1!=l[C]){var w=l[C],N=a+w-C;if(T=n-T,w>=T)return o(e,t,w,N)}}}}return[[h,e],[m,t]]}function o(e,t,i,r){var o=e.substring(0,i),a=t.substring(0,r),s=e.substring(i),l=t.substring(r),u=n(o,a),c=n(s,l);return u.concat(c)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function l(e,t){function n(e,t,n){for(var i,r,o,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var f=a(e.substring(n),t.substring(c)),p=s(e.substring(0,n),t.substring(0,c));d.length<p+f&&(d=t.substring(c-p,c)+t.substring(c,c+f),i=e.substring(0,n-p),r=e.substring(n+f),o=t.substring(0,c-p),l=t.substring(c+f))}return 2*d.length>=e.length?[i,r,o,l,d]:null}var i=e.length>t.length?e:t,r=e.length>t.length?t:e;if(i.length<4||2*r.length<i.length)return null;var o,l=n(i,r,Math.ceil(i.length/4)),u=n(i,r,Math.ceil(i.length/2));if(!l&&!u)return null;o=u?l&&l[4].length>u[4].length?l:u:l;var c,d,f,p;return e.length>t.length?(c=o[0],d=o[1],f=o[2],p=o[3]):(f=o[0],p=o[1],c=o[2],d=o[3]),[c,d,f,p,o[4]]}function u(e){e.push([g,""]);for(var t,n=0,i=0,r=0,o="",l="";n<e.length;)switch(e[n][0]){case m:r++,l+=e[n][1],n++;break;case h:i++,o+=e[n][1],n++;break;case g:i+r>1?(0!==i&&0!==r&&(t=a(l,o),0!==t&&(n-i-r>0&&e[n-i-r-1][0]==g?e[n-i-r-1][1]+=l.substring(0,t):(e.splice(0,0,[g,l.substring(0,t)]),n++),l=l.substring(t),o=o.substring(t)),0!==(t=s(l,o))&&(e[n][1]=l.substring(l.length-t)+e[n][1],l=l.substring(0,l.length-t),o=o.substring(0,o.length-t))),0===i?e.splice(n-r,i+r,[m,l]):0===r?e.splice(n-i,i+r,[h,o]):e.splice(n-i-r,i+r,[h,o],[m,l]),n=n-i-r+(i?1:0)+(r?1:0)+1):0!==n&&e[n-1][0]==g?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,r=0,i=0,o="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(n=1;n<e.length-1;)e[n-1][0]==g&&e[n+1][0]==g&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),c=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),c=!0)),n++;c&&u(e)}function c(e,t){if(0===t)return[g,e];for(var n=0,i=0;i<e.length;i++){var r=e[i];if(r[0]===h||r[0]===g){var o=n+r[1].length;if(t===o)return[i+1,e];if(t<o){e=e.slice();var a=t-n,s=[r[0],r[1].slice(0,a)],l=[r[0],r[1].slice(a)];return e.splice(i,1,s,l),[i+1,e]}n=o}}throw new Error("cursor_pos is out of bounds!")}function d(e,t){var n=c(e,t),i=n[1],r=n[0],o=i[r],a=i[r+1];if(null==o)return e;if(o[0]!==g)return e;if(null!=a&&o[1]+a[1]===a[1]+o[1])return i.splice(r,2,a,o),p(i,r,2);if(null!=a&&0===a[1].indexOf(o[1])){i.splice(r,2,[a[0],o[1]],[0,o[1]]);var s=a[1].slice(o[1].length);return s.length>0&&i.splice(r+2,0,[a[0],s]),p(i,r,3)}return e}function f(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},i=2;i<e.length;i+=1)e[i-2][0]===g&&function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319}(e[i-2][1])&&e[i-1][0]===h&&n(e[i-1][1])&&e[i][0]===m&&n(e[i][1])&&(t=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));if(!t)return e;for(var r=[],i=0;i<e.length;i+=1)e[i][1].length>0&&r.push(e[i]);return r}function p(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var r=e[i],o=e[i+1];r[0]===o[1]&&e.splice(i,2,[r[0],r[1]+o[1]])}return e}var h=-1,m=1,g=0,v=n;v.INSERT=m,v.DELETE=h,v.EQUAL=g,e.exports=v},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:i,t.supported=n,t.unsupported=i},function(e,t){"use strict";function n(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(){this._events=new n,this._eventsCount=0}var o=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),r.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)o.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},r.prototype.listeners=function(e,t){var n=a?a+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},r.prototype.emit=function(e,t,n,i,r,o){var s=a?a+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,r),!0;case 6:return c.fn.call(c.context,t,n,i,r,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},r.prototype.on=function(e,t,n){var r=new i(t,n||this),o=a?a+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},r.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),o=a?a+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},r.prototype.removeListener=function(e,t,i,r){var o=a?a+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||r&&!s[l].once||i&&s[l].context!==i)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},r.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=a,r.EventEmitter=r,void 0!==e&&(e.exports=r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return"object"===(void 0===t?"undefined":N(t))?Object.keys(t).reduce(function(e,n){return l(e,n,t[n])},e):e.reduce(function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,_.default)({},r({},t,n),i.attributes))},new U.default)}function u(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function c(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var r=e.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function d(e){return 0!==e.childNodes.length&&["block","list-item"].indexOf(u(e).display)>-1}function f(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce(function(t,n){return n(e,t)},new U.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(i,r){var o=f(r,t,n);return r.nodeType===e.ELEMENT_NODE&&(o=t.reduce(function(e,t){return t(r,e)},o),o=(r[Y]||[]).reduce(function(e,t){return t(r,e)},o)),i.concat(o)},new U.default):new U.default}function p(e,t,n){return l(n,e,!0)}function h(e,t){var n=O.default.Attributor.Attribute.keys(e),i=O.default.Attributor.Class.keys(e),r=O.default.Attributor.Style.keys(e),o={};return n.concat(i).concat(r).forEach(function(t){var n=O.default.query(t,O.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(n=K[t],null==n||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=G[t])||n.attrName!==t&&n.keyName!==t||(n=G[t],o[n.attrName]=n.value(e)||void 0))}),Object.keys(o).length>0&&(t=l(t,o)),t}function m(e,t){var n=O.default.query(e);if(null==n)return t;if(n.prototype instanceof O.default.Embed){var i={},r=n.value(e);null!=r&&(i[n.blotName]=r,t=(new U.default).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(t=l(t,n.blotName,n.formats(e)));return t}function g(e,t){return c(t,"\n")||t.insert("\n"),t}function v(){return new U.default}function y(e,t){var n=O.default.query(e);if(null==n||"list-item"!==n.blotName||!c(t,"\n"))return t;for(var i=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(O.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?t:t.compose((new U.default).retain(t.length()-1).retain(1,{indent:i}))}function b(e,t){return c(t,"\n")||(d(e)||t.length()>0&&e.nextSibling&&d(e.nextSibling))&&t.insert("\n"),t}function x(e,t){if(d(e)&&null!=e.nextElementSibling&&!c(t,"\n\n")){var n=e.offsetHeight+parseFloat(u(e).marginTop)+parseFloat(u(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function w(e,t){var n={},i=e.style||{};return i.fontStyle&&"italic"===u(e).fontStyle&&(n.italic=!0),i.fontWeight&&(u(e).fontWeight.startsWith("bold")||parseInt(u(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=l(t,n)),parseFloat(i.textIndent||0)>0&&(t=(new U.default).insert("\t").concat(t)),t}function C(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!u(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return t=t.replace(/[^\u00a0]/g,""),t.length<1&&e?" ":t};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&d(e.parentNode)||null!=e.previousSibling&&d(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&d(e.parentNode)||null!=e.nextSibling&&d(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=n(3),_=i(k),S=n(2),U=i(S),A=n(0),O=i(A),L=n(5),B=i(L),R=n(10),P=i(R),I=n(9),D=i(I),j=n(36),q=n(37),M=n(13),H=i(M),F=n(26),$=n(38),z=n(39),V=n(40),W=(0,P.default)("quill:clipboard"),Y="__ql-matcher",X=[[Node.TEXT_NODE,C],[Node.TEXT_NODE,b],["br",g],[Node.ELEMENT_NODE,b],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,x],[Node.ELEMENT_NODE,h],[Node.ELEMENT_NODE,w],["li",y],["b",p.bind(p,"bold")],["i",p.bind(p,"italic")],["style",v]],K=[j.AlignAttribute,$.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),G=[j.AlignStyle,q.BackgroundStyle,F.ColorStyle,$.DirectionStyle,z.FontStyle,V.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),Z=function(e){function t(e,n){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],X.concat(i.options.matchers).forEach(function(e){var t=E(e,2),r=t[0],o=t[1];(n.matchVisual||o!==x)&&i.addMatcher(r,o)}),i}return s(t,e),T(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[H.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new U.default).insert(n,r({},H.default.blotName,t[H.default.blotName]))}var i=this.prepareMatching(),o=E(i,2),a=o[0],s=o[1],l=f(this.container,a,s);return c(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new U.default).retain(l.length()-1).delete(1))),W.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,B.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new U.default).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),B.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new U.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(B.default.sources.SILENT),setTimeout(function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,B.default.sources.USER),t.quill.setSelection(i.length()-n.length,B.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(i){var r=E(i,2),o=r[0],a=r[1];switch(o){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(o),function(e){e[Y]=e[Y]||[],e[Y].push(a)})}}),[t,n]}}]),t}(D.default);Z.DEFAULTS={matchers:[],matchVisual:!0},t.default=Z,t.matchAttributor=h,t.matchBlot=m,t.matchNewline=b,t.matchSpacing=x,t.matchText=C},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(u.default);c.blotName="bold",c.tagName=["STRONG","B"],t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function u(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)l(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?c(n,t,i):l(n,t,i)}}),e.appendChild(n)})}function c(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)}),e.appendChild(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var d=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=n(2),h=i(p),m=n(0),g=i(m),v=n(5),y=i(v),b=n(10),x=i(b),w=n(9),C=i(w),N=(0,x.default)("quill:toolbar"),E=function(e){function t(e,n){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(i.options.container)){var r=document.createElement("div");u(r,i.options.container),e.container.parentNode.insertBefore(r,e.container),i.container=r}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;if(!(i.container instanceof HTMLElement)){var s;return s=N.error("Container required for toolbar",i.options),a(i,s)}return i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(e){i.addHandler(e,i.options.handlers[e])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(e){i.attach(e)}),i.quill.on(y.default.events.EDITOR_CHANGE,function(e,t){e===y.default.events.SELECTION_CHANGE&&i.update(t)}),i.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){var e=i.quill.selection.getRange(),t=d(e,1),n=t[0];i.update(n)}),i}return s(t,e),f(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void N.warn("ignoring attaching to disabled format",n,e);if(null==g.default.query(n))return void N.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,function(i){var o=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var a=e.options[e.selectedIndex];o=!a.hasAttribute("selected")&&(a.value||!1)}else o=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var s=t.quill.selection.getRange(),l=d(s,1),u=l[0];if(null!=t.handlers[n])t.handlers[n].call(t,o);else if(g.default.query(n).prototype instanceof g.default.Embed){if(!(o=prompt("Enter "+n)))return;t.quill.updateContents((new h.default).retain(u.index).delete(u.length).insert(r({},n,o)),y.default.sources.USER)}else t.quill.format(n,o,y.default.sources.USER);t.update(u)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var i=d(n,2),r=i[0],o=i[1];if("SELECT"===o.tagName){var a=void 0;if(null==e)a=null;else if(null==t[r])a=o.querySelector("option[selected]");else if(!Array.isArray(t[r])){var s=t[r];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),a=o.querySelector('option[value="'+s+'"]')}null==a?(o.value="",o.selectedIndex=-1):a.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var l=t[r]===o.getAttribute("value")||null!=t[r]&&t[r].toString()===o.getAttribute("value")||null==t[r]&&!o.getAttribute("value");o.classList.toggle("ql-active",l)}else o.classList.toggle("ql-active",null!=t[r])})}}]),t}(C.default);E.DEFAULTS={},E.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=g.default.query(t,g.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,y.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",y.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,y.default.sources.USER),this.quill.format("direction",e,y.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,y.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,y.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,y.default.sources.USER):this.quill.format("list","unchecked",y.default.sources.USER):this.quill.format("list",e,y.default.sources.USER)}}},t.default=E,t.addControls=u},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(28),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.label.innerHTML=n,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),o}return o(t,e),a(t,[{key:"buildItem",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),r=e?e.getAttribute("data-value")||"":"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(28),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return o(t,e),a(t,[{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){var r=this;i(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=t+o+"px"),r.left<i.left&&(o=i.left-r.left,this.root.style.left=t+o+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(3),d=i(c),f=n(8),p=i(f),h=n(43),m=i(h),g=n(27),v=i(g),y=n(15),b=n(41),x=i(b),w=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(e){function t(e,n){r(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=w);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return a(t,e),u(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),x.default),this.tooltip=new N(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}(m.default);C.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var N=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return a(t,e),u(t,[{key:"listen",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,p.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(p.default.events.SELECTION_CHANGE,function(t,n,i){if(null!=t){if(0===t.length&&i===p.default.sources.USER){var r=e.quill.scroll.descendant(v.default,t.index),o=s(r,2),a=o[0],l=o[1];if(null!=a){e.linkRange=new y.Range(t.index-l,a.length());var u=v.default.formats(a.domNode);return e.preview.textContent=u,e.preview.setAttribute("href",u),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(h.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=C},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),o=i(r),a=n(36),s=n(38),l=n(64),u=n(65),c=i(u),d=n(66),f=i(d),p=n(67),h=i(p),m=n(37),g=n(26),v=n(39),y=n(40),b=n(56),x=i(b),w=n(68),C=i(w),N=n(27),E=i(N),T=n(69),k=i(T),_=n(70),S=i(_),U=n(71),A=i(U),O=n(72),L=i(O),B=n(73),R=i(B),P=n(13),I=i(P),D=n(74),j=i(D),q=n(75),M=i(q),H=n(57),F=i(H),$=n(41),z=i($),V=n(28),W=i(V),Y=n(59),X=i(Y),K=n(60),G=i(K),Z=n(61),Q=i(Z),J=n(108),ee=i(J),te=n(62),ne=i(te);o.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":y.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":l.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":y.SizeClass,"formats/blockquote":c.default,"formats/code-block":I.default,"formats/header":f.default,"formats/list":h.default,"formats/bold":x.default,"formats/code":P.Code,"formats/italic":C.default,"formats/link":E.default,"formats/script":k.default,"formats/strike":S.default,"formats/underline":A.default,"formats/image":L.default,"formats/video":R.default,"formats/list/item":p.ListItem,"modules/formula":j.default,"modules/syntax":M.default,"modules/toolbar":F.default,"themes/bubble":ee.default,"themes/snow":ne.default,"ui/icons":z.default,"ui/picker":W.default,"ui/icon-picker":G.default,"ui/color-picker":X.default,"ui/tooltip":Q.default},!0),t.default=o.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(u.default.Attributor.Class),d=new c("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.default);l.blotName="blockquote",l.tagName="blockquote",t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(l.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(0),d=i(c),f=n(4),p=i(f),h=n(25),m=i(h),g=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"format",value:function(e,n){e!==v.blotName||n?u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(d.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:u(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(p.default);g.blotName="list-item",g.tagName="LI";var v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),r=d.default.find(t.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),n}return s(t,e),l(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=u(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),l(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return r({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,n){if(e instanceof g)u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),r=this.split(i);r.parent.insertBefore(e,r)}}},{key:"optimize",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=d.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(m.default);v.blotName="list",v.scope=d.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[g],t.ListItem=g,t.default=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.default);l.blotName="italic",l.tagName=["EM","I"],t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(u.default);c.blotName="script",c.tagName=["SUB","SUP"],t.default=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.default);l.blotName="strike",l.tagName="S",t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.default);l.blotName="underline",l.tagName="U",t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(27),d=["alt","height","width"],f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,c.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(u.default.Embed);f.blotName="image",f.tagName="IMG",t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=n(4),u=n(27),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=["height","width"],f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return c.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.BlockEmbed);f.blotName="video",f.className="ql-video",f.tagName="IFRAME",t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=n(35),c=i(u),d=n(5),f=i(d),p=n(9),h=i(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,null,[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(c.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return a(t,e),s(t,null,[{key:"register",value:function(){f.default.register(m,!0)}}]),t}(h.default);t.FormulaBlot=m,t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=n(0),c=i(u),d=n(5),f=i(d),p=n(9),h=i(p),m=n(13),g=i(m),v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(g.default);v.className="ql-syntax";var y=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),b=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return i.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(a),a=setTimeout(function(){i.highlight(),a=null},i.options.interval)}),i.highlight(),i}return a(t,e),s(t,null,[{key:"register",value:function(){f.default.register(y,!0),f.default.register(v,!0)}}]),s(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(f.default.sources.SILENT),null!=t&&this.quill.setSelection(t,f.default.sources.SILENT)}}}]),t}(h.default);b.DEFAULTS={highlight:function(){return null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value}}(),interval:1e3},t.CodeBlock=v,t.CodeToken=y,t.default=b},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),d=n(8),f=i(d),p=n(43),h=i(p),m=n(15),g=n(41),v=i(g),y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(e){function t(e,n){r(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return a(t,e),l(t,[{key:"extendToolbar",value:function(e){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),v.default)}}]),t}(h.default);b.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(f.default.events.EDITOR_CHANGE,function(e,t,n,r){if(e===f.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===f.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(t.index,t.length);if(1===o.length)i.position(i.quill.getBounds(t));else{var a=o[o.length-1],s=i.quill.getIndex(a),l=Math.min(a.length()-1,t.index+t.length-s),u=i.quill.getBounds(new m.Range(s,l));i.position(u)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()}),i}return a(t,e),l(t,[{key:"listen",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),t}(p.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=x,t.default=b},function(e,t,n){e.exports=n(63)}]).default})}).call(t,n(943).Buffer)},943:function(e,t,n){"use strict";(function(e){function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,i):"string"==typeof t?c(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,i){return s(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}function u(e,t){if(s(t),e=r(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|g(t,n);e=r(e,i);var a=e.write(t,n);return a!==i&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?r(e,0):d(e,t);if("Buffer"===t.type&&Q(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function b(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:x(e,t,n,i,r);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,i,r){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(r){var c=-1;for(u=n;u<s;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var d=!0,f=0;f<l;f++)if(o(e,u+f)!==o(t,f)){d=!1;break}if(d)return u}return-1}function w(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function C(e,t,n,i){return X(z(t,e.length-n),e,n,i)}function N(e,t,n,i){return X(V(t),e,n,i)}function E(e,t,n,i){return N(e,t,n,i)}function T(e,t,n,i){return X(Y(t),e,n,i)}function k(e,t,n,i){return X(W(t,e.length-n),e,n,i)}function _(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s<=n){var l,u,c,d;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[r+1],128==(192&l)&&(d=(31&o)<<6|63&l)>127&&(a=d);break;case 3:l=e[r+1],u=e[r+2],128==(192&l)&&128==(192&u)&&(d=(15&o)<<12|(63&l)<<6|63&u)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[r+1],u=e[r+2],c=e[r+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(d=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return U(i)}function U(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=J));return n}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function L(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=$(e[o]);return r}function B(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,i,r,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function I(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function D(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function j(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(e,t,n,i,r){return r||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,r){return r||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,i,52,8),n+8}function H(e){if(e=F(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function Y(e){return G.toByteArray(H(e))}function X(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function K(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var G=n(944),Z=n(945),Q=n(946);t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=o.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,r){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var a=r-i,s=n-t,l=Math.min(a,s),u=this.slice(i,r),c=e.slice(t,n),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],s=c[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return N(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i;if(o.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=o.prototype;else{var r=t-e;i=new o(r,void 0);for(var a=0;a<r;++a)i[a]=this[a+e]}return i},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),Z.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),Z.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),Z.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),Z.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:z(new o(e,i).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(48))},944:function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-i(e)}function o(e){var t,n,r,o,a,s=e.length;o=i(e),a=new d(3*s/4-o),n=o>0?s-4:s;var l=0;for(t=0;t<n;t+=4)r=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[l++]=r>>16&255,a[l++]=r>>8&255,a[l++]=255&r;return 2===o?(r=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[l++]=255&r):1===o&&(r=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[l++]=r>>8&255,a[l++]=255&r),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],r.push(a(i));return r.join("")}function l(e){for(var t,n=e.length,i=n%3,r="",o=[],a=0,l=n-i;a<l;a+=16383)o.push(s(e,a,a+16383>l?l:a+16383));return 1===i?(t=e[n-1],r+=u[t>>2],r+=u[t<<4&63],r+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],r+=u[t>>10],r+=u[t>>4&63],r+=u[t<<2&63],r+="="),o.push(r),o.join("")}t.byteLength=r,t.toByteArray=o,t.fromByteArray=l;for(var u=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=f.length;p<h;++p)u[p]=f[p],c[f.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},945:function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,d=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,h=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=h,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}},946:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172),r=n(942),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(948),s=n(951);o.default.register("modules/imageImport",a.ImageImport),o.default.register("modules/imageResize",s.ImageResize);var l=["SimSun","SimHei","Microsoft-YaHei","KaiTi","FangSong","Arial","Times-New-Roman","sans-serif"],u=o.default.import("formats/font");u.whitelist=l;var c=o.default.import("attributors/style/size");c.whitelist=["12px","14px","16px","18px","20px","22px","24px","26px","28px","30px","32px","34px","36px","38px","40px"],o.default.register(c,!0),o.default.register(u,!0);var d={action:i.BASICURL+"admin/upload",methods:"POST",token:localStorage.getItem("token"),name:"picUrl",size:500,headers:{token:localStorage.getItem("token")},accept:"image/png, image/gif, image/jpeg, image/bmp, image/x-icon"},f=[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["12px","14px","16px","18px","20px","22px","24px","26px","28px","30px","32px","34px","36px","38px","40px"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:l}],[{align:[]}],["clean"],["link","image","video"]],p={image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null===t&&(t=document.createElement("input"),t.setAttribute("type","file"),d.name&&t.setAttribute("name",d.name),t.setAttribute("accept",d.accept),t.classList.add("ql-image"),t.addEventListener("change",function(){var n=new FormData;n.append(d.name,t.files[0]),n.append("object","product"),d.token&&n.append("token",d.token);var r=new XMLHttpRequest;r.open(d.methods,d.action,!0),r.onload=function(n){if(200===r.status){var o=JSON.parse(r.responseText),a=e.quill.getSelection(!0).index;e.quill.insertEmbed(a,"image",i.BASICURL+o.ret_code),e.quill.setSelection(a+1)}t.value=""},r.upload.onloadstart=function(e){t.value=""},r.upload.onerror=function(e){},r.upload.onloadend=function(e){},r.send(n)}),this.container.appendChild(t)),t.click()}};t.default={placeholder:"",theme:"snow",modules:{toolbar:{container:f,handlers:p},imageImport:!0,imageResize:{displaySize:!0}}}},948:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageImport=void 0;var r=n(804),o=i(r),a=n(805),s=i(a);t.ImageImport=function(){function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.default)(this,e),this.quill=t,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}return(0,s.default)(e,[{key:"handleDrop",value:function(e){e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length&&this.readFiles(e.dataTransfer.files,this.insert.bind(this))}},{key:"handlePaste",value:function(e){var t=this;e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length&&this.readFiles(e.clipboardData.items,function(e){t.quill.getSelection()||setTimeout(function(){return t.insert(e)},0)})}},{key:"insert",value:function(e){var t=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(t,"image",e,"user")}},{key:"readFiles",value:function(e,t){[].forEach.call(e,function(e){if(e.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i)){var n=new FileReader;n.onload=function(e){t(e.target.result)};var i=e.getAsFile?e.getAsFile():e;i instanceof Blob&&n.readAsDataURL(i)}})}}]),e}()},949:function(e,t,n){n(950);var i=n(16).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},950:function(e,t,n){var i=n(19);i(i.S+i.F*!n(31),"Object",{defineProperty:n(27).f})},951:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageResize=void 0;var r=n(804),o=i(r),a=n(805),s=i(a);t.ImageResize=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this.quill=t,this.options=n,this.handleClick=this.handleClick.bind(this),this.handleMousedown=this.handleMousedown.bind(this),this.handleMouseup=this.handleMouseup.bind(this),this.handleDrag=this.handleDrag.bind(this),this.checkImage=this.checkImage.bind(this),this.boxes=[],document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1)}return(0,s.default)(e,[{key:"handleClick",value:function(e){if(e.target&&e.target.tagName&&"IMG"==e.target.tagName.toUpperCase()){if(this.img===e.target)return;this.img&&this.hide(),this.show(e.target)}else this.img&&this.hide()}},{key:"show",value:function(e){this.img=e,this.showResizers(),this.showSizeDisplay();var t=this.img.getBoundingClientRect();this.positionBoxes(t),this.positionSizeDisplay(t)}},{key:"hide",value:function(){this.hideResizers(),this.hideSizeDisplay(),this.img=void 0}},{key:"showResizers",value:function(){this.setUserSelect("none"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),document.addEventListener("keyup",this.checkImage,!0),this.quill.root.addEventListener("input",this.checkImage,!0)}},{key:"hideResizers",value:function(){document.removeEventListener("keyup",this.checkImage),this.quill.root.removeEventListener("input",this.checkImage),this.setUserSelect(""),this.setCursor(""),this.boxes.forEach(function(e){return document.body.removeChild(e)}),this.dragBox=void 0,this.dragStartX=void 0,this.preDragWidth=void 0,this.boxes=[]}},{key:"addBox",value:function(e){var t=document.createElement("div"),n={position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",zIndex:9,cursor:e};this.extend(t.style,n,this.options.handleStyles||{}),t.addEventListener("mousedown",this.handleMousedown,!1),document.body.appendChild(t),this.boxes.push(t)}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e}},{key:"positionBoxes",value:function(e){var t=this;[{left:e.left-6,top:e.top-6},{left:e.left+e.width-6,top:e.top-6},{left:e.left+e.width-6,top:e.top+e.height-6},{left:e.left-6,top:e.top+e.height-6}].forEach(function(e,n){t.extend(t.boxes[n].style,{top:Math.round(e.top+window.pageYOffset)+"px",left:Math.round(e.left+window.pageXOffset)+"px"})})}},{key:"handleMousedown",value:function(e){this.dragBox=e.target,this.dragStartX=e.clientX,this.preDragWidth=this.img.width||this.img.naturalWidth,this.setCursor(this.dragBox.style.cursor),document.addEventListener("mousemove",this.handleDrag,!1),document.addEventListener("mouseup",this.handleMouseup,!1)}},{key:"handleMouseup",value:function(){this.setCursor(""),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleMouseup)}},{key:"handleDrag",value:function(e){if(this.img){this.dragBox==this.boxes[0]||this.dragBox==this.boxes[3]?this.img.width=Math.round(this.preDragWidth-e.clientX-this.dragStartX):this.img.width=Math.round(this.preDragWidth+e.clientX-this.dragStartX);var t=this.img.getBoundingClientRect();this.positionBoxes(t),this.positionSizeDisplay(t)}}},{key:"setUserSelect",value:function(e){var t=this;["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(n){t.quill.root.style[n]=e,document.documentElement.style[n]=e})}},{key:"setCursor",value:function(e){[document.body,this.img,this.quill.root].forEach(function(t){return t.style.cursor=e})}},{key:"checkImage",value:function(){this.img&&this.hide()}},{key:"showSizeDisplay",value:function(){if(this.options.displaySize){this.display=document.createElement("div");var e={position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"};this.extend(this.display.style,e,this.options.displayStyles||{}),document.body.appendChild(this.display)}}},{key:"hideSizeDisplay",value:function(){document.body.removeChild(this.display),this.display=void 0}},{key:"positionSizeDisplay",value:function(e){if(this.display&&this.img){var t=this.getCurrentSize();if(this.display.innerHTML=t.join(" &times; "),t[0]>120&&t[1]>30){var n=this.display.getBoundingClientRect();this.extend(this.display.style,{left:Math.round(e.left+e.width+window.pageXOffset-n.width-8)+"px",top:Math.round(e.top+e.height+window.pageYOffset-n.height-8)+"px"})}else this.extend(this.display.style,{left:Math.round(e.left+e.width+window.pageXOffset+8)+"px",top:Math.round(e.top+e.height+window.pageYOffset+8)+"px"})}}},{key:"getCurrentSize",value:function(){return[this.img.width,Math.round(this.img.width/this.img.naturalWidth*this.img.naturalHeight)]}}]),e}()},952:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(953),r=n.n(i),o=n(960),a=n.n(o),s=n(25),l=s(r.a,a.a,!1,null,null,null);l.options.__file="src\\components\\ueditor\\ueditor.vue",l.esModule&&Object.keys(l.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),t.default=l.exports},953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(954),n(955),n(957),n(958),t.default={name:"UEditor",props:{id:{type:String},defaultMsg:{type:String},config:{type:Object}},data:function(){return{editor:null}},mounted:function(){var e=this;this.editor=window.UE.delEditor("editor"),this.editor=window.UE.getEditor("editor",this.config),this.editor.addListener("ready",function(){e.editor.setContent(e.defaultMsg)})},methods:{getUEContent:function(){return this.editor.getContent()}},destoryed:function(){this.editor.destory()}}},954:function(e,t,n){"use strict";!function(){function e(e,i){return n(e||self.document.URL||self.location.href,i||t())}function t(){var e=document.getElementsByTagName("script");return e[e.length-1].src}function n(e,t){var n=t;return/^(\/|\\\\)/.test(t)?n=/^.+?\w(\/|\\\\)/.exec(e)[0]+t.replace(/^(\/|\\\\)/,""):/^[a-z]+:/i.test(t)||(e=e.split("#")[0].split("?")[0].replace(/[^\\\/]+$/,""),n=e+""+t),i(n)}function i(e){var t=/^[a-z]+:\/\//.exec(e)[0],n=null,i=[];for(e=e.replace(t,"").split("?")[0].split("#")[0],e=e.replace(/\\/g,"/").split(/\//),e[e.length-1]="";e.length;)".."===(n=e.shift())?i.pop():"."!==n&&i.push(n);return t+i.join("/")}window.UEDITOR_HOME_URL="/static/ueditor/";window.UEDITOR_CONFIG={UEDITOR_HOME_URL:"/static/Ueditor/",serverUrl:window.location.origin+"/admin/config",toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","customstyle","paragraph","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage","emotion","scrawl","insertvideo","music","attachment","map","gmap","insertframe","insertcode","webapp","pagebreak","template","background","|","horizontal","date","time","spechars","snapscreen","wordimage","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","charts","|","print","preview","searchreplace","drafts","help"]],xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,whitList:{a:["target","href","title","class","style"],abbr:["title","class","style"],address:["class","style"],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src","class","style"],b:["class","style"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite","class","style"],br:[],caption:["class","style"],center:[],cite:[],code:["class","style"],col:["align","valign","span","width","class","style"],colgroup:["align","valign","span","width","class","style"],dd:["class","style"],del:["datetime"],details:["open"],div:["class","style"],dl:["class","style"],dt:["class","style"],em:["class","style"],font:["color","size","face"],footer:[],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],header:[],hr:[],i:["class","style"],img:["src","alt","title","width","height","id","_src","loadingclass","class","data-latex"],ins:["datetime"],li:["class","style"],mark:[],nav:[],ol:["class","style"],p:["class","style"],pre:["class","style"],s:[],section:[],small:[],span:["class","style"],sub:["class","style"],sup:["class","style"],strong:["class","style"],table:["width","border","align","valign","class","style"],tbody:["align","valign","class","style"],td:["width","rowspan","colspan","align","valign","class","style"],tfoot:["align","valign","class","style"],th:["width","rowspan","colspan","align","valign","class","style"],thead:["align","valign","class","style"],tr:["rowspan","align","valign","class","style"],tt:[],u:[],ul:["class","style"],video:["autoplay","controls","loop","preload","src","height","width","class","style"]}},console.log(window.UEDITOR_CONFIG),window.UE={getUEBasePath:e}}()},955:function(module,exports,__webpack_require__){"use strict";(function($){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _stringify=__webpack_require__(87),_stringify2=_interopRequireDefault(_stringify),_typeof2=__webpack_require__(65),_typeof3=_interopRequireDefault(_typeof2);!function(){function getListener(e,t,n){var i;return t=t.toLowerCase(),(i=e.__allListeners||n&&(e.__allListeners={}))&&(i[t]||n&&(i[t]=[]))}function getDomNode(e,t,n,i,r,o){var a,s=i&&e[t];for(!s&&(s=e[n]);!s&&(a=(a||e).parentNode);){if("BODY"==a.tagName||o&&!o(a))return null;s=a[n]}return s&&r&&!r(s)?getDomNode(s,t,n,!1,r):s}UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var baidu=window.baidu||{};window.baidu=baidu,window.UE=baidu.editor=window.UE||{},UE.plugins={},UE.commands={},UE.instants={},UE.I18N={},UE._customizeUI={},UE.version="1.4.3";var dom=UE.dom={},browser=UE.browser=function(){var e=navigator.userAgent.toLowerCase(),t=window.opera,n={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(e),opera:!!t&&t.version,webkit:e.indexOf(" applewebkit/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};n.gecko="Gecko"==navigator.product&&!n.webkit&&!n.opera&&!n.ie;var i=0;if(n.ie){var r=e.match(/(?:msie\s([\w.]+))/),o=e.match(/(?:trident.*rv:([\w.]+))/);i=r&&o&&r[1]&&o[1]?Math.max(1*r[1],1*o[1]):r&&r[1]?1*r[1]:o&&o[1]?1*o[1]:0,n.ie11Compat=11==document.documentMode,n.ie9Compat=9==document.documentMode,n.ie8=!!document.documentMode,n.ie8Compat=8==document.documentMode,n.ie7Compat=7==i&&!document.documentMode||7==document.documentMode,n.ie6Compat=i<7||n.quirks,n.ie9above=i>8,n.ie9below=i<9,n.ie11above=i>10,n.ie11below=i<11}if(n.gecko){var a=e.match(/rv:([\d\.]+)/);a&&(a=a[1].split("."),i=1e4*a[0]+100*(a[1]||0)+1*(a[2]||0))}return/chrome\/(\d+\.\d)/i.test(e)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(i=parseFloat(t.version())),n.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!n.mobile&&(n.ie&&i>=6||n.gecko&&i>=10801||n.opera&&i>=9.5||n.air&&i>=1||n.webkit&&i>=522||!1),n}(),ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera,utils=UE.utils={each:function(e,t,n){if(null!=e)if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return!1}else for(var o in e)if(e.hasOwnProperty(o)&&!1===t.call(n,e[o],o,e))return!1},makeInstance:function(e){var t=new Function;return t.prototype=e,e=new t,t.prototype=null,e},extend:function(e,t,n){if(t)for(var i in t)n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e},extend2:function(e){for(var t=arguments,n=1;n<t.length;n++){var i=t[n];for(var r in i)e.hasOwnProperty(r)||(e[r]=i[r])}return e},inherits:function(e,t){var n=e.prototype,i=utils.makeInstance(t.prototype);return utils.extend(i,n,!0),e.prototype=i,i.constructor=e},bind:function(e,t){return function(){return e.apply(t,arguments)}},defer:function(e,t,n){var i;return function(){n&&clearTimeout(i),i=setTimeout(e,t)}},indexOf:function(e,t,n){var i=-1;return n=this.isNumber(n)?n:0,this.each(e,function(e,r){if(r>=n&&e===t)return i=r,!1}),i},removeItem:function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]===t&&(e.splice(n,1),n--)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(e){if(!e)return{};e=utils.isArray(e)?e:e.split(",");for(var t,n=0,i={};t=e[n++];)i[t.toUpperCase()]=i[t]=1;return i},unhtml:function(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},unhtmlForUrl:function(e,t){return e?e.replace(t||/[<">']/g,function(e){return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},html:function(e){return e?e.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(e){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'","&nbsp;":" "}[e]}):""},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t={float:void 0!=e.cssFloat?"cssFloat":void 0!=e.styleFloat?"styleFloat":"float"};return function(e){return t[e]||(t[e]=e.toLowerCase().replace(/-./g,function(e){return e.charAt(1).toUpperCase()}))}}(),loadFile:function(){function e(e,n){try{for(var i,r=0;i=t[r++];)if(i.doc===e&&i.url==(n.src||n.href))return i}catch(e){return null}}var t=[];return function(n,i,r){var o=e(n,i);if(o)return void(o.ready?r&&r():o.funs.push(r));if(t.push({doc:n,url:i.src||i.href,funs:[r]}),!n.body){var a=[];for(var s in i)"tag"!=s&&a.push(s+'="'+i[s]+'"');return void n.write("<"+i.tag+" "+a.join(" ")+" ></"+i.tag+">")}if(!i.id||!n.getElementById(i.id)){var l=n.createElement(i.tag);delete i.tag;for(var s in i)l.setAttribute(s,i[s]);l.onload=l.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(o=e(n,i),o.funs.length>0){o.ready=1;for(var t;t=o.funs.pop();)t()}l.onload=l.onreadystatechange=null}},l.onerror=function(){throw Error("The load "+(i.href||i.src)+" fails,check the url settings of file ueditor.config.js ")},n.getElementsByTagName("head")[0].appendChild(l)}}}(),isEmptyObject:function(e){if(null==e)return!0;if(this.isArray(e)||this.isString(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},fixColor:function(e,t){if(/color/i.test(e)&&/rgba?/.test(t)){var n=t.split(",");if(n.length>3)return"";t="#";for(var i,r=0;i=n[r++];)i=parseInt(i.replace(/[^\d]/gi,""),10).toString(16),t+=1==i.length?"0"+i:i;t=t.toUpperCase()}return t},optCss:function(e){function t(e,t){if(!e)return"";var n=e.top,i=e.bottom,r=e.left,o=e.right,a="";if(n&&r&&i&&o)a+=";"+t+":"+(n==i&&i==r&&r==o?n:n==i&&r==o?n+" "+r:r==o?n+" "+r+" "+i:n+" "+o+" "+i+" "+r)+";";else for(var s in e)a+=";"+t+"-"+s+":"+e[s]+";";return a}var n,i;return e=e.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(e,t,r,o){if(1==o.split(" ").length)switch(t){case"padding":return!n&&(n={}),n[r]=o,"";case"margin":return!i&&(i={}),i[r]=o,"";case"border":return"initial"==o?"":e}return e}),e+=t(n,"padding")+t(i,"margin"),e.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(e,t){return t?t+";;":";"})},clone:function(e,t){var n;t=t||{};for(var i in e)e.hasOwnProperty(i)&&(n=e[i],"object"==(void 0===n?"undefined":(0,_typeof3.default)(n))?(t[i]=utils.isArray(n)?[]:{},utils.clone(e[i],t[i])):t[i]=n);return t},transUnitToPx:function(e){if(!/(pt|cm)/.test(e))return e;var t;switch(e.replace(/([\d.]+)(\w+)/,function(n,i,r){e=i,t=r}),t){case"cm":e=25*parseFloat(e);break;case"pt":e=Math.round(96*parseFloat(e)/72)}return e+(e?"px":"")},domReady:function(){function e(e){e.isReady=!0;for(var n;n=t.pop();n());}var t=[];return function(n,i){i=i||window;var r=i.document;n&&t.push(n),"complete"===r.readyState?e(r):(r.isReady&&e(r),browser.ie&&11!=browser.version?(!function(){if(!r.isReady){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}e(r)}}(),i.attachEvent("onload",function(){e(r)})):(r.addEventListener("DOMContentLoaded",function(){r.removeEventListener("DOMContentLoaded",arguments.callee,!1),e(r)},!1),i.addEventListener("load",function(){e(r)},!1)))}}(),cssRule:browser.ie&&11!=browser.version?function(e,t,n){var i,r;if(void 0===t||t&&t.nodeType&&9==t.nodeType){if(n=t&&t.nodeType&&9==t.nodeType?t:n||document,i=n.indexList||(n.indexList={}),void 0!==(r=i[e]))return n.styleSheets[r].cssText}else{if(n=n||document,i=n.indexList||(n.indexList={}),r=i[e],""===t)return void 0!==r&&(n.styleSheets[r].cssText="",delete i[e],!0);void 0!==r?sheetStyle=n.styleSheets[r]:(sheetStyle=n.createStyleSheet("",r=n.styleSheets.length),i[e]=r),sheetStyle.cssText=t}}:function(e,t,n){var i;return void 0===t||t&&t.nodeType&&9==t.nodeType?(n=t&&t.nodeType&&9==t.nodeType?t:n||document,i=n.getElementById(e),i?i.innerHTML:void 0):(n=n||document,i=n.getElementById(e),""===t?!!i&&(i.parentNode.removeChild(i),!0):void(i?i.innerHTML=t:(i=n.createElement("style"),i.id=e,i.innerHTML=t,n.getElementsByTagName("head")[0].appendChild(i))))},sort:function(e,t){t=t||function(e,t){return e.localeCompare(t)};for(var n=0,i=e.length;n<i;n++)for(var r=n,o=e.length;r<o;r++)if(t(e[n],e[r])>0){var a=e[n];e[n]=e[r],e[r]=a}return e},serializeParam:function(e){var t=[];for(var n in e)if("method"!=n&&"timeout"!=n&&"async"!=n)if("function"!=(0,_typeof3.default)(e[n]).toLowerCase()&&"object"!=(0,_typeof3.default)(e[n]).toLowerCase())t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));else if(utils.isArray(e[n]))for(var i=0;i<e[n].length;i++)t.push(encodeURIComponent(n)+"[]="+encodeURIComponent(e[n][i]));return t.join("&")},formatUrl:function(e){var t=e.replace(/&&/g,"&");return t=t.replace(/\?&/g,"?"),t=t.replace(/&$/g,""),t=t.replace(/&#/g,"#"),t=t.replace(/&+/g,"&")},isCrossDomainUrl:function(e){var t=document.createElement("a");return t.href=e,browser.ie&&(t.href=t.href),!(t.protocol==location.protocol&&t.hostname==location.hostname&&(t.port==location.port||"80"==t.port&&""==location.port||""==t.port&&"80"==location.port))},clearEmptyAttrs:function(e){for(var t in e)""===e[t]&&delete e[t];return e},str2json:function(e){return utils.isString(e)?window.JSON?JSON.parse(e):new Function("return "+utils.trim(e||""))():null},json2str:function(){if(window.JSON)return _stringify2.default;var e=function(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=r[e];return t||(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+e+'"'},t=function(e){var t,n,i,r=["["],o=e.length;for(n=0;n<o;n++)switch(i=e[n],void 0===i?"undefined":(0,_typeof3.default)(i)){case"undefined":case"function":case"unknown":break;default:t&&r.push(","),r.push(utils.json2str(i)),t=1}return r.push("]"),r.join("")},n=function(e){return e<10?"0"+e:e},i=function(e){return'"'+e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+"T"+n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds())+'"'},r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(n){switch(void 0===n?"undefined":(0,_typeof3.default)(n)){case"undefined":return"undefined";case"number":return isFinite(n)?String(n):"null";case"string":return e(n);case"boolean":return String(n);default:if(null===n)return"null";if(utils.isArray(n))return t(n);if(utils.isDate(n))return i(n);var r,o,a=["{"],s=utils.json2str;for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l))switch(o=n[l],void 0===o?"undefined":(0,_typeof3.default)(o)){case"undefined":case"unknown":case"function":break;default:r&&a.push(","),r=1,a.push(s(l)+":"+s(o))}return a.push("}"),a.join("")}}}()};utils.each(["String","Function","Array","Number","RegExp","Object","Date"],function(e){UE.utils["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}});var EventBase=UE.EventBase=function(){};EventBase.prototype={addListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var n,i=0;n=e[i++];)getListener(this,n,!0).push(t)},on:function(e,t){return this.addListener(e,t)},off:function(e,t){return this.removeListener(e,t)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var n,i=0;n=e[i++];)utils.removeItem(getListener(this,n)||[],t)},fireEvent:function(){var e=arguments[0];e=utils.trim(e).split(" ");for(var t,n=0;t=e[n++];){var i,r,o,a=getListener(this,t);if(a)for(o=a.length;o--;)if(a[o]){if(!0===(r=a[o].apply(this,arguments)))return r;void 0!==r&&(i=r)}(r=this["on"+t.toLowerCase()])&&(i=r.apply(this,arguments))}return i}};var dtd=dom.dtd=function(){function e(e){for(var t in e)e[t.toUpperCase()]=e[t];return e}var t=utils.extend2,n=e({isindex:1,fieldset:1}),i=e({input:1,button:1,select:1,textarea:1,label:1}),r=t(e({a:1}),i),o=t({iframe:1},r),a=e({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),s=e({ins:1,del:1,script:1,style:1}),l=t(e({b:1,acronym:1,bdo:1,var:1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),s),u=t(e({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),l),c=t(e({p:1}),u),d=t(e({iframe:1}),u,i),f=e({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,var:1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),p=t(e({a:0}),d),h=e({tr:1}),m=e({"#":1}),g=t(e({param:1}),f),v=t(e({form:1}),n,o,a,c),y=e({li:1,ol:1,ul:1}),b=e({style:1,script:1}),x=e({base:1,link:1,meta:1,title:1}),w=t(x,b),C=e({head:1,body:1}),N=e({html:1}),E=e({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),T=e({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return e({$nonBodyContent:t(N,C,x),$block:E,$inline:p,$inlineWithA:t(e({a:1}),p),$body:t(e({script:1,style:1}),E),$cdata:e({script:1,style:1}),$empty:T,$nonChild:e({iframe:1,textarea:1}),$listItem:e({dd:1,dt:1,li:1}),$list:e({ul:1,ol:1,dl:1}),$isNotEmpty:e({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:e({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1}),$removeEmptyBlock:e({p:1,div:1}),$tableContent:e({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:e({pre:1,script:1,style:1,textarea:1}),html:C,head:w,style:m,script:m,body:v,base:{},link:{},meta:{},title:m,col:{},tr:e({td:1,th:1}),img:{},embed:{},colgroup:e({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:v,td:v,br:{},th:v,center:v,kbd:p,button:t(c,a),basefont:{},h5:p,h4:p,samp:p,h6:p,ol:y,h1:p,h3:p,option:m,h2:p,form:t(n,o,a,c),select:e({optgroup:1,option:1}),font:p,ins:p,menu:y,abbr:p,label:p,table:e({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:p,tfoot:h,cite:p,li:v,input:{},iframe:v,strong:p,textarea:m,noframes:v,big:p,small:p,span:e({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:p,dt:p,sub:p,optgroup:e({option:1}),param:{},bdo:p,var:p,div:v,object:g,sup:p,dd:v,strike:p,area:{},dir:y,map:t(e({area:1,form:1,p:1}),n,s,a),applet:g,dl:e({dt:1,dd:1}),del:p,isindex:{},fieldset:t(e({legend:1}),f),thead:h,ul:y,acronym:p,b:p,a:t(e({a:1}),d),blockquote:t(e({td:1,tr:1,tbody:1,li:1}),v),caption:p,i:p,u:p,tbody:h,s:p,address:t(o,c),tt:p,legend:p,q:p,pre:t(l,r),p:t(e({a:1}),p),em:p,dfn:p})}(),attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&"6"==browser.version?"\ufeff":"",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(e,t){if(e===t)return 0;var n,i=[e],r=[t];for(n=e;n=n.parentNode;){if(n===t)return 10;i.push(n)}for(n=t;n=n.parentNode;){if(n===e)return 20;r.push(n)}if(i.reverse(),r.reverse(),i[0]!==r[0])return 1;for(var o=-1;o++,i[o]===r[o];);for(e=i[o],t=r[o];e=e.nextSibling;)if(e===t)return 4;return 2},getNodeIndex:function(e,t){for(var n=e,i=0;n=n.previousSibling;)t&&3==n.nodeType?n.nodeType!=n.nextSibling.nodeType&&i++:i++;return i},inDoc:function(e,t){return 10==domUtils.getPosition(e,t)},findParent:function(e,t,n){if(e&&!domUtils.isBody(e))for(e=n?e:e.parentNode;e;){if(!t||t(e)||domUtils.isBody(e))return t&&!t(e)&&domUtils.isBody(e)?null:e;e=e.parentNode}return null},findParentByTagName:function(e,t,n,i){return t=utils.listToMap(utils.isArray(t)?t:[t]),domUtils.findParent(e,function(e){return t[e.tagName]&&!(i&&i(e))},n)},findParents:function(e,t,n,i){for(var r=t&&(n&&n(e)||!n)?[e]:[];e=domUtils.findParent(e,n);)r.push(e);return i?r:r.reverse()},insertAfter:function(e,t){return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)},remove:function(e,t){var n,i=e.parentNode;if(i){if(t&&e.hasChildNodes())for(;n=e.firstChild;)i.insertBefore(n,e);i.removeChild(e)}return e},getNextDomNode:function(e,t,n,i){return getDomNode(e,"firstChild","nextSibling",t,n,i)},getPreDomNode:function(e,t,n,i){return getDomNode(e,"lastChild","previousSibling",t,n,i)},isBookmarkNode:function(e){return 1==e.nodeType&&e.id&&/^_baidu_bookmark_/i.test(e.id)},getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getCommonAncestor:function(e,t){if(e===t)return e;for(var n=[e],i=[t],r=e,o=-1;r=r.parentNode;){if(r===t)return r;n.push(r)}for(r=t;r=r.parentNode;){if(r===e)return r;i.push(r)}for(n.reverse(),i.reverse();o++,n[o]===i[o];);return 0==o?null:n[o-1]},clearEmptySibling:function(e,t,n){function i(e,t){for(var n;e&&!domUtils.isBookmarkNode(e)&&(domUtils.isEmptyInlineElement(e)||!new RegExp("[^\t\n\r"+domUtils.fillChar+"]").test(e.nodeValue));)n=e[t],domUtils.remove(e),e=n}!t&&i(e.nextSibling,"nextSibling"),!n&&i(e.previousSibling,"previousSibling")},split:function(e,t){var n=e.ownerDocument;if(browser.ie&&t==e.nodeValue.length){var i=n.createTextNode("");return domUtils.insertAfter(e,i)}var r=e.splitText(t);if(browser.ie8){var o=n.createTextNode("");domUtils.insertAfter(r,o),domUtils.remove(o)}return r},isWhitespace:function(e){return!new RegExp("[^ \t\n\r"+domUtils.fillChar+"]").test(e.nodeValue)},getXY:function(e){for(var t=0,n=0;e.offsetParent;)n+=e.offsetTop,t+=e.offsetLeft,e=e.offsetParent;return{x:t,y:n}},on:function(e,t,n){var i=utils.isArray(t)?t:utils.trim(t).split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.addEventListener)e.addEventListener(t,n,!1);else{n._d||(n._d={els:[]});var o=t+n.toString(),a=utils.indexOf(n._d.els,e);n._d[o]&&-1!=a||(-1==a&&n._d.els.push(e),n._d[o]||(n._d[o]=function(e){return n.call(e.srcElement,e||window.event)}),e.attachEvent("on"+t,n._d[o]))}e=null},un:function(e,t,n){var i=utils.isArray(t)?t:utils.trim(t).split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.removeEventListener)e.removeEventListener(t,n,!1);else{var o=t+n.toString();try{e.detachEvent("on"+t,n._d?n._d[o]:n)}catch(e){}if(n._d&&n._d[o]){var a=utils.indexOf(n._d.els,e);-1!=a&&n._d.els.splice(a,1),0==n._d.els.length&&delete n._d[o]}}},isSameElement:function(e,t){if(e.tagName!=t.tagName)return!1;var n=e.attributes,i=t.attributes;if(!ie&&n.length!=i.length)return!1;for(var r,o,a=0,s=0,l=0;r=n[l++];){if("style"==r.nodeName){if(r.specified&&a++,domUtils.isSameStyle(e,t))continue;return!1}if(ie){if(!r.specified)continue;a++,o=i.getNamedItem(r.nodeName)}else o=t.attributes[r.nodeName];if(!o.specified||r.nodeValue!=o.nodeValue)return!1}if(ie){for(l=0;o=i[l++];)o.specified&&s++;if(a!=s)return!1}return!0},isSameStyle:function(e,t){var n=e.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),i=t.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(browser.opera){if(n=e.style,i=t.style,n.length!=i.length)return!1;for(var r in n)if(!/^(\d+|csstext)$/i.test(r)&&n[r]!=i[r])return!1;return!0}if(!n||!i)return n==i;if(n=n.split(";"),i=i.split(";"),n.length!=i.length)return!1;for(var o,a=0;o=n[a++];)if(-1==utils.indexOf(i,o))return!1;return!0},isBlockElm:function(e){return 1==e.nodeType&&(dtd.$block[e.tagName]||styleBlock[domUtils.getComputedStyle(e,"display")])&&!dtd.$nonChild[e.tagName]},isBody:function(e){return e&&1==e.nodeType&&"body"==e.tagName.toLowerCase()},breakParent:function(e,t){var n,i,r,o=e,a=e;do{for(o=o.parentNode,i?(n=o.cloneNode(!1),n.appendChild(i),i=n,n=o.cloneNode(!1),n.appendChild(r),r=n):(i=o.cloneNode(!1),r=i.cloneNode(!1));n=a.previousSibling;)i.insertBefore(n,i.firstChild);for(;n=a.nextSibling;)r.appendChild(n);a=o}while(t!==o);return n=t.parentNode,n.insertBefore(i,t),n.insertBefore(r,t),n.insertBefore(e,r),domUtils.remove(t),e},isEmptyInlineElement:function(e){if(1!=e.nodeType||!dtd.$removeEmpty[e.tagName])return 0;for(e=e.firstChild;e;){if(domUtils.isBookmarkNode(e))return 0;if(1==e.nodeType&&!domUtils.isEmptyInlineElement(e)||3==e.nodeType&&!domUtils.isWhitespace(e))return 0;e=e.nextSibling}return 1},trimWhiteTextNode:function(e){function t(t){for(var n;(n=e[t])&&3==n.nodeType&&domUtils.isWhitespace(n);)e.removeChild(n)}t("firstChild"),t("lastChild")},mergeChild:function(e,t,n){for(var i,r=domUtils.getElementsByTagName(e,e.tagName.toLowerCase()),o=0;i=r[o++];)if(i.parentNode&&!domUtils.isBookmarkNode(i))if("span"!=i.tagName.toLowerCase())domUtils.isSameElement(e,i)&&domUtils.remove(i,!0);else{if(e===i.parentNode&&(domUtils.trimWhiteTextNode(e),1==e.childNodes.length)){e.style.cssText=i.style.cssText+";"+e.style.cssText,domUtils.remove(i,!0);continue}if(i.style.cssText=e.style.cssText+";"+i.style.cssText,n){var a=n.style;if(a){a=a.split(";");for(var s,l=0;s=a[l++];)i.style[utils.cssStyleToDomStyle(s.split(":")[0])]=s.split(":")[1]}}domUtils.isSameStyle(i,e)&&domUtils.remove(i,!0)}},getElementsByTagName:function(e,t,n){if(n&&utils.isString(n)){var i=n;n=function(e){return domUtils.hasClass(e,i)}}t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var r,o=[],a=0;r=t[a++];)for(var s,l=e.getElementsByTagName(r),u=0;s=l[u++];)n&&!n(s)||o.push(s);return o},mergeToParent:function(e){for(var t=e.parentNode;t&&dtd.$removeEmpty[t.tagName];){if(t.tagName==e.tagName||"A"==t.tagName){if(domUtils.trimWhiteTextNode(t),"SPAN"==t.tagName&&!domUtils.isSameStyle(t,e)||"A"==t.tagName&&"SPAN"==e.tagName){if(t.childNodes.length>1||t!==e.parentNode){e.style.cssText=t.style.cssText+";"+e.style.cssText,t=t.parentNode;continue}t.style.cssText+=";"+e.style.cssText,"A"==t.tagName&&(t.style.textDecoration="underline")}if("A"!=t.tagName){t===e.parentNode&&domUtils.remove(e,!0);break}}t=t.parentNode}},mergeSibling:function(e,t,n){function i(e,t,n){var i;if((i=n[e])&&!domUtils.isBookmarkNode(i)&&1==i.nodeType&&domUtils.isSameElement(n,i)){for(;i.firstChild;)"firstChild"==t?n.insertBefore(i.lastChild,n.firstChild):n.appendChild(i.firstChild);domUtils.remove(i)}}!t&&i("previousSibling","firstChild",e),!n&&i("nextSibling","lastChild",e)},unSelectable:ie&&browser.ie9below||browser.opera?function(e){e.onselectstart=function(){return!1},e.onclick=e.onkeyup=e.onkeydown=function(){return!1},e.unselectable="on",e.setAttribute("unselectable","on");for(var t,n=0;t=e.all[n++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on",e.setAttribute("unselectable","on")}}:function(e){e.style.MozUserSelect=e.style.webkitUserSelect=e.style.msUserSelect=e.style.KhtmlUserSelect="none"},removeAttributes:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0;n=t[i++];){switch(n=attrFix[n]||n){case"className":e[n]="";break;case"style":e.style.cssText="";var r=e.getAttributeNode("style");!browser.ie&&r&&e.removeAttributeNode(r)}e.removeAttribute(n)}},createElement:function(e,t,n){return domUtils.setAttributes(e.createElement(t),n)},setAttributes:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];switch(n){case"class":e.className=i;break;case"style":e.style.cssText=e.style.cssText+";"+i;break;case"innerHTML":e[n]=i;break;case"value":e.value=i;break;default:e.setAttribute(attrFix[n]||n,i)}}return e},getComputedStyle:function(e,t){if("width height top left".indexOf(t)>-1)return e["offset"+t.replace(/^\w/,function(e){return e.toUpperCase()})]+"px";if(3==e.nodeType&&(e=e.parentNode),browser.ie&&browser.version<9&&"font-size"==t&&!e.style.fontSize&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]){var n=e.ownerDocument.createElement("span");n.style.cssText="padding:0;border:0;font-family:simsun;",n.innerHTML=".",e.appendChild(n);var i=n.offsetHeight;return e.removeChild(n),n=null,i+"px"}try{var r=domUtils.getStyle(e,t)||(window.getComputedStyle?domUtils.getWindow(e).getComputedStyle(e,"").getPropertyValue(t):(e.currentStyle||e.style)[utils.cssStyleToDomStyle(t)])}catch(e){return""}return utils.transUnitToPx(utils.fixColor(t,r))},removeClasses:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)r=r.replace(new RegExp("\\b"+n+"\\b"),"");r=utils.trim(r).replace(/[ ]{2,}/g," "),r?e.className=r:domUtils.removeAttributes(e,["class"])},addClass:function(e,t){if(e){t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)new RegExp("\\b"+n+"\\b").test(r)||(r+=" "+n);e.className=utils.trim(r)}},hasClass:function(e,t){if(utils.isRegExp(t))return t.test(e.className);t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)if(!new RegExp("\\b"+n+"\\b","i").test(r))return!1;return i-1==t.length},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},removeStyle:function(e,t){browser.ie?("color"==t&&(t="(^|;)"+t),e.style.cssText=e.style.cssText.replace(new RegExp(t+"[^:]*:[^;]+;?","ig"),"")):e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(utils.cssStyleToDomStyle(t)),e.style.cssText||domUtils.removeAttributes(e,["style"])},getStyle:function(e,t){var n=e.style[utils.cssStyleToDomStyle(t)];return utils.fixColor(t,n)},setStyle:function(e,t,n){e.style[utils.cssStyleToDomStyle(t)]=n,utils.trim(e.style.cssText)||this.removeAttributes(e,"style")},setStyles:function(e,t){for(var n in t)t.hasOwnProperty(n)&&domUtils.setStyle(e,n,t[n])},removeDirtyAttr:function(e){for(var t,n=0,i=e.getElementsByTagName("*");t=i[n++];)t.removeAttribute("_moz_dirty");e.removeAttribute("_moz_dirty")},getChildCount:function(e,t){var n=0,i=e.firstChild;for(t=t||function(){return 1};i;)t(i)&&n++,i=i.nextSibling;return n},isEmptyNode:function(e){return!e.firstChild||0==domUtils.getChildCount(e,function(e){return!domUtils.isBr(e)&&!domUtils.isBookmarkNode(e)&&!domUtils.isWhitespace(e)})},clearSelectedArr:function(e){for(var t;t=e.pop();)domUtils.removeAttributes(t,["class"])},scrollToView:function(e,t,n){var i=function(){var e=t.document,n="CSS1Compat"==e.compatMode;return{width:(n?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(n?e.documentElement.clientHeight:e.body.clientHeight)||0}}().height,r=-1*i+n;r+=e.offsetHeight||0,r+=domUtils.getXY(e).y;var o=function(e){if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}}(t).y;(r>o||r<o-i)&&t.scrollTo(0,r+(r<0?-20:20))},isBr:function(e){return 1==e.nodeType&&"BR"==e.tagName},isFillChar:function(e,t){if(3!=e.nodeType)return!1;var n=e.nodeValue;return t?new RegExp("^"+domUtils.fillChar).test(n):!n.replace(new RegExp(domUtils.fillChar,"g"),"").length},isStartInblock:function(e){var t,n=e.cloneRange(),i=0,r=n.startContainer;if(1==r.nodeType&&r.childNodes[n.startOffset]){r=r.childNodes[n.startOffset];for(var o=r.previousSibling;o&&domUtils.isFillChar(o);)r=o,o=o.previousSibling}for(this.isFillChar(r,!0)&&1==n.startOffset&&(n.setStartBefore(r),r=n.startContainer);r&&domUtils.isFillChar(r);)t=r,r=r.previousSibling;for(t&&(n.setStartBefore(t),r=n.startContainer),1==r.nodeType&&domUtils.isEmptyNode(r)&&1==n.startOffset&&n.setStart(r,0).collapse(!0);!n.startOffset;){if(r=n.startContainer,domUtils.isBlockElm(r)||domUtils.isBody(r)){i=1;break}var a,o=n.startContainer.previousSibling;if(o){for(;o&&domUtils.isFillChar(o);)a=o,o=o.previousSibling;a?n.setStartBefore(a):n.setStartBefore(n.startContainer)}else n.setStartBefore(n.startContainer)}return i&&!domUtils.isBody(n.startContainer)?1:0},isEmptyBlock:function(e,t){if(1!=e.nodeType)return 0;if(t=t||new RegExp("[ \t\r\n"+domUtils.fillChar+"]","g"),e[browser.ie?"innerText":"textContent"].replace(t,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(e.getElementsByTagName(n).length)return 0;return 1},setViewportOffset:function(e,t){var n=0|parseInt(e.style.left),i=0|parseInt(e.style.top),r=e.getBoundingClientRect(),o=t.left-r.left,a=t.top-r.top;o&&(e.style.left=n+o+"px"),a&&(e.style.top=i+a+"px")},fillNode:function(e,t){var n=browser.ie?e.createTextNode(domUtils.fillChar):e.createElement("br");t.innerHTML="",t.appendChild(n)},moveChild:function(e,t,n){for(;e.firstChild;)n&&t.firstChild?t.insertBefore(e.lastChild,t.firstChild):t.appendChild(e.firstChild)},hasNoAttributes:function(e){return browser.ie?/^<\w+\s*?>/.test(e.outerHTML):0==e.attributes.length},isCustomeNode:function(e){return 1==e.nodeType&&e.getAttribute("_ue_custom_node_")},isTagNode:function(e,t){return 1==e.nodeType&&new RegExp("\\b"+e.tagName+"\\b","i").test(t)},filterNodeList:function(e,t,n){var i=[];if(!utils.isFunction(t)){var r=t;t=function(e){return-1!=utils.indexOf(utils.isArray(r)?r:r.split(" "),e.tagName.toLowerCase())}}return utils.each(e,function(e){t(e)&&i.push(e)}),0==i.length?null:1!=i.length&&n?i:i[0]},isInNodeEndBoundary:function(e,t){var n=e.startContainer;if(3==n.nodeType&&e.startOffset!=n.nodeValue.length)return 0;if(1==n.nodeType&&e.startOffset!=n.childNodes.length)return 0;for(;n!==t;){if(n.nextSibling)return 0;n=n.parentNode}return 1},isBoundaryNode:function(e,t){for(var n;!domUtils.isBody(e);)if(n=e,e=e.parentNode,n!==e[t])return!1;return!0},fillHtml:browser.ie11below?"&nbsp;":"<br/>"},fillCharReg=new RegExp(domUtils.fillChar,"g");!function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer===e.endContainer&&e.startOffset==e.endOffset}function t(e){return!e.collapsed&&1==e.startContainer.nodeType&&e.startContainer===e.endContainer&&e.endOffset-e.startOffset==1}function n(t,n,i,r){return 1==n.nodeType&&(dtd.$empty[n.tagName]||dtd.$nonChild[n.tagName])&&(i=domUtils.getNodeIndex(n)+(t?0:1),n=n.parentNode),t?(r.startContainer=n,r.startOffset=i,r.endContainer||r.collapse(!0)):(r.endContainer=n,r.endOffset=i,r.startContainer||r.collapse(!1)),e(r),r}function i(e,t){var n,i,r=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,l=e.document,u=l.createDocumentFragment();if(1==r.nodeType&&(r=r.childNodes[a]||(n=r.appendChild(l.createTextNode("")))),1==o.nodeType&&(o=o.childNodes[s]||(i=o.appendChild(l.createTextNode("")))),r===o&&3==r.nodeType)return u.appendChild(l.createTextNode(r.substringData(a,s-a))),t&&(r.deleteData(a,s-a),e.collapse(!0)),u;for(var c,d,f=u,p=domUtils.findParents(r,!0),h=domUtils.findParents(o,!0),m=0;p[m]==h[m];)m++;for(var g,v=m;g=p[v];v++){for(c=g.nextSibling,g==r?n||(3==e.startContainer.nodeType?(f.appendChild(l.createTextNode(r.nodeValue.slice(a))),t&&r.deleteData(a,r.nodeValue.length-a)):f.appendChild(t?r:r.cloneNode(!0))):(d=g.cloneNode(!1),f.appendChild(d));c&&c!==o&&c!==h[v];)g=c.nextSibling,f.appendChild(t?c:c.cloneNode(!0)),c=g;f=d}f=u,p[m]||(f.appendChild(p[m-1].cloneNode(!1)),f=f.firstChild);for(var y,v=m;y=h[v];v++){if(c=y.previousSibling,y==o?i||3!=e.endContainer.nodeType||(f.appendChild(l.createTextNode(o.substringData(0,s))),t&&o.deleteData(0,s)):(d=y.cloneNode(!1),f.appendChild(d)),v!=m||!p[m])for(;c&&c!==r;)y=c.previousSibling,f.insertBefore(t?c:c.cloneNode(!0),f.firstChild),c=y;f=d}return t&&e.setStartBefore(h[m]?p[m]?h[m]:p[m-1]:h[m-1]).collapse(!0),n&&domUtils.remove(n),i&&domUtils.remove(i),u}function r(e,t){try{if(a&&domUtils.inDoc(a,e))if(a.nodeValue.replace(fillCharReg,"").length)a.nodeValue=a.nodeValue.replace(fillCharReg,"");else{var n=a.parentNode;for(domUtils.remove(a);n&&domUtils.isEmptyInlineElement(n)&&(browser.safari?!(domUtils.getPosition(n,t)&domUtils.POSITION_CONTAINS):!n.contains(t));)a=n.parentNode,domUtils.remove(n),n=a}}catch(e){}}function o(e,t){var n;for(e=e[t];e&&domUtils.isFillChar(e);)n=e[t],domUtils.remove(e),e=n}var a,s=0,l=domUtils.fillChar,u=dom.Range=function(e){var t=this;t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.document=e,t.collapsed=!0};u.prototype={cloneContents:function(){return this.collapsed?null:i(this,0)},deleteContents:function(){var e;return this.collapsed||i(this,1),browser.webkit&&(e=this.startContainer,3!=e.nodeType||e.nodeValue.length||(this.setStartBefore(e).collapse(!0),domUtils.remove(e))),this},extractContents:function(){return this.collapsed?null:i(this,2)},setStart:function(e,t){return n(!0,e,t,this)},setEnd:function(e,t){return n(!1,e,t,this)},setStartAfter:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e)+1)},setStartBefore:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e))},setEndAfter:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e)+1)},setEndBefore:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e))},setStartAtFirst:function(e){return this.setStart(e,0)},setStartAtLast:function(e){return this.setStart(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},setEndAtFirst:function(e){return this.setEnd(e,0)},setEndAtLast:function(e){return this.setEnd(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){return this.setStart(e,0).setEndAtLast(e)},cloneRange:function(){var e=this;return new u(e.document).setStart(e.startContainer,e.startOffset).setEnd(e.endContainer,e.endOffset)},collapse:function(e){var t=this;return e?(t.endContainer=t.startContainer,t.endOffset=t.startOffset):(t.startContainer=t.endContainer,t.startOffset=t.endOffset),t.collapsed=!0,t},shrinkBoundary:function(e){function t(e){return 1==e.nodeType&&!domUtils.isBookmarkNode(e)&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]}for(var n,i=this,r=i.collapsed;1==i.startContainer.nodeType&&(n=i.startContainer.childNodes[i.startOffset])&&t(n);)i.setStart(n,0);if(r)return i.collapse(!0);if(!e)for(;1==i.endContainer.nodeType&&i.endOffset>0&&(n=i.endContainer.childNodes[i.endOffset-1])&&t(n);)i.setEnd(n,n.childNodes.length);return i},getCommonAncestor:function(e,n){var i=this,r=i.startContainer,o=i.endContainer;return r===o?e&&t(this)&&(r=r.childNodes[i.startOffset],1==r.nodeType)?r:n&&3==r.nodeType?r.parentNode:r:domUtils.getCommonAncestor(r,o)},trimBoundary:function(e){this.txtToElmBoundary();var t=this.startContainer,n=this.startOffset,i=this.collapsed,r=this.endContainer;if(3==t.nodeType){if(0==n)this.setStartBefore(t);else if(n>=t.nodeValue.length)this.setStartAfter(t);else{var o=domUtils.split(t,n);t===r?this.setEnd(o,this.endOffset-n):t.parentNode===r&&(this.endOffset+=1),this.setStartBefore(o)}if(i)return this.collapse(!0)}return e||(n=this.endOffset,r=this.endContainer,3==r.nodeType&&(0==n?this.setEndBefore(r):(n<r.nodeValue.length&&domUtils.split(r,n),this.setEndAfter(r)))),this},txtToElmBoundary:function(e){function t(e,t){var n=e[t+"Container"],i=e[t+"Offset"];3==n.nodeType&&(i?i>=n.nodeValue.length&&e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"After"](n):e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"Before"](n))}return!e&&this.collapsed||(t(this,"start"),t(this,"end")),this},insertNode:function(e){var t=e,n=1;11==e.nodeType&&(t=e.firstChild,n=e.childNodes.length),this.trimBoundary(!0);var i=this.startContainer,r=this.startOffset,o=i.childNodes[r];return o?i.insertBefore(e,o):i.appendChild(e),t.parentNode===this.endContainer&&(this.endOffset=this.endOffset+n),this.setStartBefore(t)},setCursor:function(e,t){return this.collapse(!e).select(t)},createBookmark:function(e,t){var n,i=this.document.createElement("span");return i.style.cssText="display:none;line-height:0px;",i.appendChild(this.document.createTextNode("")),i.id="_baidu_bookmark_start_"+(t?"":s++),this.collapsed||(n=i.cloneNode(!0),n.id="_baidu_bookmark_end_"+(t?"":s++)),this.insertNode(i),n&&this.collapse().insertNode(n).setEndBefore(n),this.setStartAfter(i),{start:e?i.id:i,end:n?e?n.id:n:null,id:e}},moveToBookmark:function(e){var t=e.id?this.document.getElementById(e.start):e.start,n=e.end&&e.id?this.document.getElementById(e.end):e.end;return this.setStartBefore(t),domUtils.remove(t),n?(this.setEndBefore(n),domUtils.remove(n)):this.collapse(!0),this},enlarge:function(e,t){var n,i,r=domUtils.isBody,o=this.document.createTextNode("");if(e){for(i=this.startContainer,1==i.nodeType?i.childNodes[this.startOffset]?n=i=i.childNodes[this.startOffset]:(i.appendChild(o),n=i=o):n=i;;){if(domUtils.isBlockElm(i)){for(i=n;(n=i.previousSibling)&&!domUtils.isBlockElm(n);)i=n;this.setStartBefore(i);break}n=i,i=i.parentNode}for(i=this.endContainer,1==i.nodeType?((n=i.childNodes[this.endOffset])?i.insertBefore(o,n):i.appendChild(o),n=i=o):n=i;;){if(domUtils.isBlockElm(i)){for(i=n;(n=i.nextSibling)&&!domUtils.isBlockElm(n);)i=n;this.setEndAfter(i);break}n=i,i=i.parentNode}o.parentNode===this.endContainer&&this.endOffset--,domUtils.remove(o)}if(!this.collapsed){for(;!(0!=this.startOffset||t&&t(this.startContainer)||r(this.startContainer));)this.setStartBefore(this.startContainer);for(;!(this.endOffset!=(1==this.endContainer.nodeType?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)||t&&t(this.endContainer)||r(this.endContainer));)this.setEndAfter(this.endContainer)}return this},enlargeToBlockElm:function(e){for(;!domUtils.isBlockElm(this.startContainer);)this.setStartBefore(this.startContainer);if(!e)for(;!domUtils.isBlockElm(this.endContainer);)this.setEndAfter(this.endContainer);return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},applyInlineStyle:function(e,t,n){if(this.collapsed)return this;this.trimBoundary().enlarge(!1,function(e){return 1==e.nodeType&&domUtils.isBlockElm(e)}).adjustmentBoundary();for(var i,r,o=this.createBookmark(),a=o.end,s=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)},l=domUtils.getNextDomNode(o.start,!1,s),u=this.cloneRange();l&&domUtils.getPosition(l,a)&domUtils.POSITION_PRECEDING;)if(3==l.nodeType||dtd[e][l.tagName]){for(u.setStartBefore(l),i=l;i&&(3==i.nodeType||dtd[e][i.tagName])&&i!==a;)r=i,i=domUtils.getNextDomNode(i,1==i.nodeType,null,function(t){return dtd[e][t.tagName]});var c,d=u.setEndAfter(r).extractContents();if(n&&n.length>0){var f,p;p=f=n[0].cloneNode(!1);for(var h,m=1;h=n[m++];)f.appendChild(h.cloneNode(!1)),f=f.firstChild;c=f}else c=u.document.createElement(e);t&&domUtils.setAttributes(c,t),c.appendChild(d),u.insertNode(n?p:c);var g;if("span"==e&&t.style&&/text\-decoration/.test(t.style)&&(g=domUtils.findParentByTagName(c,"a",!0))?(domUtils.setAttributes(g,t),domUtils.remove(c,!0),c=g):(domUtils.mergeSibling(c),domUtils.clearEmptySibling(c)),domUtils.mergeChild(c,t),l=domUtils.getNextDomNode(c,!1,s),domUtils.mergeToParent(c),i===a)break}else l=domUtils.getNextDomNode(l,!0,s);return this.moveToBookmark(o)},removeInlineStyle:function(e){if(this.collapsed)return this;e=utils.isArray(e)?e:[e],this.shrinkBoundary().adjustmentBoundary();for(var t=this.startContainer,n=this.endContainer;;){if(1==t.nodeType){if(utils.indexOf(e,t.tagName.toLowerCase())>-1)break;if("body"==t.tagName.toLowerCase()){t=null;break}}t=t.parentNode}for(;;){if(1==n.nodeType){if(utils.indexOf(e,n.tagName.toLowerCase())>-1)break;if("body"==n.tagName.toLowerCase()){n=null;break}}n=n.parentNode}var i,r,o=this.createBookmark();t&&(r=this.cloneRange().setEndBefore(o.start).setStartBefore(t),i=r.extractContents(),r.insertNode(i),domUtils.clearEmptySibling(t,!0),t.parentNode.insertBefore(o.start,t)),n&&(r=this.cloneRange().setStartAfter(o.end).setEndAfter(n),i=r.extractContents(),r.insertNode(i),domUtils.clearEmptySibling(n,!1,!0),n.parentNode.insertBefore(o.end,n.nextSibling));for(var a,s=domUtils.getNextDomNode(o.start,!1,function(e){return 1==e.nodeType});s&&s!==o.end;)a=domUtils.getNextDomNode(s,!0,function(e){return 1==e.nodeType}),utils.indexOf(e,s.tagName.toLowerCase())>-1&&domUtils.remove(s,!0),s=a;return this.moveToBookmark(o)},getClosedNode:function(){var e;if(!this.collapsed){var n=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(t(n)){var i=n.startContainer.childNodes[n.startOffset];i&&1==i.nodeType&&(dtd.$empty[i.tagName]||dtd.$nonChild[i.tagName])&&(e=i)}}return e},select:browser.ie?function(e,t){var n;this.collapsed||this.shrinkBoundary();var i=this.getClosedNode();if(i&&!t){try{n=this.document.body.createControlRange(),n.addElement(i),n.select()}catch(e){}return this}var s,u=this.createBookmark(),c=u.start;if(n=this.document.body.createTextRange(),n.moveToElementText(c),n.moveStart("character",1),this.collapsed){if(!e&&3!=this.startContainer.nodeType){var d=this.document.createTextNode(l),f=this.document.createElement("span");f.appendChild(this.document.createTextNode(l)),c.parentNode.insertBefore(f,c),c.parentNode.insertBefore(d,c),r(this.document,d),a=d,o(f,"previousSibling"),o(c,"nextSibling"),n.moveStart("character",-1),n.collapse(!0)}}else{var p=this.document.body.createTextRange();s=u.end,p.moveToElementText(s),n.setEndPoint("EndToEnd",p)}this.moveToBookmark(u),f&&domUtils.remove(f);try{n.select()}catch(e){}return this}:function(e){var t,n=domUtils.getWindow(this.document),i=n.getSelection();if(browser.gecko?this.document.body.focus():n.focus(),i){if(i.removeAllRanges(),this.collapsed&&!e){var s=this.startContainer,u=s;1==s.nodeType&&(u=s.childNodes[this.startOffset]),3==s.nodeType&&this.startOffset||(u?u.previousSibling&&3==u.previousSibling.nodeType:s.lastChild&&3==s.lastChild.nodeType)||(t=this.document.createTextNode(l),this.insertNode(t),r(this.document,t),o(t,"previousSibling"),o(t,"nextSibling"),a=t,this.setStart(t,browser.webkit?1:0).collapse(!0))}var c=this.document.createRange();if(this.collapsed&&browser.opera&&1==this.startContainer.nodeType){var u=this.startContainer.childNodes[this.startOffset];if(u){for(;u&&domUtils.isBlockElm(u)&&1==u.nodeType&&u.childNodes[0];)u=u.childNodes[0];u&&this.setStartBefore(u).collapse(!0)}else(u=this.startContainer.lastChild)&&domUtils.isBr(u)&&this.setStartBefore(u).collapse(!0)}!function(e){function t(t,n,i){3==t.nodeType&&t.nodeValue.length<n&&(e[i+"Offset"]=t.nodeValue.length)}t(e.startContainer,e.startOffset,"start"),t(e.endContainer,e.endOffset,"end")}(this),c.setStart(this.startContainer,this.startOffset),c.setEnd(this.endContainer,this.endOffset),i.addRange(c)}return this},scrollToView:function(e,t){e=e?window:domUtils.getWindow(this.document);var n=this,i=n.document.createElement("span");return i.innerHTML="&nbsp;",n.cloneRange().insertNode(i),domUtils.scrollToView(i,e,t),domUtils.remove(i),n},inFillChar:function(){var e=this.startContainer;return!(!this.collapsed||3!=e.nodeType||e.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1!=e.nodeValue.length)},createAddress:function(e,t){function n(e){for(var n,i=e?r.startContainer:r.endContainer,o=domUtils.findParents(i,!0,function(e){return!domUtils.isBody(e)}),a=[],s=0;n=o[s++];)a.push(domUtils.getNodeIndex(n,t));var l=0;if(t)if(3==i.nodeType){for(var u=i.previousSibling;u&&3==u.nodeType;)l+=u.nodeValue.replace(fillCharReg,"").length,u=u.previousSibling;l+=e?r.startOffset:r.endOffset}else if(i=i.childNodes[e?r.startOffset:r.endOffset])l=domUtils.getNodeIndex(i,t);else{i=e?r.startContainer:r.endContainer;for(var c=i.firstChild;c;)if(domUtils.isFillChar(c))c=c.nextSibling;else if(l++,3==c.nodeType)for(;c&&3==c.nodeType;)c=c.nextSibling;else c=c.nextSibling}else l=e?domUtils.isFillChar(i)?0:r.startOffset:r.endOffset;return l<0&&(l=0),a.push(l),a}var i={},r=this;return i.startAddress=n(!0),e||(i.endAddress=r.collapsed?[].concat(i.startAddress):n()),i},moveToAddress:function(e,t){function n(e,t){for(var n,r,o,a=i.document.body,s=0,l=e.length;s<l;s++)if(o=e[s],n=a,!(a=a.childNodes[o])){r=o;break}t?a?i.setStartBefore(a):i.setStart(n,r):a?i.setEndBefore(a):i.setEnd(n,r)}var i=this;return n(e.startAddress,!0),!t&&e.endAddress&&n(e.endAddress),i},equals:function(e){for(var t in this)if(this.hasOwnProperty(t)&&this[t]!==e[t])return!1;return!0},traversal:function(e,t){if(this.collapsed)return this;for(var n=this.createBookmark(),i=n.end,r=domUtils.getNextDomNode(n.start,!1,t);r&&r!==i&&domUtils.getPosition(r,i)&domUtils.POSITION_PRECEDING;){var o=domUtils.getNextDomNode(r,!1,t);e(r),r=o}return this.moveToBookmark(n)}}}(),function(){function e(e,t){var n=domUtils.getNodeIndex;e=e.duplicate(),e.collapse(t);var i=e.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var r,o,a=i.children,s=e.duplicate(),l=0,u=a.length-1,c=-1;l<=u;){c=Math.floor((l+u)/2),r=a[c],s.moveToElementText(r);var d=s.compareEndPoints("StartToStart",e);if(d>0)u=c-1;else{if(!(d<0))return{container:i,offset:n(r)};l=c+1}}if(-1==c){if(s.moveToElementText(i),s.setEndPoint("StartToStart",e),o=s.text.replace(/(\r\n|\r)/g,"\n").length,a=i.childNodes,!o)return r=a[a.length-1],{container:r,offset:r.nodeValue.length};for(var f=a.length;o>0;)o-=a[--f].nodeValue.length;return{container:a[f],offset:-o}}if(s.collapse(d>0),s.setEndPoint(d>0?"StartToStart":"EndToStart",e),!(o=s.text.replace(/(\r\n|\r)/g,"\n").length))return dtd.$empty[r.tagName]||dtd.$nonChild[r.tagName]?{container:i,offset:n(r)+(d>0?0:1)}:{container:r,offset:d>0?0:r.childNodes.length};for(;o>0;)try{var p=r;r=r[d>0?"previousSibling":"nextSibling"],o-=r.nodeValue.length}catch(e){return{container:i,offset:n(p)}}return{container:r,offset:d>0?-o:r.nodeValue.length+o}}function t(t,n){if(t.item)n.selectNode(t.item(0));else{var i=e(t,!0);n.setStart(i.container,i.offset),0!=t.compareEndPoints("StartToEnd",t)&&(i=e(t,!1),n.setEnd(i.container,i.offset))}return n}function n(e){var t;try{t=e.getNative().createRange()}catch(e){return null}var n=t.item?t.item(0):t.parentElement();return(n.ownerDocument||n)===e.document?t:null}(dom.Selection=function(e){var t,i=this;i.document=e,browser.ie9below&&(t=domUtils.getWindow(e).frameElement,domUtils.on(t,"beforedeactivate",function(){i._bakIERange=i.getIERange()}),domUtils.on(t,"activate",function(){try{!n(i)&&i._bakIERange&&i._bakIERange.select()}catch(e){}i._bakIERange=null})),t=e=null}).prototype={rangeInBody:function(e,t){var n=browser.ie9below||t?e.item?e.item():e.parentElement():e.startContainer;return n===this.document.body||domUtils.inDoc(n,this.document)},getNative:function(){var e=this.document;try{return e?browser.ie9below?e.selection:domUtils.getWindow(e).getSelection():null}catch(e){return null}},getIERange:function(){var e=n(this);return!e&&this._bakIERange?this._bakIERange:e},cache:function(){this.clear(),this._cachedRange=this.getRange(),this._cachedStartElement=this.getStart(),this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var e=this.getStart();return e?domUtils.findParents(e,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{if(browser.ie9below){var e=n(this);return!(!e||!this.rangeInBody(e))}return!!this.getNative().rangeCount}catch(e){return!1}},getRange:function(){function e(e){for(var t=n.document.body.firstChild,i=e.collapsed;t&&t.firstChild;)e.setStart(t,0),t=t.firstChild;e.startContainer||e.setStart(n.document.body,0),i&&e.collapse(!0)}var n=this;if(null!=n._cachedRange)return this._cachedRange;var i=new baidu.editor.dom.Range(n.document);if(browser.ie9below){var r=n.getIERange();if(r)try{t(r,i)}catch(t){e(i)}else e(i)}else{var o=n.getNative();if(o&&o.rangeCount){var a=o.getRangeAt(0),s=o.getRangeAt(o.rangeCount-1);i.setStart(a.startContainer,a.startOffset).setEnd(s.endContainer,s.endOffset),i.collapsed&&domUtils.isBody(i.startContainer)&&!i.startOffset&&e(i)}else{if(this._bakRange&&domUtils.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;e(i)}}return this._bakRange=i},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var e,t,n,i,r=browser.ie9below?this.getIERange():this.getRange();if(browser.ie9below){if(!r)return this.document.body.firstChild;if(r.item)return r.item(0);for(e=r.duplicate(),e.text.length>0&&e.moveStart("character",1),e.collapse(1),t=e.parentElement(),i=n=r.parentElement();n=n.parentNode;)if(n==t){t=i;break}}else if(r.shrinkBoundary(),t=r.startContainer,1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,r.startOffset)]),3==t.nodeType)return t.parentNode;return t},getText:function(){var e,t;return this.isFocus()&&(e=this.getNative())?(t=browser.ie9below?e.createRange():e.getRangeAt(0),browser.ie9below?t.text:t.toString()):""},clearRange:function(){this.getNative()[browser.ie9below?"empty":"removeAllRanges"]()}}}(),function(){function e(e,t){var n;if(t.textarea)if(utils.isString(t.textarea)){for(var i,r=0,o=domUtils.getElementsByTagName(e,"textarea");i=o[r++];)if(i.id=="ueditor_textarea_"+t.options.textarea){n=i;break}}else n=t.textarea;n||(e.appendChild(n=domUtils.createElement(document,"textarea",{name:t.options.textarea,id:"ueditor_textarea_"+t.options.textarea,style:"display:none"})),t.textarea=n),!n.getAttribute("name")&&n.setAttribute("name",t.options.textarea),n.value=t.hasContents()?t.options.allHtmlEnabled?t.getAllHtml():t.getContent(null,null,!0):""}function t(e){for(var t in e)return t}function n(e){e.langIsReady=!0,e.fireEvent("langReady")}var i,r=0,o=UE.Editor=function(e){var i=this;i.uid=r++,EventBase.call(i),i.commands={},i.options=utils.extend(utils.clone(e||{}),UEDITOR_CONFIG,!0),i.shortcutkeys={},i.inputRules=[],i.outputRules=[],i.setOpt(o.defaultOptions(i)),i.loadServerConfig(),utils.isEmptyObject(UE.I18N)?utils.loadFile(document,{src:i.options.langPath+i.options.lang+"/"+i.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){UE.plugin.load(i),n(i)}):(i.options.lang=t(UE.I18N),UE.plugin.load(i),n(i)),UE.instants["ueditorInstant"+i.uid]=i};o.prototype={registerCommand:function(e,t){this.commands[e]=t},ready:function(e){var t=this;e&&(t.isReady?e.apply(t):t.addListener("ready",e))},setOpt:function(e,t){var n={};utils.isString(e)?n[e]=t:n=e,utils.extend(this.options,n,!0)},getOpt:function(e){return this.options[e]},destroy:function(){var e=this;e.fireEvent("destroy");var t=e.container.parentNode,n=e.textarea;n?n.style.display="":(n=document.createElement("textarea"),t.parentNode.insertBefore(n,t)),n.style.width=e.iframe.offsetWidth?e.iframe.offsetWidth+"px":"0px",n.style.height=e.iframe.offsetHeight?e.iframe.offsetHeight+"px":"0px",n.value=e.getContent(),n.id=e.key,t.innerHTML="",domUtils.remove(t);var i=e.key;for(var r in e)e.hasOwnProperty(r)&&delete this[r];UE.delEditor(i)},render:function(e){var t=this,n=t.options,i=function(t){return parseInt(domUtils.getComputedStyle(e,t))};if(utils.isString(e)&&(e=document.getElementById(e)),e){n.initialFrameWidth?n.minFrameWidth=n.initialFrameWidth:n.minFrameWidth=n.initialFrameWidth=e.offsetWidth,n.initialFrameHeight?n.minFrameHeight=n.initialFrameHeight:n.initialFrameHeight=n.minFrameHeight=e.offsetHeight,e.style.width=/%$/.test(n.initialFrameWidth)?"100%":n.initialFrameWidth-i("padding-left")-i("padding-right")+"px",e.style.height=/%$/.test(n.initialFrameHeight)?"100%":n.initialFrameHeight-i("padding-top")-i("padding-bottom")+"px",e.style.zIndex=n.zIndex;var r=(ie&&browser.version<9?"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style>"+(n.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+utils.unhtml(n.iframeCssUrl)+"'/>":"")+(n.initialStyle?"<style>"+n.initialStyle+"</style>":"")+"</head><body class='view' ></body><script type='text/javascript' "+(ie?"defer='defer'":"")+" id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant"+t.uid+"'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);<\/script></html>";e.appendChild(domUtils.createElement(document,"iframe",{id:"ueditor_"+t.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(n.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+r+'");document.close();}())'})),e.style.overflow="hidden",setTimeout(function(){/%$/.test(n.initialFrameWidth)&&(n.minFrameWidth=n.initialFrameWidth=e.offsetWidth),/%$/.test(n.initialFrameHeight)&&(n.minFrameHeight=n.initialFrameHeight=e.offsetHeight,e.style.height=n.initialFrameHeight+"px")})}},_setup:function(t){var n=this,i=n.options;ie?(t.body.disabled=!0,t.body.contentEditable=!0,t.body.disabled=!1):t.body.contentEditable=!0,t.body.spellcheck=!1,n.document=t,n.window=t.defaultView||t.parentWindow,n.iframe=n.window.frameElement,n.body=t.body,n.selection=new dom.Selection(t);var r;browser.gecko&&(r=this.selection.getNative())&&r.removeAllRanges(),this._initEvents();for(var o=this.iframe.parentNode;!domUtils.isBody(o);o=o.parentNode)if("FORM"==o.tagName){n.form=o,n.options.autoSyncData?domUtils.on(n.window,"blur",function(){e(o,n)}):domUtils.on(o,"submit",function(){e(this,n)});break}if(i.initialContent)if(i.autoClearinitialContent){var a=n.execCommand;n.execCommand=function(){return n.fireEvent("firstBeforeExecCommand"),a.apply(n,arguments)},this._setDefaultContent(i.initialContent)}else this.setContent(i.initialContent,!1,!0);domUtils.isEmptyNode(n.body)&&(n.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"),i.focus&&setTimeout(function(){n.focus(n.options.focusInEnd),!n.options.autoClearinitialContent&&n._selectionChange()},0),n.container||(n.container=this.iframe.parentNode),i.fullscreen&&n.ui&&n.ui.setFullScreen(!0);try{n.document.execCommand("2D-position",!1,!1)}catch(e){}try{n.document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}try{n.document.execCommand("enableObjectResizing",!1,!1)}catch(e){}n._bindshortcutKeys(),n.isReady=1,n.fireEvent("ready"),i.onready&&i.onready.call(n),browser.ie9below||domUtils.on(n.window,["blur","focus"],function(e){if("blur"==e.type){n._bakRange=n.selection.getRange();try{n._bakNativeRange=n.selection.getNative().getRangeAt(0),n.selection.getNative().removeAllRanges()}catch(e){n._bakNativeRange=null}}else try{n._bakRange&&n._bakRange.select()}catch(e){}}),browser.gecko&&browser.version<=10902&&(n.body.contentEditable=!1,setTimeout(function(){n.body.contentEditable=!0},100),setInterval(function(){n.body.style.height=n.iframe.offsetHeight-20+"px"},100)),!i.isShow&&n.setHide(),i.readonly&&n.setDisabled()},sync:function(t){var n=this,i=t?document.getElementById(t):domUtils.findParent(n.iframe.parentNode,function(e){return"FORM"==e.tagName},!0);i&&e(i,n)},setHeight:function(e,t){e!==parseInt(this.iframe.parentNode.style.height)&&(this.iframe.parentNode.style.height=e+"px"),!t&&(this.options.minFrameHeight=this.options.initialFrameHeight=e),this.body.style.height=e+"px",!t&&this.trigger("setHeight")},addshortcutkey:function(e,t){var n={};t?n[e]=t:n=e,utils.extend(this.shortcutkeys,n)},_bindshortcutKeys:function(){var e=this,t=this.shortcutkeys;e.addListener("keydown",function(n,i){var r=i.keyCode||i.which;for(var o in t)for(var a,s=t[o].split(","),l=0;a=s[l++];){a=a.split(":");var u=a[0],c=a[1];(/^(ctrl)(\+shift)?\+(\d+)$/.test(u.toLowerCase())||/^(\d+)$/.test(u))&&(("ctrl"==RegExp.$1?i.ctrlKey||i.metaKey:0)&&(""!=RegExp.$2?i[RegExp.$2.slice(1)+"Key"]:1)&&r==RegExp.$3||r==RegExp.$1)&&(-1!=e.queryCommandState(o,c)&&e.execCommand(o,c),domUtils.preventDefault(i))}})},getContent:function(e,t,n,i,r){var o=this;if(e&&utils.isFunction(e)&&(t=e,e=""),t?!t():!this.hasContents())return"";o.fireEvent("beforegetcontent");var a=UE.htmlparser(o.body.innerHTML,i);return o.filterOutputRule(a),o.fireEvent("aftergetcontent",e,a),a.toHtml(r)},getAllHtml:function(){var e=this,t=[];if(e.fireEvent("getAllHtml",t),browser.ie&&browser.version>8){var n="";utils.each(e.document.styleSheets,function(e){n+=e.href?'<link rel="stylesheet" type="text/css" href="'+e.href+'" />':"<style>"+e.cssText+"</style>"}),utils.each(e.document.getElementsByTagName("script"),function(e){n+=e.outerHTML})}return"<html><head>"+(e.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+e.options.charset+'"/>':"")+(n||e.document.getElementsByTagName("head")[0].innerHTML)+t.join("\n")+"</head><body "+(ie&&browser.version<9?'class="view"':"")+">"+e.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var e=new RegExp(domUtils.fillChar,"g"),t=this.body.innerHTML.replace(/[\n\r]/g,"");return t=t.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>\/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(e,t,n){return dtd.$block[n]?"\n":t||""}),t.replace(e,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var e=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(e,"").replace(/\u00a0/g," ")},setContent:function(t,n,i){var r=this;r.fireEvent("beforesetcontent",t);var o=UE.htmlparser(t);if(r.filterInputRule(o),t=o.toHtml(),r.body.innerHTML=(n?r.body.innerHTML:"")+t,"p"==r.options.enterTag){var a,s=this.body.firstChild;if(!s||1==s.nodeType&&(dtd.$cdata[s.tagName]||function(e){return"DIV"==e.tagName&&e.getAttribute("cdata_tag")}(s)||domUtils.isCustomeNode(s))&&s===this.body.lastChild)this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else for(var l=r.document.createElement("p");s;){for(;s&&(3==s.nodeType||1==s.nodeType&&dtd.p[s.tagName]&&!dtd.$cdata[s.tagName]);)a=s.nextSibling,l.appendChild(s),s=a;if(l.firstChild){if(!s){r.body.appendChild(l);break}s.parentNode.insertBefore(l,s),l=r.document.createElement("p")}s=s.nextSibling}}r.fireEvent("aftersetcontent"),r.fireEvent("contentchange"),!i&&r._selectionChange(),r._bakRange=r._bakIERange=r._bakNativeRange=null;var u;browser.gecko&&(u=this.selection.getNative())&&u.removeAllRanges(),r.options.autoSyncData&&r.form&&e(r.form,r)},focus:function(e){try{var t=this,n=t.selection.getRange();if(e){var i=t.body.lastChild;i&&1==i.nodeType&&!dtd.$empty[i.tagName]&&(domUtils.isEmptyBlock(i)?n.setStartAtFirst(i):n.setStartAtLast(i),n.collapse(!0)),n.setCursor(!0)}else{if(!n.collapsed&&domUtils.isBody(n.startContainer)&&0==n.startOffset){var i=t.body.firstChild;i&&1==i.nodeType&&!dtd.$empty[i.tagName]&&n.setStartAtFirst(i).collapse(!0)}n.select(!0)}this.fireEvent("focus selectionchange")}catch(e){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var e=this.selection.getNative();if(e.empty&&browser.ie){var t=document.body.createTextRange();t.moveToElementText(document.body),t.collapse(!0),t.select(),e.empty()}else e.removeAllRanges()},_initEvents:function(){var e=this,t=e.document,n=e.window;e._proxyDomEvent=utils.bind(e._proxyDomEvent,e),domUtils.on(t,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],e._proxyDomEvent),domUtils.on(n,["focus","blur"],e._proxyDomEvent),domUtils.on(e.body,"drop",function(t){browser.gecko&&t.stopPropagation&&t.stopPropagation(),e.fireEvent("contentchange")}),domUtils.on(t,["mouseup","keydown"],function(t){"keydown"==t.type&&(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)||2!=t.button&&e._selectionChange(250,t)})},_proxyDomEvent:function(e){return!1!==this.fireEvent("before"+e.type.replace(/^on/,"").toLowerCase())&&(!1!==this.fireEvent(e.type.replace(/^on/,""),e)&&this.fireEvent("after"+e.type.replace(/^on/,"").toLowerCase()))},_selectionChange:function(e,t){var n,r,o=this,a=!1;if(browser.ie&&browser.version<9&&t&&"mouseup"==t.type){this.selection.getRange().collapsed||(a=!0,n=t.clientX,r=t.clientY)}clearTimeout(i),i=setTimeout(function(){if(o.selection&&o.selection.getNative()){var e;if(a&&"None"==o.selection.getNative().type){e=o.document.body.createTextRange();try{e.moveToPoint(n,r)}catch(t){e=null}}var i;e&&(i=o.selection.getIERange,o.selection.getIERange=function(){return e}),o.selection.cache(),i&&(o.selection.getIERange=i),o.selection._cachedRange&&o.selection._cachedStartElement&&(o.fireEvent("beforeselectionchange"),o.fireEvent("selectionchange",!!t),o.fireEvent("afterselectionchange"),o.selection.clear())}},e||50)},_callCmdFn:function(e,t){var n,i,r=t[0].toLowerCase();return n=this.commands[r]||UE.commands[r],i=n&&n[e],n&&i||"queryCommandState"!=e?i?i.apply(this,t):void 0:0},execCommand:function(e){e=e.toLowerCase();var t,n=this,i=n.commands[e]||UE.commands[e];return i&&i.execCommand?(i.notNeedUndo||n.__hasEnterExecCommand?(t=this._callCmdFn("execCommand",arguments),!n.__hasEnterExecCommand&&!i.ignoreContentChange&&!n._ignoreContentChange&&n.fireEvent("contentchange")):(n.__hasEnterExecCommand=!0,-1!=n.queryCommandState.apply(n,arguments)&&(n.fireEvent("saveScene"),n.fireEvent.apply(n,["beforeexeccommand",e].concat(arguments)),t=this._callCmdFn("execCommand",arguments),n.fireEvent.apply(n,["afterexeccommand",e].concat(arguments)),n.fireEvent("saveScene")),n.__hasEnterExecCommand=!1),!n.__hasEnterExecCommand&&!i.ignoreContentChange&&!n._ignoreContentChange&&n._selectionChange(),t):null},queryCommandState:function(e){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(e){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(e){if(e)for(var t,n=0;t=e[n++];)if(this.document.getElementsByTagName(t).length>0)return!0;if(!domUtils.isEmptyBlock(this.body))return!0;for(e=["div"],n=0;t=e[n++];)for(var i,r=domUtils.getElementsByTagName(this.document,t),o=0;i=r[o++];)if(domUtils.isCustomeNode(i))return!0;return!1},reset:function(){this.fireEvent("reset")},setEnabled:function(){var e,t=this;if("false"==t.body.contentEditable){t.body.contentEditable=!0,e=t.selection.getRange();try{e.moveToBookmark(t.lastBk),delete t.lastBk}catch(n){e.setStartAtFirst(t.body).collapse(!0)}e.select(!0),t.bkqueryCommandState&&(t.queryCommandState=t.bkqueryCommandState,delete t.bkqueryCommandState),t.bkqueryCommandValue&&(t.queryCommandValue=t.bkqueryCommandValue,delete t.bkqueryCommandValue),t.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(e){var t=this;e=e?utils.isArray(e)?e:[e]:[],"true"==t.body.contentEditable&&(t.lastBk||(t.lastBk=t.selection.getRange().createBookmark(!0)),t.body.contentEditable=!1,t.bkqueryCommandState=t.queryCommandState,t.bkqueryCommandValue=t.queryCommandValue,t.queryCommandState=function(n){return-1!=utils.indexOf(e,n)?t.bkqueryCommandState.apply(t,arguments):-1},t.queryCommandValue=function(n){return-1!=utils.indexOf(e,n)?t.bkqueryCommandValue.apply(t,arguments):null},t.fireEvent("selectionchange"))},disable:function(e){return this.setDisabled(e)},_setDefaultContent:function(){function e(){var t=this;t.document.getElementById("initContent")&&(t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",t.removeListener("firstBeforeExecCommand focus",e),setTimeout(function(){t.focus(),t._selectionChange()},0))}return function(t){var n=this;n.body.innerHTML='<p id="initContent">'+t+"</p>",n.addListener("firstBeforeExecCommand focus",e)}}(),setShow:function(){var e=this,t=e.selection.getRange();if("none"==e.container.style.display){try{t.moveToBookmark(e.lastBk),delete e.lastBk}catch(n){t.setStartAtFirst(e.body).collapse(!0)}setTimeout(function(){t.select(!0)},100),e.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var e=this;e.lastBk||(e.lastBk=e.selection.getRange().createBookmark(!0)),e.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(e){var t=UE.I18N[this.options.lang];if(!t)throw Error("not import language file");e=(e||"").split(".");for(var n,i=0;(n=e[i++])&&(t=t[n]););return t},getContentLength:function(e,t){var n=this.getContent(!1,!1,!0).length;if(e){t=(t||[]).concat(["hr","img","iframe"]),n=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i,r=0;i=t[r++];)n+=this.document.getElementsByTagName(i).length}return n},addInputRule:function(e){this.inputRules.push(e)},filterInputRule:function(e){for(var t,n=0;t=this.inputRules[n++];)t.call(this,e)},addOutputRule:function(e){this.outputRules.push(e)},filterOutputRule:function(e){for(var t,n=0;t=this.outputRules[n++];)t.call(this,e)},getActionUrl:function(e){var t=this.getOpt(e)||e,n=this.getOpt("imageUrl"),i=this.getOpt("serverUrl");return!i&&n&&(i=n.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2")),i?(i=i+(-1==i.indexOf("?")?"?":"&")+"action="+(t||""),utils.formatUrl(i)):""}},utils.inherits(o,EventBase)}(),UE.Editor.defaultOptions=function(e){var t=e.options.UEDITOR_HOME_URL;return{isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,iframeCssUrl:t+"themes/iframe.css",textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:9999,imagePopup:!0,enterTag:"p",customDomain:!1,lang:"zh-cn",langPath:t+"lang/",theme:"default",themePath:t+"themes/",allHtmlEnabled:!1,scaleEnabled:!1,tableNativeEditInFF:!1,autoSyncData:!0,fileNameFormat:"{time}{rand:6}"}},function(){UE.Editor.prototype.loadServerConfig=function(){function showErrorMsg(e){console&&console.error(e)}var me=this;setTimeout(function(){try{me.options.imageUrl&&me.setOpt("serverUrl",me.options.imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));var configUrl=me.getActionUrl("config"),isJsonp=!1;me._serverConfigLoaded=!1,configUrl&&UE.ajax.request(configUrl,{method:"GET",dataType:isJsonp?"jsonp":"",onsuccess:function onsuccess(r){try{var config=isJsonp?r:eval("("+r.responseText+")");utils.extend(me.options,config),me.fireEvent("serverConfigLoaded"),me._serverConfigLoaded=!0}catch(e){showErrorMsg(me.getLang("loadconfigFormatError"))}},onerror:function(){showErrorMsg(me.getLang("loadconfigHttpError"))}})}catch(e){showErrorMsg(me.getLang("loadconfigError"))}})},UE.Editor.prototype.isServerConfigLoaded=function(){return this._serverConfigLoaded||!1},UE.Editor.prototype.afterConfigReady=function(e){if(e&&utils.isFunction(e)){var t=this,n=function n(){e.apply(t,arguments),t.removeListener("serverConfigLoaded",n)};t.isServerConfigLoaded()?e.call(t,"serverConfigLoaded"):t.addListener("serverConfigLoaded",n)}}}(),UE.ajax=function(){function e(e){var t=[];for(var n in e)if("method"!=n&&"timeout"!=n&&"async"!=n&&"dataType"!=n&&"callback"!=n&&void 0!=e[n]&&null!=e[n])if("function"!=(0,_typeof3.default)(e[n]).toLowerCase()&&"object"!=(0,_typeof3.default)(e[n]).toLowerCase())t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));else if(utils.isArray(e[n]))for(var i=0;i<e[n].length;i++)t.push(encodeURIComponent(n)+"[]="+encodeURIComponent(e[n][i]));return t.join("&")}function t(t,n){var i=r(),o=!1,a={method:"POST",timeout:5e3,async:!0,data:{},onsuccess:function(){},onerror:function(){}};if("object"===(void 0===t?"undefined":(0,_typeof3.default)(t))&&(n=t,t=n.url),i&&t){var s=n?utils.extend(a,n):a,l=e(s);utils.isEmptyObject(s.data)||(l+=(l?"&":"")+e(s.data));var u=setTimeout(function(){4!=i.readyState&&(o=!0,i.abort(),clearTimeout(u))},s.timeout),c=s.method.toUpperCase(),d=t+(-1==t.indexOf("?")?"?":"&")+("POST"==c?"":l+"&noCache="+ +new Date);i.open(c,d,s.async),i.onreadystatechange=function(){4==i.readyState&&(o||200!=i.status?s.onerror(i):s.onsuccess(i))},"POST"==c?(i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(l)):i.send(null)}}function n(t,n){function i(e){return function(){try{if(e)u.onerror&&u.onerror();else try{clearTimeout(o),s.apply(window,arguments)}catch(e){}}catch(e){u.onerror&&u.onerror.call(window,e)}finally{u.oncomplete&&u.oncomplete.apply(window,arguments),l.parentNode&&l.parentNode.removeChild(l),window[r]=null;try{delete window[r]}catch(e){}}}}var r,o,a,s=n.onsuccess||function(){},l=document.createElement("SCRIPT"),u=n||{},c=u.charset,d=u.jsonp||"callback",f=u.timeOut||0,p=new RegExp("(\\?|&)"+d+"=([^&]*)");utils.isFunction(s)?(r="bd__editor__"+Math.floor(2147483648*Math.random()).toString(36),window[r]=i(0)):utils.isString(s)?r=s:(a=p.exec(t))&&(r=a[2]),t=t.replace(p,"$1"+d+"="+r),t.search(p)<0&&(t+=(t.indexOf("?")<0?"?":"&")+d+"="+r);var h=e(n);utils.isEmptyObject(n.data)||(h+=(h?"&":"")+e(n.data)),h&&(t=t.replace(/\?/,"?"+h+"&")),l.onerror=i(1),f&&(o=setTimeout(i(1),f)),function(e,t,n){e.setAttribute("type","text/javascript"),e.setAttribute("defer","defer"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)}(l,t,c)}var i="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP"),i="ActiveXObject('Msxml2.XMLHTTP')"}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP"),i="ActiveXObject('Microsoft.XMLHTTP')"}catch(e){}}var r=new Function("return new "+i);return{request:function(e,i){i&&"jsonp"==i.dataType?n(e,i):t(e,i)},getJSONP:function(e,t,i){n(e,{data:t,oncomplete:i})}}}();var filterWord=UE.filterWord=function(){function e(e){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(e)}function t(e){return e=e.replace(/[\d.]+\w+/g,function(e){return utils.transUnitToPx(e)})}function n(e){return e.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(e){if(browser.opera)return"";try{if(/Bitmap/i.test(e))return"";var n=e.match(/width:([ \d.]*p[tx])/i)[1],i=e.match(/height:([ \d.]*p[tx])/i)[1],r=e.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+t(n)+'" height="'+t(i)+'" src="'+r+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,function(e,t,n,i){return"class"==t&&"MsoListParagraph"==i?e:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(e,t,n){return n.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(e,n,i,r){for(var o,a=[],s=r.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").replace(/[\d.]+(cm|pt)/g,function(e){return utils.transUnitToPx(e)}).split(/;\s*/g),l=0;o=s[l];l++){var u,c,d=o.split(":");if(2==d.length){if(u=d[0].toLowerCase(),c=d[1].toLowerCase(),/^(background)\w*/.test(u)&&0==c.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(u)&&/^0\w+$/.test(c))continue;switch(u){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(n)||(a[l]=u.replace(/^mso-|-alt$/g,"")+":"+t(c));continue;case"horiz-align":a[l]="text-align:"+c;continue;case"vert-align":a[l]="vertical-align:"+c;continue;case"font-color":case"mso-foreground":a[l]="color:"+c;continue;case"mso-background":case"mso-highlight":a[l]="background:"+c;continue;case"mso-default-height":a[l]="min-height:"+t(c);continue;case"mso-default-width":a[l]="min-width:"+t(c);continue;case"mso-padding-between-alt":a[l]="border-collapse:separate;border-spacing:"+t(c);continue;case"text-line-through":"single"!=c&&"double"!=c||(a[l]="text-decoration:line-through");continue;case"mso-zero-height":"yes"==c&&(a[l]="display:none");continue;case"margin":if(!/[1-9]/.test(c))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(u)||/text\-indent|padding|margin/.test(u)&&/\-[\d.]+/.test(c))continue;a[l]=u+":"+d[1]}}return n+(a.length?' style="'+a.join(";").replace(/;{2,}/g,";")+'"':"")})}return function(t){return e(t)?n(t):t}}();!function(){function e(e,t,n){return e.push(p),t+(n?1:-1)}function t(e,t){for(var n=0;n<t;n++)e.push(f)}function n(a,s,l,u){switch(a.type){case"root":for(var c,d=0;c=a.children[d++];)l&&"element"==c.type&&!dtd.$inlineWithA[c.tagName]&&d>1&&(e(s,u,!0),t(s,u)),n(c,s,l,u);break;case"text":i(a,s);break;case"element":r(a,s,l,u);break;case"comment":o(a,s)}return s}function i(e,t){"pre"==e.parentNode.tagName?t.push(e.data):t.push(d[e.parentNode.tagName]?utils.html(e.data):e.data.replace(/[ ]{2}/g," &nbsp;"))}function r(i,r,o,a){var s="";if(i.attrs){s=[];var l=i.attrs;for(var u in l)s.push(u+(void 0!==l[u]?'="'+(c[u]?utils.html(l[u]).replace(/["]/g,function(e){return"&quot;"}):utils.unhtml(l[u]))+'"':""));s=s.join(" ")}if(r.push("<"+i.tagName+(s?" "+s:"")+(dtd.$empty[i.tagName]?"/":"")+">"),o&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length&&(a=e(r,a,!0),t(r,a)),i.children&&i.children.length)for(var d,f=0;d=i.children[f++];)o&&"element"==d.type&&!dtd.$inlineWithA[d.tagName]&&f>1&&(e(r,a),t(r,a)),n(d,r,o,a);dtd.$empty[i.tagName]||(o&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length&&(a=e(r,a),t(r,a)),r.push("</"+i.tagName+">"))}function o(e,t){t.push("\x3c!--"+e.data+"--\x3e")}function a(e,t){var n;if("element"==e.type&&e.getAttr("id")==t)return e;if(e.children&&e.children.length)for(var i,r=0;i=e.children[r++];)if(n=a(i,t))return n}function s(e,t,n){if("element"==e.type&&e.tagName==t&&n.push(e),e.children&&e.children.length)for(var i,r=0;i=e.children[r++];)s(i,t,n)}function l(e,t){if(e.children&&e.children.length)for(var n,i=0;n=e.children[i];)l(n,t),n.parentNode&&(n.children&&n.children.length&&t(n),n.parentNode&&i++);else t(e)}var u=UE.uNode=function(e){this.type=e.type,this.data=e.data,this.tagName=e.tagName,this.parentNode=e.parentNode,this.attrs=e.attrs||{},this.children=e.children},c={href:1,src:1,_src:1,_href:1,cdata_data:1},d={style:1,script:1},f="    ",p="\n";u.createElement=function(e){return/[<>]/.test(e)?UE.htmlparser(e).children[0]:new u({type:"element",children:[],tagName:e})},u.createText=function(e,t){return new UE.uNode({type:"text",data:t?e:utils.unhtml(e||"")})},u.prototype={toHtml:function(e){var t=[];return n(this,t,e,0),t.join("")},innerHTML:function(e){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(utils.isString(e)){if(this.children)for(var t,n=0;t=this.children[n++];)t.parentNode=null;this.children=[];for(var t,i=UE.htmlparser(e),n=0;t=i.children[n++];)this.children.push(t),t.parentNode=this;return this}var i=new UE.uNode({type:"root",children:this.children});return i.toHtml()},innerText:function(e,t){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(e){if(this.children)for(var n,i=0;n=this.children[i++];)n.parentNode=null;return this.children=[],this.appendChild(u.createText(e,t)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var e,t=this.parentNode,n=0;e=t.children[n];n++)if(e===this)return 0==n?null:t.children[n-1]},nextSibling:function(){for(var e,t=this.parentNode,n=0;e=t.children[n++];)if(e===this)return t.children[n]},replaceChild:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i,1,e),t.parentNode=null,e.parentNode=this,e}},appendChild:function(e){if("root"==this.type||"element"==this.type&&!dtd.$empty[this.tagName]){this.children||(this.children=[]),e.parentNode&&e.parentNode.removeChild(e);for(var t,n=0;t=this.children[n];n++)if(t===e){this.children.splice(n,1);break}return this.children.push(e),e.parentNode=this,e}},insertBefore:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i,0,e),e.parentNode=this,e}},insertAfter:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i+1,0,e),e.parentNode=this,e}},removeChild:function(e,t){if(this.children)for(var n,i=0;n=this.children[i];i++)if(n===e){if(this.children.splice(i,1),n.parentNode=null,t&&n.children&&n.children.length)for(var r,o=0;r=n.children[o];o++)this.children.splice(i+o,0,r),r.parentNode=this;return n}},getAttr:function(e){return this.attrs&&this.attrs[e.toLowerCase()]},setAttr:function(e,t){if(!e)return void delete this.attrs;if(this.attrs||(this.attrs={}),utils.isObject(e))for(var n in e)e[n]?this.attrs[n.toLowerCase()]=e[n]:delete this.attrs[n];else t?this.attrs[e.toLowerCase()]=t:delete this.attrs[e]},getIndex:function(){for(var e,t=this.parentNode,n=0;e=t.children[n];n++)if(e===this)return n;return-1},getNodeById:function(e){var t;if(this.children&&this.children.length)for(var n,i=0;n=this.children[i++];)if(t=a(n,e))return t},getNodesByTagName:function(e){e=utils.trim(e).replace(/[ ]{2,}/g," ").split(" ");var t=[],n=this;return utils.each(e,function(e){if(n.children&&n.children.length)for(var i,r=0;i=n.children[r++];)s(i,e,t)}),t},getStyle:function(e){var t=this.getAttr("style");if(!t)return"";var n=new RegExp("(^|;)\\s*"+e+":([^;]+)","i"),i=t.match(n);return i&&i[0]?i[2]:""},setStyle:function(e,t){function n(e,t){var n=new RegExp("(^|;)\\s*"+e+":([^;]+;?)","gi");i=i.replace(n,"$1"),t&&(i=e+":"+utils.unhtml(t)+";"+i)}var i=this.getAttr("style");if(i||(i=""),utils.isObject(e))for(var r in e)n(r,e[r]);else n(e,t);this.setAttr("style",utils.trim(i))},traversal:function(e){return this.children&&this.children.length&&l(this,e),this}}}();var htmlparser=UE.htmlparser=function(e,t){function n(e,t){if(d[e.tagName]){var n=u.createElement(d[e.tagName]);e.appendChild(n),n.appendChild(u.createText(t)),e=n}else e.appendChild(u.createText(t))}function i(e,t,n){var r;if(r=c[t]){for(var a,s=e;"root"!=s.type;){if(utils.isArray(r)?-1!=utils.indexOf(r,s.tagName):r==s.tagName){e=s,a=!0;break}s=s.parentNode}a||(e=i(e,utils.isArray(r)?r[0]:r))}var d=new u({parentNode:e,type:"element",tagName:t.toLowerCase(),children:dtd.$empty[t]?null:[]});if(n){for(var f,p={};f=o.exec(n);)p[f[1].toLowerCase()]=l[f[1].toLowerCase()]?f[2]||f[3]||f[4]:utils.unhtml(f[2]||f[3]||f[4]);d.attrs=p}return e.children.push(d),dtd.$empty[t]?e:d}var r=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,o=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,a={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};e=e.replace(new RegExp(domUtils.fillChar,"g"),""),t||(e=e.replace(new RegExp("[\\r\\t\\n"+(t?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(t?"":" ")+"]*","g"),function(e,n){return n&&a[n.toLowerCase()]?e.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):e.replace(new RegExp("^[\\r\\n"+(t?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(t?"":" ")+"]+$"),"")}));for(var s,l={href:1,src:1},u=UE.uNode,c={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},d={ol:"li",ul:"li"},f=0,p=0,h=new u({type:"root",children:[]}),m=h;s=r.exec(e);){f=s.index;try{if(f>p&&n(m,e.slice(p,f)),s[3])dtd.$cdata[m.tagName]?n(m,s[0]):m=i(m,s[3].toLowerCase(),s[4]);else if(s[1]){if("root"!=m.type)if(dtd.$cdata[m.tagName]&&!dtd.$cdata[s[1]])n(m,s[0]);else{for(var g=m;"element"==m.type&&m.tagName!=s[1].toLowerCase();)if(m=m.parentNode,"root"==m.type)throw m=g,"break";m=m.parentNode}}else s[2]&&function(e,t){e.children.push(new u({type:"comment",data:t,parentNode:e}))}(m,s[2])}catch(e){}p=r.lastIndex}return p<e.length&&n(m,e.slice(p)),h},filterNode=UE.filterNode=function(){function e(t,n){switch(t.type){case"text":break;case"element":var i;if(i=n[t.tagName])if("-"===i)t.parentNode.removeChild(t);else if(utils.isFunction(i)){var r=t.parentNode,o=t.getIndex();if(i(t),t.parentNode){if(t.children)for(var a,s=0;a=t.children[s];)e(a,n),a.parentNode&&s++}else for(var a,s=o;a=r.children[s];)e(a,n),a.parentNode&&s++}else{var l=i.$;if(l&&t.attrs){var u,c={};for(var d in l){if(u=t.getAttr(d),"style"==d&&utils.isArray(l[d])){var f=[];utils.each(l[d],function(e){var n;(n=t.getStyle(e))&&f.push(e+":"+n)}),u=f.join(";")}u&&(c[d]=u)}t.attrs=c}if(t.children)for(var a,s=0;a=t.children[s];)e(a,n),a.parentNode&&s++}else if(dtd.$cdata[t.tagName])t.parentNode.removeChild(t);else{var r=t.parentNode,o=t.getIndex();t.parentNode.removeChild(t,!0);for(var a,s=o;a=r.children[s];)e(a,n),a.parentNode&&s++}break;case"comment":t.parentNode.removeChild(t)}}return function(t,n){if(utils.isEmptyObject(n))return t;var i;(i=n["-"])&&utils.each(i.split(" "),function(e){n[e]="-"});for(var r,o=0;r=t.children[o];)e(r,n),r.parentNode&&o++;return t}}();UE.plugin=function(){var e={};return{register:function(t,n,i,r){i&&utils.isFunction(i)&&(r=i,i=null),e[t]={optionName:i||t,execFn:n,afterDisabled:r}},load:function(t){utils.each(e,function(e){var n=e.execFn.call(t);!1!==t.options[e.optionName]?n&&utils.each(n,function(e,n){switch(n.toLowerCase()){case"shortcutkey":t.addshortcutkey(e);break;case"bindevents":utils.each(e,function(e,n){t.addListener(n,e)});break;case"bindmultievents":utils.each(utils.isArray(e)?e:[e],function(e){var n=utils.trim(e.type).split(/\s+/);utils.each(n,function(n){t.addListener(n,e.handler)})});break;case"commands":utils.each(e,function(e,n){t.commands[n]=e});break;case"outputrule":t.addOutputRule(e);break;case"inputrule":t.addInputRule(e);break;case"defaultoptions":t.setOpt(e)}}):e.afterDisabled&&e.afterDisabled.call(t)}),utils.each(UE.plugins,function(e){e.call(t)})},run:function(t,n){var i=e[t];i&&i.exeFn.call(n)}}}();var keymap=UE.keymap={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Del:46,NumLock:144,Cmd:91,"=":187,"-":189,b:66,i:73,z:90,y:89,v:86,x:88,s:83,n:78},LocalStorage=UE.LocalStorage=function(){var e=window.localStorage||function(){var e=document.createElement("div");return e.style.display="none",e.addBehavior?(e.addBehavior("#default#userdata"),{getItem:function(n){var i=null;try{document.body.appendChild(e),e.load(t),i=e.getAttribute(n),document.body.removeChild(e)}catch(e){}return i},setItem:function(n,i){document.body.appendChild(e),e.setAttribute(n,i),e.save(t),document.body.removeChild(e)},removeItem:function(n){document.body.appendChild(e),e.removeAttribute(n),e.save(t),document.body.removeChild(e)}}):null}()||null,t="localStorage";return{saveLocalData:function(t,n){return!(!e||!n)&&(e.setItem(t,n),!0)},getLocalData:function(t){return e?e.getItem(t):null},removeItem:function(t){e&&e.removeItem(t)}}}();!function(){var e="ueditor_preference";UE.Editor.prototype.setPreferences=function(t,n){var i={};utils.isString(t)?i[t]=n:i=t;var r=LocalStorage.getLocalData(e);r&&(r=utils.str2json(r))?utils.extend(r,i):r=i,r&&LocalStorage.saveLocalData(e,utils.json2str(r))},UE.Editor.prototype.getPreferences=function(t){var n=LocalStorage.getLocalData(e);return n&&(n=utils.str2json(n))?t?n[t]:n:null},UE.Editor.prototype.removePreferences=function(t){var n=LocalStorage.getLocalData(e);n&&(n=utils.str2json(n))&&(n[t]=void 0,delete n[t]),n&&LocalStorage.saveLocalData(e,utils.json2str(n))}}(),UE.plugins.defaultfilter=function(){var e=this;e.setOpt({allowDivTransToP:!0,disabledTableInTable:!0}),e.addInputRule(function(t){function n(e){for(;e&&"element"==e.type;){if("td"==e.tagName)return!0;e=e.parentNode}return!1}var i,r=this.options.allowDivTransToP;t.traversal(function(t){if("element"==t.type){if(!dtd.$cdata[t.tagName]&&e.options.autoClearEmptyNode&&dtd.$inline[t.tagName]&&!dtd.$empty[t.tagName]&&(!t.attrs||utils.isEmptyObject(t.attrs)))return void(t.firstChild()?"span"!=t.tagName||t.attrs&&!utils.isEmptyObject(t.attrs)||t.parentNode.removeChild(t,!0):t.parentNode.removeChild(t));switch(t.tagName){case"style":case"script":t.setAttr({cdata_tag:t.tagName,cdata_data:t.innerHTML()||"",_ue_custom_node_:"true"}),t.tagName="div",t.innerHTML("");break;case"a":(i=t.getAttr("href"))&&t.setAttr("_href",i);break;case"img":if((i=t.getAttr("src"))&&/^data:/.test(i)){t.parentNode.removeChild(t);break}t.setAttr("_src",t.getAttr("src"));break;case"span":browser.webkit&&(i=t.getStyle("white-space"))&&/nowrap|normal/.test(i)&&(t.setStyle("white-space",""),e.options.autoClearEmptyNode&&utils.isEmptyObject(t.attrs)&&t.parentNode.removeChild(t,!0)),i=t.getAttr("id"),i&&/^_baidu_bookmark_/i.test(i)&&t.parentNode.removeChild(t);break;case"p":(i=t.getAttr("align"))&&(t.setAttr("align"),t.setStyle("text-align",i)),utils.each(t.children,function(e){if("element"==e.type&&"p"==e.tagName){var n=e.nextSibling();t.parentNode.insertAfter(e,t);for(var i=e;n;){var r=n.nextSibling();t.parentNode.insertAfter(n,i),i=n,n=r}return!1}}),t.firstChild()||t.innerHTML(browser.ie?"&nbsp;":"<br/>");break;case"div":if(t.getAttr("cdata_tag"))break;if((i=t.getAttr("class"))&&/^line number\d+/.test(i))break;if(!r)break;for(var o,a=UE.uNode.createElement("p");o=t.firstChild();)"text"!=o.type&&UE.dom.dtd.$block[o.tagName]?a.firstChild()?(t.parentNode.insertBefore(a,t),a=UE.uNode.createElement("p")):t.parentNode.insertBefore(o,t):a.appendChild(o);a.firstChild()&&t.parentNode.insertBefore(a,t),t.parentNode.removeChild(t);break;case"dl":t.tagName="ul";break;case"dt":case"dd":t.tagName="li";break;case"li":var s=t.getAttr("class");s&&/list\-/.test(s)||t.setAttr();var l=t.getNodesByTagName("ol ul");UE.utils.each(l,function(e){t.parentNode.insertAfter(e,t)});break;case"td":case"th":case"caption":t.children&&t.children.length||t.appendChild(browser.ie11below?UE.uNode.createText(" "):UE.uNode.createElement("br"));break;case"table":e.options.disabledTableInTable&&n(t)&&(t.parentNode.insertBefore(UE.uNode.createText(t.innerText()),t),t.parentNode.removeChild(t))}}})}),e.addOutputRule(function(t){var n;t.traversal(function(t){if("element"==t.type){if(e.options.autoClearEmptyNode&&dtd.$inline[t.tagName]&&!dtd.$empty[t.tagName]&&(!t.attrs||utils.isEmptyObject(t.attrs)))return void(t.firstChild()?"span"!=t.tagName||t.attrs&&!utils.isEmptyObject(t.attrs)||t.parentNode.removeChild(t,!0):t.parentNode.removeChild(t));switch(t.tagName){case"div":(n=t.getAttr("cdata_tag"))&&(t.tagName=n,t.appendChild(UE.uNode.createText(t.getAttr("cdata_data"))),t.setAttr({cdata_tag:"",cdata_data:"",_ue_custom_node_:""}));break;case"a":(n=t.getAttr("_href"))&&t.setAttr({href:utils.html(n),_href:""});break;case"span":n=t.getAttr("id"),n&&/^_baidu_bookmark_/i.test(n)&&t.parentNode.removeChild(t);break;case"img":(n=t.getAttr("_src"))&&t.setAttr({src:t.getAttr("_src"),_src:""})}}})})},UE.commands.inserthtml={execCommand:function(e,t,n){var i,r,o=this;if(t&&!0!==o.fireEvent("beforeinserthtml",t)){if(i=o.selection.getRange(),r=i.document.createElement("div"),r.style.display="inline",!n){var a=UE.htmlparser(t);o.options.filterRules&&UE.filterNode(a,o.options.filterRules),o.filterInputRule(a),t=a.toHtml()}if(r.innerHTML=utils.trim(t),!i.collapsed){var s=i.startContainer;if(domUtils.isFillChar(s)&&i.setStartBefore(s),s=i.endContainer,domUtils.isFillChar(s)&&i.setEndAfter(s),i.txtToElmBoundary(),i.endContainer&&1==i.endContainer.nodeType&&(s=i.endContainer.childNodes[i.endOffset])&&domUtils.isBr(s)&&i.setEndAfter(s),0==i.startOffset&&(s=i.startContainer,domUtils.isBoundaryNode(s,"firstChild")&&(s=i.endContainer,i.endOffset==(3==s.nodeType?s.nodeValue.length:s.childNodes.length)&&domUtils.isBoundaryNode(s,"lastChild")&&(o.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",i.setStart(o.body.firstChild,0).collapse(!0)))),!i.collapsed&&i.deleteContents(),1==i.startContainer.nodeType){var l,u=i.startContainer.childNodes[i.startOffset];if(u&&domUtils.isBlockElm(u)&&(l=u.previousSibling)&&domUtils.isBlockElm(l)){for(i.setEnd(l,l.childNodes.length).collapse();u.firstChild;)l.appendChild(u.firstChild);domUtils.remove(u)}}}var u,c,l,d,f,p=0;i.inFillChar()&&(u=i.startContainer,domUtils.isFillChar(u)?(i.setStartBefore(u).collapse(!0),domUtils.remove(u)):domUtils.isFillChar(u,!0)&&(u.nodeValue=u.nodeValue.replace(fillCharReg,""),i.startOffset--,i.collapsed&&i.collapse(!0)));var h=domUtils.findParentByTagName(i.startContainer,"li",!0);if(h){for(var m,g;u=r.firstChild;){for(;u&&(3==u.nodeType||!domUtils.isBlockElm(u)||"HR"==u.tagName);)m=u.nextSibling,i.insertNode(u).collapse(),g=u,u=m;if(u)if(/^(ol|ul)$/i.test(u.tagName)){for(;u.firstChild;)g=u.firstChild,domUtils.insertAfter(h,u.firstChild),h=h.nextSibling;domUtils.remove(u)}else{var v;m=u.nextSibling,v=o.document.createElement("li"),domUtils.insertAfter(h,v),v.appendChild(u),g=u,u=m,h=v}}h=domUtils.findParentByTagName(i.startContainer,"li",!0),domUtils.isEmptyBlock(h)&&domUtils.remove(h),g&&i.setStartAfter(g).collapse(!0).select(!0)}else{for(;u=r.firstChild;){if(p){for(var y=o.document.createElement("p");u&&(3==u.nodeType||!dtd.$block[u.tagName]);)f=u.nextSibling,y.appendChild(u),u=f;y.firstChild&&(u=y)}if(i.insertNode(u),f=u.nextSibling,!p&&u.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(u)&&(c=domUtils.findParent(u,function(e){return domUtils.isBlockElm(e)}))&&"body"!=c.tagName.toLowerCase()&&(!dtd[c.tagName][u.nodeName]||u.parentNode!==c)){if(dtd[c.tagName][u.nodeName])for(d=u.parentNode;d!==c;)l=d,d=d.parentNode;else l=c;domUtils.breakParent(u,l||d);var l=u.previousSibling;domUtils.trimWhiteTextNode(l),l.childNodes.length||domUtils.remove(l),!browser.ie&&(m=u.nextSibling)&&domUtils.isBlockElm(m)&&m.lastChild&&!domUtils.isBr(m.lastChild)&&m.appendChild(o.document.createElement("br")),p=1}var m=u.nextSibling;if(!r.firstChild&&m&&domUtils.isBlockElm(m)){i.setStart(m,0).collapse(!0);break}i.setEndAfter(u).collapse()}if(u=i.startContainer,f&&domUtils.isBr(f)&&domUtils.remove(f),domUtils.isBlockElm(u)&&domUtils.isEmptyNode(u))if(f=u.nextSibling)domUtils.remove(u),1==f.nodeType&&dtd.$block[f.tagName]&&i.setStart(f,0).collapse(!0).shrinkBoundary();else try{u.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(e){i.setStartBefore(u),domUtils.remove(u)}try{i.select(!0)}catch(e){}}setTimeout(function(){i=o.selection.getRange(),i.scrollToView(o.autoHeightEnabled,o.autoHeightEnabled?domUtils.getXY(o.iframe).y:0),o.fireEvent("afterinserthtml",t)},200)}}},UE.plugins.autotypeset=function(){function e(e,t){return e&&3!=e.nodeType?domUtils.isBr(e)?1:e&&e.parentNode&&c[e.tagName.toLowerCase()]?o&&o.contains(e)||e.getAttribute("pagebreak")?0:t?!domUtils.isEmptyBlock(e):domUtils.isEmptyBlock(e,new RegExp("[\\s"+domUtils.fillChar+"]","g")):void 0:0}function t(e){e.style.cssText||(domUtils.removeAttributes(e,["style"]),"span"==e.tagName.toLowerCase()&&domUtils.hasNoAttributes(e)&&domUtils.remove(e,!0))}function n(n,a){var c,d=this;if(a){if(!s.pasteFilter)return;c=d.document.createElement("div"),c.innerHTML=a.html}else c=d.document.body;for(var f,p=domUtils.getElementsByTagName(c,"*"),h=0;f=p[h++];)if(!0!==d.fireEvent("excludeNodeinautotype",f)){if(s.clearFontSize&&f.style.fontSize&&(domUtils.removeStyle(f,"font-size"),t(f)),s.clearFontFamily&&f.style.fontFamily&&(domUtils.removeStyle(f,"font-family"),t(f)),e(f)){if(s.mergeEmptyline)for(var m,g=f.nextSibling,v=domUtils.isBr(f);e(g)&&(m=g,g=m.nextSibling,!v||g&&(!g||domUtils.isBr(g)));)domUtils.remove(m);if(s.removeEmptyline&&domUtils.inDoc(f,c)&&!u[f.parentNode.tagName.toLowerCase()]){if(domUtils.isBr(f)&&(g=f.nextSibling)&&!domUtils.isBr(g))continue;domUtils.remove(f);continue}}if(e(f,!0)&&"SPAN"!=f.tagName&&(s.indent&&(f.style.textIndent=s.indentValue),s.textAlign&&(f.style.textAlign=s.textAlign)),s.removeClass&&f.className&&!l[f.className.toLowerCase()]){if(o&&o.contains(f))continue;domUtils.removeAttributes(f,["class"])}if(s.imageBlockLine&&"img"==f.tagName.toLowerCase()&&!f.getAttribute("emotion"))if(a){var y=f;switch(s.imageBlockLine){case"left":case"right":case"none":for(var m,b,g,x=y.parentNode;dtd.$inline[x.tagName]||"A"==x.tagName;)x=x.parentNode;if(m=x,"P"==m.tagName&&"center"==domUtils.getStyle(m,"text-align")&&!domUtils.isBody(m)&&1==domUtils.getChildCount(m,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(b=m.previousSibling,g=m.nextSibling,b&&g&&1==b.nodeType&&1==g.nodeType&&b.tagName==g.tagName&&domUtils.isBlockElm(b)){for(b.appendChild(m.firstChild);g.firstChild;)b.appendChild(g.firstChild);domUtils.remove(m),domUtils.remove(g)}else domUtils.setStyle(m,"text-align","");domUtils.setStyle(y,"float",s.imageBlockLine);break;case"center":if("center"!=d.queryCommandValue("imagefloat")){for(x=y.parentNode,domUtils.setStyle(y,"float","none"),m=y;x&&1==domUtils.getChildCount(x,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[x.tagName]||"A"==x.tagName);)m=x,x=x.parentNode;var w=d.document.createElement("p");domUtils.setAttributes(w,{style:"text-align:center"}),m.parentNode.insertBefore(w,m),w.appendChild(m),domUtils.setStyle(m,"float","")}}}else{var C=d.selection.getRange();C.selectNode(f).select(),d.execCommand("imagefloat",s.imageBlockLine)}s.removeEmptyNode&&s.removeTagNames[f.tagName.toLowerCase()]&&domUtils.hasNoAttributes(f)&&domUtils.isEmptyBlock(f)&&domUtils.remove(f)}if(s.tobdc){var N=UE.htmlparser(c.innerHTML);N.traversal(function(e){"text"==e.type&&(e.data=r(e.data))}),c.innerHTML=N.toHtml()}if(s.bdc2sb){var N=UE.htmlparser(c.innerHTML);N.traversal(function(e){"text"==e.type&&(e.data=i(e.data))}),c.innerHTML=N.toHtml()}a&&(a.html=c.innerHTML)}function i(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);t+=i>=65281&&i<=65373?String.fromCharCode(e.charCodeAt(n)-65248):12288==i?String.fromCharCode(e.charCodeAt(n)-12288+32):e.charAt(n)}return t}function r(e){e=utils.html(e);for(var t="",n=0;n<e.length;n++)32==e.charCodeAt(n)?t+=String.fromCharCode(12288):e.charCodeAt(n)<127?t+=String.fromCharCode(e.charCodeAt(n)+65248):t+=e.charAt(n);return t}this.setOpt({autotypeset:{mergeEmptyline:!0,removeClass:!0,removeEmptyline:!1,textAlign:"left",imageBlockLine:"center",pasteFilter:!1,clearFontSize:!1,clearFontFamily:!1,removeEmptyNode:!1,removeTagNames:utils.extend({div:1},dtd.$removeEmpty),indent:!1,indentValue:"2em",bdc2sb:!1,tobdc:!1}});var o,a=this,s=a.options.autotypeset,l={selectTdClass:1,pagebreak:1,anchorclass:1},u={li:1},c={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1};s&&(!function(){var e=a.getPreferences("autotypeset");utils.extend(a.options.autotypeset,e)}(),s.pasteFilter&&a.addListener("beforepaste",n),a.commands.autotypeset={execCommand:function(){a.removeListener("beforepaste",n),s.pasteFilter&&a.addListener("beforepaste",n),n.call(a)}})},UE.plugin.register("autosubmit",function(){return{shortcutkey:{autosubmit:"ctrl+13"},commands:{autosubmit:{execCommand:function(){var e=this,t=domUtils.findParentByTagName(e.iframe,"form",!1);if(t){if(!1===e.fireEvent("beforesubmit"))return;e.sync(),t.submit()}}}}}}),UE.plugin.register("background",function(){function e(e){var t={},n=e.split(";");return utils.each(n,function(e){var n=e.indexOf(":"),i=utils.trim(e.substr(0,n)).toLowerCase();i&&(t[i]=utils.trim(e.substr(n+1)||""))}),t}function t(e){if(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]+"; ");utils.cssRule(r,t.length?"body{"+t.join("")+"}":"",i.document)}else utils.cssRule(r,"",i.document)}var n,i=this,r="editor_background",o=new RegExp("body[\\s]*\\{(.+)\\}","i"),a=i.hasContents;return i.hasContents=function(){return!!i.queryCommandValue("background")||a.apply(i,arguments)},{bindEvents:{getAllHtml:function(e,t){var n=this.body,r=domUtils.getComputedStyle(n,"background-image"),o="";o=r.indexOf(i.options.imagePath)>0?r.substring(r.indexOf(i.options.imagePath),r.length-1).replace(/"|\(|\)/gi,""):"none"!=r?r.replace(/url\("?|"?\)/gi,""):"";var a='<style type="text/css">body{',s={"background-color":domUtils.getComputedStyle(n,"background-color")||"#ffffff","background-image":o?"url("+o+")":"","background-repeat":domUtils.getComputedStyle(n,"background-repeat")||"","background-position":browser.ie?domUtils.getComputedStyle(n,"background-position-x")+" "+domUtils.getComputedStyle(n,"background-position-y"):domUtils.getComputedStyle(n,"background-position"),height:domUtils.getComputedStyle(n,"height")};for(var l in s)s.hasOwnProperty(l)&&(a+=l+":"+s[l]+"; ");a+="}</style> ",t.push(a)},aftersetcontent:function(){0==n&&t()}},inputRule:function(i){n=!1,utils.each(i.getNodesByTagName("p"),function(i){var r=i.getAttr("data-background");r&&(n=!0,t(e(r)),i.parentNode.removeChild(i))})},outputRule:function(e){var t=this,n=(utils.cssRule(r,t.document)||"").replace(/[\n\r]+/g,"").match(o);n&&e.appendChild(UE.uNode.createElement('<p style="display:none;" data-background="'+utils.trim(n[1].replace(/"/g,"").replace(/[\s]+/g," "))+'"><br/></p>'))},commands:{background:{execCommand:function(e,n){t(n)},queryCommandValue:function(){var t=this,n=(utils.cssRule(r,t.document)||"").replace(/[\n\r]+/g,"").match(o);return n?e(n[1]):null},notNeedUndo:!0}}}}),UE.commands.imagefloat={execCommand:function(e,t){var n=this,i=n.selection.getRange();if(!i.collapsed){var r=i.getClosedNode();if(r&&"IMG"==r.tagName)switch(t){case"left":case"right":case"none":for(var o,a,s,l=r.parentNode;dtd.$inline[l.tagName]||"A"==l.tagName;)l=l.parentNode;if(o=l,"P"==o.tagName&&"center"==domUtils.getStyle(o,"text-align")){if(!domUtils.isBody(o)&&1==domUtils.getChildCount(o,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(a=o.previousSibling,s=o.nextSibling,a&&s&&1==a.nodeType&&1==s.nodeType&&a.tagName==s.tagName&&domUtils.isBlockElm(a)){for(a.appendChild(o.firstChild);s.firstChild;)a.appendChild(s.firstChild);domUtils.remove(o),domUtils.remove(s)}else domUtils.setStyle(o,"text-align","");i.selectNode(r).select()}domUtils.setStyle(r,"float","none"==t?"":t),"none"==t&&domUtils.removeAttributes(r,"align");break;case"center":if("center"!=n.queryCommandValue("imagefloat")){for(l=r.parentNode,domUtils.setStyle(r,"float",""),domUtils.removeAttributes(r,"align"),o=r;l&&1==domUtils.getChildCount(l,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[l.tagName]||"A"==l.tagName);)o=l,l=l.parentNode;i.setStartBefore(o).setCursor(!1),l=n.document.createElement("div"),l.appendChild(o),domUtils.setStyle(o,"float",""),n.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+l.innerHTML+"</p>"),o=n.document.getElementById("_img_parent_tmp"),o.removeAttribute("id"),o=o.firstChild,i.selectNode(o).select(),s=o.parentNode.nextSibling,s&&domUtils.isEmptyNode(s)&&domUtils.remove(s)}}}},queryCommandValue:function(){var e,t,n=this.selection.getRange();return n.collapsed?"none":(e=n.getClosedNode(),e&&1==e.nodeType&&"IMG"==e.tagName?(t=domUtils.getComputedStyle(e,"float")||e.getAttribute("align"),"none"==t&&(t="center"==domUtils.getComputedStyle(e.parentNode,"text-align")?"center":t),{left:1,right:1,center:1}[t]?t:"none"):"none")},queryCommandState:function(){var e,t=this.selection.getRange();return t.collapsed?-1:(e=t.getClosedNode(),e&&1==e.nodeType&&"IMG"==e.tagName?0:-1)}},UE.commands.insertimage={execCommand:function(e,t){function n(e){utils.each("width,height,border,hspace,vspace".split(","),function(t){e[t]&&(e[t]=parseInt(e[t],10)||0)}),utils.each("src,_src".split(","),function(t){e[t]&&(e[t]=utils.unhtmlForUrl(e[t]))}),utils.each("title,alt".split(","),function(t){e[t]&&(e[t]=utils.unhtml(e[t]))})}if(t=utils.isArray(t)?t:[t],t.length){var i=this,r=i.selection.getRange(),o=r.getClosedNode();if(!0!==i.fireEvent("beforeinsertimage",t)){if(!o||!/img/i.test(o.tagName)||"edui-faked-video"==o.className&&-1==o.className.indexOf("edui-upload-video")||o.getAttribute("word_img")){var a,s=[],l="";if(a=t[0],1==t.length)n(a),l='<img src="'+a.src+'" '+(a._src?' _src="'+a._src+'" ':"")+(a.width?'width="'+a.width+'" ':"")+(a.height?' height="'+a.height+'" ':"")+("left"==a.floatStyle||"right"==a.floatStyle?' style="float:'+a.floatStyle+';"':"")+(a.title&&""!=a.title?' title="'+a.title+'"':"")+(a.border&&"0"!=a.border?' border="'+a.border+'"':"")+(a.alt&&""!=a.alt?' alt="'+a.alt+'"':"")+(a.hspace&&"0"!=a.hspace?' hspace = "'+a.hspace+'"':"")+(a.vspace&&"0"!=a.vspace?' vspace = "'+a.vspace+'"':"")+"/>","center"==a.floatStyle&&(l='<p style="text-align: center">'+l+"</p>"),s.push(l);else for(var u=0;a=t[u++];)n(a),l="<p "+("center"==a.floatStyle?'style="text-align: center" ':"")+'><img src="'+a.src+'" '+(a.width?'width="'+a.width+'" ':"")+(a._src?' _src="'+a._src+'" ':"")+(a.height?' height="'+a.height+'" ':"")+' style="'+(a.floatStyle&&"center"!=a.floatStyle?"float:"+a.floatStyle+";":"")+(a.border||"")+'" '+(a.title?' title="'+a.title+'"':"")+" /></p>",s.push(l);i.execCommand("insertHtml",s.join(""))}else{var c=t.shift(),d=c.floatStyle;delete c.floatStyle,domUtils.setAttributes(o,c),i.execCommand("imagefloat",d),t.length>0&&(r.setStartAfter(o).setCursor(!1,!0),i.execCommand("insertimage",t))}i.fireEvent("afterinsertimage",t)}}}},UE.plugins.justify=function(){var e=domUtils.isBlockElm,t={left:1,right:1,center:1,justify:1},n=function(t,n){var i=t.createBookmark(),r=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)};t.enlarge(!0);for(var o,a=t.createBookmark(),s=domUtils.getNextDomNode(a.start,!1,r),l=t.cloneRange();s&&!(domUtils.getPosition(s,a.end)&domUtils.POSITION_FOLLOWING);)if(3!=s.nodeType&&e(s))s=domUtils.getNextDomNode(s,!0,r);else{for(l.setStartBefore(s);s&&s!==a.end&&!e(s);)o=s,s=domUtils.getNextDomNode(s,!1,null,function(t){return!e(t)});l.setEndAfter(o);var u=l.getCommonAncestor();if(!domUtils.isBody(u)&&e(u))domUtils.setStyles(u,utils.isString(n)?{"text-align":n}:n),s=u;else{var c=t.document.createElement("p");domUtils.setStyles(c,utils.isString(n)?{"text-align":n}:n);var d=l.extractContents();c.appendChild(d),l.insertNode(c),s=c}s=domUtils.getNextDomNode(s,!1,r)}return t.moveToBookmark(a).moveToBookmark(i)};UE.commands.justify={execCommand:function(e,t){var i,r=this.selection.getRange();return r.collapsed&&(i=this.document.createTextNode("p"),r.insertNode(i)),n(r,t),i&&(r.setStartBefore(i).collapse(!0),domUtils.remove(i)),r.select(),!0},queryCommandValue:function(){var e=this.selection.getStart(),n=domUtils.getComputedStyle(e,"text-align");return t[n]?n:"left"},queryCommandState:function(){var e=this.selection.getStart();return e&&domUtils.findParentByTagName(e,["td","th","caption"],!0)?-1:0}}},UE.plugins.font=function(){function e(e){for(var t;(t=e.parentNode)&&"SPAN"==t.tagName&&1==domUtils.getChildCount(t,function(e){return!domUtils.isBookmarkNode(e)&&!domUtils.isBr(e)});)t.style.cssText+=e.style.cssText,domUtils.remove(e,!0),e=t}function t(e,t,n){if(a[t]&&(e.adjustmentBoundary(),!e.collapsed&&1==e.startContainer.nodeType)){var i=e.startContainer.childNodes[e.startOffset];if(i&&domUtils.isTagNode(i,"span")){var r=e.createBookmark();utils.each(domUtils.getElementsByTagName(i,"span"),function(e){e.parentNode&&!domUtils.isBookmarkNode(e)&&("backcolor"==t&&domUtils.getComputedStyle(e,"background-color").toLowerCase()===n||(domUtils.removeStyle(e,a[t]),0==e.style.cssText.replace(/^\s+$/,"").length&&domUtils.remove(e,!0)))}),e.moveToBookmark(r)}}}function n(n,i,r){var o,a=n.collapsed,s=n.createBookmark();if(a)for(o=s.start.parentNode;dtd.$inline[o.tagName];)o=o.parentNode;else o=domUtils.getCommonAncestor(s.start,s.end);utils.each(domUtils.getElementsByTagName(o,"span"),function(t){if(t.parentNode&&!domUtils.isBookmarkNode(t)){if(/\s*border\s*:\s*none;?\s*/i.test(t.style.cssText))return void(/^\s*border\s*:\s*none;?\s*$/.test(t.style.cssText)?domUtils.remove(t,!0):domUtils.removeStyle(t,"border"));if(/border/i.test(t.style.cssText)&&"SPAN"==t.parentNode.tagName&&/border/i.test(t.parentNode.style.cssText)&&(t.style.cssText=t.style.cssText.replace(/border[^:]*:[^;]+;?/gi,"")),"fontborder"!=i||"none"!=r)for(var n=t.nextSibling;n&&1==n.nodeType&&"SPAN"==n.tagName;)if(domUtils.isBookmarkNode(n)&&"fontborder"==i)t.appendChild(n),n=t.nextSibling;else{if(n.style.cssText==t.style.cssText&&(domUtils.moveChild(n,t),domUtils.remove(n)),t.nextSibling===n)break;n=t.nextSibling}if(e(t),browser.ie&&browser.version>8){var o=domUtils.findParent(t,function(e){return"SPAN"==e.tagName&&/background-color/.test(e.style.cssText)});o&&!/background-color/.test(t.style.cssText)&&(t.style.backgroundColor=o.style.backgroundColor)}}}),n.moveToBookmark(s),t(n,i,r)}var i=this,r={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},o={underline:1,strikethrough:1,fontborder:1},a={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"};i.setOpt({fontfamily:[{name:"songti",val:",SimSun"},{name:"yahei",val:",Microsoft YaHei"},{name:"kaiti",val:",_GB2312, SimKai"},{name:"heiti",val:", SimHei"},{name:"lishu",val:", SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]}),i.addInputRule(function(e){utils.each(e.getNodesByTagName("u s del font strike"),function(e){if("font"==e.tagName){var t=[];for(var n in e.attrs)switch(n){case"size":t.push("font-size:"+({1:"10",2:"12",3:"16",4:"18",5:"24",6:"32",7:"48"}[e.attrs[n]]||e.attrs[n])+"px");break;case"color":t.push("color:"+e.attrs[n]);break;case"face":t.push("font-family:"+e.attrs[n]);break;case"style":t.push(e.attrs[n])}e.attrs={style:t.join(";")}}else{var i="u"==e.tagName?"underline":"line-through";e.attrs={style:(e.getAttr("style")||"")+"text-decoration:"+i+";"}}e.tagName="span"})});for(var s in r)!function(e,t){UE.commands[e]={execCommand:function(i,r){r=r||(this.queryCommandState(i)?"none":"underline"==i?"underline":"fontborder"==i?"1px solid #000":"line-through");var a,s=this,l=this.selection.getRange();if("default"==r)l.collapsed&&(a=s.document.createTextNode("font"),l.insertNode(a).select()),s.execCommand("removeFormat","span,a",t),a&&(l.setStartBefore(a).collapse(!0),domUtils.remove(a)),n(l,i,r),l.select();else if(l.collapsed){var u=domUtils.findParentByTagName(l.startContainer,"span",!0);if(a=s.document.createTextNode("font"),!u||u.children.length||u[browser.ie?"innerText":"textContent"].replace(fillCharReg,"").length){if(l.insertNode(a),l.selectNode(a).select(),u=l.document.createElement("span"),o[e]){if(domUtils.findParentByTagName(a,"a",!0))return l.setStartBefore(a).setCursor(),void domUtils.remove(a);s.execCommand("removeFormat","span,a",t)}if(u.style.cssText=t+":"+r,a.parentNode.insertBefore(u,a),!browser.ie||browser.ie&&9==browser.version)for(var c=u.parentNode;!domUtils.isBlockElm(c);)"SPAN"==c.tagName&&(u.style.cssText=c.style.cssText+";"+u.style.cssText),c=c.parentNode;opera?setTimeout(function(){l.setStart(u,0).collapse(!0),n(l,i,r),l.select()}):(l.setStart(u,0).collapse(!0),n(l,i,r),l.select())}else l.insertNode(a),o[e]&&(l.selectNode(a).select(),s.execCommand("removeFormat","span,a",t,null),u=domUtils.findParentByTagName(a,"span",!0),l.setStartBefore(a)),u&&(u.style.cssText+=";"+t+":"+r),l.collapse(!0).select();domUtils.remove(a)}else o[e]&&s.queryCommandValue(e)&&s.execCommand("removeFormat","span,a",t),l=s.selection.getRange(),l.applyInlineStyle("span",{style:t+":"+r}),n(l,i,r),l.select();return!0},queryCommandValue:function(e){var n=this.selection.getStart();if("underline"==e||"strikethrough"==e){for(var i,r=n;r&&!domUtils.isBlockElm(r)&&!domUtils.isBody(r);){if(1==r.nodeType&&"none"!=(i=domUtils.getComputedStyle(r,t)))return i;r=r.parentNode}return"none"}if("fontborder"==e){for(var o,a=n;a&&dtd.$inline[a.tagName];){if((o=domUtils.getComputedStyle(a,"border"))&&/1px/.test(o)&&/solid/.test(o))return o;a=a.parentNode}return""}if("FontSize"==e){var s=domUtils.getComputedStyle(n,t),a=/^([\d\.]+)(\w+)$/.exec(s);return a?Math.floor(a[1])+a[2]:s}return domUtils.getComputedStyle(n,t)},queryCommandState:function(e){if(!o[e])return 0;var t=this.queryCommandValue(e);return"fontborder"==e?/1px/.test(t)&&/solid/.test(t):"underline"==e?/underline/.test(t):/line\-through/.test(t)}}}(s,r[s])},UE.plugins.link=function(){function e(e){var t=e.startContainer,n=e.endContainer;(t=domUtils.findParentByTagName(t,"a",!0))&&e.setStartBefore(t),(n=domUtils.findParentByTagName(n,"a",!0))&&e.setEndAfter(n)}function t(t,n,i){var r=t.cloneRange(),o=i.queryCommandValue("link");e(t=t.adjustmentBoundary());var a=t.startContainer;if(1==a.nodeType&&o&&(a=a.childNodes[t.startOffset])&&1==a.nodeType&&"A"==a.tagName&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(a[browser.ie?"innerText":"textContent"])&&(a[browser.ie?"innerText":"textContent"]=utils.html(n.textValue||n.href)),r.collapsed&&!o||(t.removeInlineStyle("a"),r=t.cloneRange()),r.collapsed){var s=t.document.createElement("a"),l="";n.textValue?(l=utils.html(n.textValue),delete n.textValue):l=utils.html(n.href),domUtils.setAttributes(s,n),a=domUtils.findParentByTagName(r.startContainer,"a",!0),a&&domUtils.isInNodeEndBoundary(r,a)&&t.setStartAfter(a).collapse(!0),s[browser.ie?"innerText":"textContent"]=l,t.insertNode(s).selectNode(s)}else t.applyInlineStyle("a",n)}UE.commands.unlink={execCommand:function(){var t,n=this.selection.getRange();n.collapsed&&!domUtils.findParentByTagName(n.startContainer,"a",!0)||(t=n.createBookmark(),e(n),n.removeInlineStyle("a").moveToBookmark(t).select())},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}},UE.commands.link={execCommand:function(e,n){var i;n._href&&(n._href=utils.unhtml(n._href,/[<">]/g)),n.href&&(n.href=utils.unhtml(n.href,/[<">]/g)),n.textValue&&(n.textValue=utils.unhtml(n.textValue,/[<">]/g)),t(i=this.selection.getRange(),n,this),i.collapse().select(!0)},queryCommandValue:function(){var e,t=this.selection.getRange();if(!t.collapsed){t.shrinkBoundary();var n=3!=t.startContainer.nodeType&&t.startContainer.childNodes[t.startOffset]?t.startContainer.childNodes[t.startOffset]:t.startContainer,i=3==t.endContainer.nodeType||0==t.endOffset?t.endContainer:t.endContainer.childNodes[t.endOffset-1],r=t.getCommonAncestor();if(!(e=domUtils.findParentByTagName(r,"a",!0))&&1==r.nodeType)for(var o,a,s,l=r.getElementsByTagName("a"),u=0;s=l[u++];)if(o=domUtils.getPosition(s,n),a=domUtils.getPosition(s,i),(o&domUtils.POSITION_FOLLOWING||o&domUtils.POSITION_CONTAINS)&&(a&domUtils.POSITION_PRECEDING||a&domUtils.POSITION_CONTAINS)){e=s;break}return e}if(e=t.startContainer,(e=1==e.nodeType?e:e.parentNode)&&(e=domUtils.findParentByTagName(e,"a",!0))&&!domUtils.isInNodeEndBoundary(t,e))return e},queryCommandState:function(){var e=this.selection.getRange().getClosedNode();return!e||"edui-faked-video"!=e.className&&-1==e.className.indexOf("edui-upload-video")?0:-1}}},UE.plugins.insertframe=function(){function e(){t._iframe&&delete t._iframe}var t=this;t.addListener("selectionchange",function(){e()})},UE.commands.scrawl={queryCommandState:function(){return browser.ie&&browser.version<=8?-1:0}},UE.plugins.removeformat=function(){var e=this;e.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"}),e.commands.removeformat={execCommand:function(e,t,n,i,r){function o(e){if(3==e.nodeType||"span"!=e.tagName.toLowerCase())return 0;if(browser.ie){var t=e.attributes;if(t.length){for(var n=0,i=t.length;n<i;n++)if(t[n].specified)return 0;return 1}}return!e.attributes.length}var a,s,l=new RegExp("^(?:"+(t||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),u=n?[]:(i||this.options.removeFormatAttributes).split(","),c=new dom.Range(this.document),d=function(e){return 1==e.nodeType};c=this.selection.getRange(),function(e){var t=e.createBookmark();if(e.collapsed&&e.enlarge(!0),!r){var i=domUtils.findParentByTagName(e.startContainer,"a",!0);i&&e.setStartBefore(i),(i=domUtils.findParentByTagName(e.endContainer,"a",!0))&&e.setEndAfter(i)}for(a=e.createBookmark(),m=a.start;(s=m.parentNode)&&!domUtils.isBlockElm(s);)domUtils.breakParent(m,s),domUtils.clearEmptySibling(m);if(a.end){for(m=a.end;(s=m.parentNode)&&!domUtils.isBlockElm(s);)domUtils.breakParent(m,s),domUtils.clearEmptySibling(m);for(var c,f=domUtils.getNextDomNode(a.start,!1,d);f&&f!=a.end;)c=domUtils.getNextDomNode(f,!0,d),dtd.$empty[f.tagName.toLowerCase()]||domUtils.isBookmarkNode(f)||(l.test(f.tagName)?n?(domUtils.removeStyle(f,n),o(f)&&"text-decoration"!=n&&domUtils.remove(f,!0)):domUtils.remove(f,!0):dtd.$tableContent[f.tagName]||dtd.$list[f.tagName]||(domUtils.removeAttributes(f,u),o(f)&&domUtils.remove(f,!0))),f=c}var p=a.start.parentNode;!domUtils.isBlockElm(p)||dtd.$tableContent[p.tagName]||dtd.$list[p.tagName]||domUtils.removeAttributes(p,u),p=a.end.parentNode,a.end&&domUtils.isBlockElm(p)&&!dtd.$tableContent[p.tagName]&&!dtd.$list[p.tagName]&&domUtils.removeAttributes(p,u),e.moveToBookmark(a).moveToBookmark(t);for(var h,m=e.startContainer,g=e.collapsed;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)h=m.parentNode,e.setStartBefore(m),e.startContainer===e.endContainer&&e.endOffset--,domUtils.remove(m),m=h;if(!g)for(m=e.endContainer;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)h=m.parentNode,e.setEndBefore(m),domUtils.remove(m),m=h}(c),c.select()}}},UE.plugins.blockquote=function(){function e(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),"blockquote")}this.commands.blockquote={execCommand:function(t,n){var i=this.selection.getRange(),r=e(this),o=dtd.blockquote,a=i.createBookmark();if(r){var s=i.startContainer,l=domUtils.isBlockElm(s)?s:domUtils.findParent(s,function(e){return domUtils.isBlockElm(e)}),u=i.endContainer,c=domUtils.isBlockElm(u)?u:domUtils.findParent(u,function(e){return domUtils.isBlockElm(e)});l=domUtils.findParentByTagName(l,"li",!0)||l,c=domUtils.findParentByTagName(c,"li",!0)||c,"LI"==l.tagName||"TD"==l.tagName||l===r||domUtils.isBody(l)?domUtils.remove(r,!0):domUtils.breakParent(l,r),l!==c&&(r=domUtils.findParentByTagName(c,"blockquote"))&&("LI"==c.tagName||"TD"==c.tagName||domUtils.isBody(c)?r.parentNode&&domUtils.remove(r,!0):domUtils.breakParent(c,r));for(var d,f=domUtils.getElementsByTagName(this.document,"blockquote"),p=0;d=f[p++];)d.childNodes.length?domUtils.getPosition(d,l)&domUtils.POSITION_FOLLOWING&&domUtils.getPosition(d,c)&domUtils.POSITION_PRECEDING&&domUtils.remove(d,!0):domUtils.remove(d)}else{for(var h=i.cloneRange(),m=1==h.startContainer.nodeType?h.startContainer:h.startContainer.parentNode,g=m,v=1;;){if(domUtils.isBody(m)){g!==m?i.collapsed?(h.selectNode(g),v=0):h.setStartBefore(g):h.setStart(m,0);break}if(!o[m.tagName]){i.collapsed?h.selectNode(g):h.setStartBefore(g);break}g=m,m=m.parentNode}if(v)for(g=m=m=1==h.endContainer.nodeType?h.endContainer:h.endContainer.parentNode;;){if(domUtils.isBody(m)){g!==m?h.setEndAfter(g):h.setEnd(m,m.childNodes.length);break}if(!o[m.tagName]){h.setEndAfter(g);break}g=m,m=m.parentNode}m=i.document.createElement("blockquote"),domUtils.setAttributes(m,n),m.appendChild(h.extractContents()),h.insertNode(m);for(var y,b=domUtils.getElementsByTagName(m,"blockquote"),p=0;y=b[p++];)y.parentNode&&domUtils.remove(y,!0)}i.moveToBookmark(a).select()},queryCommandState:function(){return e(this)?1:0}}},UE.commands.touppercase=UE.commands.tolowercase={execCommand:function(e){var t=this,n=t.selection.getRange();if(n.collapsed)return n;for(var i=n.createBookmark(),r=i.end,o=function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)},a=domUtils.getNextDomNode(i.start,!1,o);a&&domUtils.getPosition(a,r)&domUtils.POSITION_PRECEDING&&(3==a.nodeType&&(a.nodeValue=a.nodeValue["touppercase"==e?"toUpperCase":"toLowerCase"]()),(a=domUtils.getNextDomNode(a,!0,o))!==r););n.moveToBookmark(i).select()}},UE.commands.indent={execCommand:function(){var e=this,t=e.queryCommandState("indent")?"0em":e.options.indentValue||"2em";e.execCommand("Paragraph","p",{style:"text-indent:"+t})},queryCommandState:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e&&e.style.textIndent&&parseInt(e.style.textIndent)?1:0}},UE.commands.print={execCommand:function(){this.window.print()},notNeedUndo:1},UE.commands.preview={execCommand:function(){var e=window.open("","_blank",""),t=e.document;t.open(),t.write('<!DOCTYPE html><html><head><meta charset="utf-8"/><script src="'+this.options.UEDITOR_HOME_URL+"ueditor.parse.js\"><\/script><script>setTimeout(function(){uParse('div',{rootPath: '"+this.options.UEDITOR_HOME_URL+"'})},300)<\/script></head><body><div>"+this.getContent(null,null,!0)+"</div></body></html>"),t.close()},notNeedUndo:1},UE.plugins.selectall=function(){var e=this;e.commands.selectall={execCommand:function(){var e=this,t=e.body,n=e.selection.getRange();n.selectNodeContents(t),domUtils.isEmptyBlock(t)&&(browser.opera&&t.firstChild&&1==t.firstChild.nodeType&&n.setStartAtFirst(t.firstChild),n.collapse(!0)),n.select(!0)},notNeedUndo:1},e.addshortcutkey({selectAll:"ctrl+65"})},UE.plugins.paragraph=function(){var e=this,t=domUtils.isBlockElm,n=["TD","LI","PRE"],i=function(e,i,r,o){var a,s=e.createBookmark(),l=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)};e.enlarge(!0);for(var u,c=e.createBookmark(),d=domUtils.getNextDomNode(c.start,!1,l),f=e.cloneRange();d&&!(domUtils.getPosition(d,c.end)&domUtils.POSITION_FOLLOWING);)if(3!=d.nodeType&&t(d))d=domUtils.getNextDomNode(d,!0,l);else{for(f.setStartBefore(d);d&&d!==c.end&&!t(d);)u=d,d=domUtils.getNextDomNode(d,!1,null,function(e){return!t(e)});f.setEndAfter(u),a=e.document.createElement(i),r&&(domUtils.setAttributes(a,r),o&&"customstyle"==o&&r.style&&(a.style.cssText=r.style)),a.appendChild(f.extractContents()),domUtils.isEmptyNode(a)&&domUtils.fillChar(e.document,a),f.insertNode(a);var p=a.parentNode;t(p)&&!domUtils.isBody(a.parentNode)&&-1==utils.indexOf(n,p.tagName)&&(o&&"customstyle"==o||(p.getAttribute("dir")&&a.setAttribute("dir",p.getAttribute("dir")),p.style.cssText&&(a.style.cssText=p.style.cssText+";"+a.style.cssText),p.style.textAlign&&!a.style.textAlign&&(a.style.textAlign=p.style.textAlign),p.style.textIndent&&!a.style.textIndent&&(a.style.textIndent=p.style.textIndent),p.style.padding&&!a.style.padding&&(a.style.padding=p.style.padding)),r&&/h\d/i.test(p.tagName)&&!/h\d/i.test(a.tagName)?(domUtils.setAttributes(p,r),o&&"customstyle"==o&&r.style&&(p.style.cssText=r.style),domUtils.remove(a,!0),a=p):domUtils.remove(a.parentNode,!0)),d=-1!=utils.indexOf(n,p.tagName)?p:a,d=domUtils.getNextDomNode(d,!1,l)}return e.moveToBookmark(c).moveToBookmark(s)};e.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""}),e.commands.paragraph={execCommand:function(e,t,n,r){var o=this.selection.getRange();if(o.collapsed){var a=this.document.createTextNode("p");if(o.insertNode(a),browser.ie){var s=a.previousSibling;s&&domUtils.isWhitespace(s)&&domUtils.remove(s),s=a.nextSibling,s&&domUtils.isWhitespace(s)&&domUtils.remove(s)}}if(o=i(o,t,n,r),a&&(o.setStartBefore(a).collapse(!0),pN=a.parentNode,domUtils.remove(a),domUtils.isBlockElm(pN)&&domUtils.isEmptyNode(pN)&&domUtils.fillNode(this.document,pN)),browser.gecko&&o.collapsed&&1==o.startContainer.nodeType){var l=o.startContainer.childNodes[o.startOffset];l&&1==l.nodeType&&l.tagName.toLowerCase()==t&&o.setStart(l,0).collapse(!0)}return o.select(),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e?e.tagName.toLowerCase():""}}},function(){var e=domUtils.isBlockElm,t=function(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),function(e){return e&&1==e.nodeType&&e.getAttribute("dir")})},n=function(n,i,r){var o,a=function(e){return 1==e.nodeType?!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)},s=t(i);if(s&&n.collapsed)return s.setAttribute("dir",r),n;o=n.createBookmark(),n.enlarge(!0);for(var l,u=n.createBookmark(),c=domUtils.getNextDomNode(u.start,!1,a),d=n.cloneRange();c&&!(domUtils.getPosition(c,u.end)&domUtils.POSITION_FOLLOWING);)if(3!=c.nodeType&&e(c))c=domUtils.getNextDomNode(c,!0,a);else{for(d.setStartBefore(c);c&&c!==u.end&&!e(c);)l=c,c=domUtils.getNextDomNode(c,!1,null,function(t){return!e(t)});d.setEndAfter(l);var f=d.getCommonAncestor();if(!domUtils.isBody(f)&&e(f))f.setAttribute("dir",r),c=f;else{var p=n.document.createElement("p");p.setAttribute("dir",r);var h=d.extractContents();p.appendChild(h),d.insertNode(p),c=p}c=domUtils.getNextDomNode(c,!1,a)}return n.moveToBookmark(u).moveToBookmark(o)};UE.commands.directionality={execCommand:function(e,t){var i=this.selection.getRange();if(i.collapsed){var r=this.document.createTextNode("d");i.insertNode(r)}return n(i,this,t),r&&(i.setStartBefore(r).collapse(!0),domUtils.remove(r)),i.select(),!0},queryCommandValue:function(){var e=t(this);return e?e.getAttribute("dir"):"ltr"}}}(),UE.plugins.horizontal=function(){var e=this;e.commands.horizontal={execCommand:function(e){var t=this;if(-1!==t.queryCommandState(e)){t.execCommand("insertHtml","<hr>");var n=t.selection.getRange(),i=n.startContainer;if(1==i.nodeType&&!i.childNodes[n.startOffset]){var r;(r=i.childNodes[n.startOffset-1])&&1==r.nodeType&&"HR"==r.tagName&&("p"==t.options.enterTag?(r=t.document.createElement("p"),n.insertNode(r),n.setStart(r,0).setCursor()):(r=t.document.createElement("br"),n.insertNode(r),n.setStartBefore(r).setCursor()))}return!0}},queryCommandState:function(){return domUtils.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}},e.addListener("delkeydown",function(e,t){var n=this.selection.getRange();if(n.txtToElmBoundary(!0),domUtils.isStartInblock(n)){var i=n.startContainer,r=i.previousSibling;if(r&&domUtils.isTagNode(r,"hr"))return domUtils.remove(r),n.select(),domUtils.preventDefault(t),!0}})},UE.commands.time=UE.commands.date={execCommand:function(e,t){var n=new Date;this.execCommand("insertHtml","time"==e?function(e,t){var n=("0"+e.getHours()).slice(-2),i=("0"+e.getMinutes()).slice(-2),r=("0"+e.getSeconds()).slice(-2);return t=t||"hh:ii:ss",t.replace(/hh/gi,n).replace(/ii/gi,i).replace(/ss/gi,r)}(n,t):function(e,t){var n=("000"+e.getFullYear()).slice(-4),i=n.slice(-2),r=("0"+(e.getMonth()+1)).slice(-2),o=("0"+e.getDate()).slice(-2);return t=t||"yyyy-mm-dd",t.replace(/yyyy/gi,n).replace(/yy/gi,i).replace(/mm/gi,r).replace(/dd/gi,o)}(n,t))}},UE.plugins.rowspacing=function(){var e=this;e.setOpt({rowspacingtop:["5","10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]}),e.commands.rowspacing={execCommand:function(e,t,n){return this.execCommand("paragraph","p",{style:"margin-"+n+":"+t+"px"}),!0},queryCommandValue:function(e,t){var n=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});return n?domUtils.getComputedStyle(n,"margin-"+t).replace(/[^\d]/g,"")||0:0}}},UE.plugins.lineheight=function(){var e=this;e.setOpt({lineheight:["1","1.5","1.75","2","3","4","5"]}),e.commands.lineheight={execCommand:function(e,t){return this.execCommand("paragraph","p",{style:"line-height:"+("1"==t?"normal":t+"em")}),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});if(e){var t=domUtils.getComputedStyle(e,"line-height");return"normal"==t?1:t.replace(/[^\d.]*/gi,"")}}}},UE.plugins.insertcode=function(){var e=this;e.ready(function(){utils.cssRule("pre","pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",e.document)}),e.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"}),e.commands.insertcode={execCommand:function(e,t){var n=this,i=n.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"pre",!0);if(r)r.className="brush:"+t+";toolbar:false;";else{var o="";if(i.collapsed)o=browser.ie&&browser.ie11below?browser.version<=8?"&nbsp;":"":"<br/>";else{var a=i.extractContents(),s=n.document.createElement("div");s.appendChild(a),utils.each(UE.filterNode(UE.htmlparser(s.innerHTML.replace(/[\r\t]/g,"")),n.options.filterTxtRules).children,function(e){if(browser.ie&&browser.ie11below&&browser.version>8)"element"==e.type?"br"==e.tagName?o+="\n":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?o+="\n":dtd.$empty[e.tagName]||(o+=t.innerText()):o+=t.data}),/\n$/.test(o)||(o+="\n")):o+=e.data+"\n",!e.nextSibling()&&/\n$/.test(o)&&(o=o.replace(/\n$/,""));else if(browser.ie&&browser.ie11below)"element"==e.type?"br"==e.tagName?o+="<br>":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?o+="<br>":dtd.$empty[e.tagName]||(o+=t.innerText()):o+=t.data}),/br>$/.test(o)||(o+="<br>")):o+=e.data+"<br>",!e.nextSibling()&&/<br>$/.test(o)&&(o=o.replace(/<br>$/,""));else if(o+="element"==e.type?dtd.$empty[e.tagName]?"":e.innerText():e.data,!/br\/?\s*>$/.test(o)){if(!e.nextSibling())return;o+="<br>"}})}n.execCommand("inserthtml",'<pre id="coder"class="brush:'+t+';toolbar:false">'+o+"</pre>",!0),r=n.document.getElementById("coder"),domUtils.removeAttributes(r,"id");var l=r.previousSibling;l&&(3==l.nodeType&&1==l.nodeValue.length&&browser.ie&&6==browser.version||domUtils.isEmptyBlock(l))&&domUtils.remove(l);var i=n.selection.getRange();domUtils.isEmptyBlock(r)?i.setStart(r,0).setCursor(!1,!0):i.selectNodeContents(r).select()}},queryCommandValue:function(){var e=this.selection.getStartElementPath(),t="";return utils.each(e,function(e){if("PRE"==e.nodeName){var n=e.className.match(/brush:([^;]+)/);return t=n&&n[1]?n[1]:"",!1}}),t}},e.addInputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(e){var t=e.getNodesByTagName("br");if(t.length)return void(browser.ie&&browser.ie11below&&browser.version>8&&utils.each(t,function(e){var t=UE.uNode.createText("\n");e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}));if(!(browser.ie&&browser.ie11below&&browser.version>8)){var n=e.innerText().split(/\n/);e.innerHTML(""),utils.each(n,function(t){t.length&&e.appendChild(UE.uNode.createText(t)),e.appendChild(UE.uNode.createElement("br"))})}})}),e.addOutputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(e){var t="";utils.each(e.children,function(e){"text"==e.type?t+=e.data.replace(/[ ]/g,"&nbsp;").replace(/\n$/,""):"br"==e.tagName?t+="\n":t+=dtd.$empty[e.tagName]?e.innerText():""}),e.innerText(t.replace(/(&nbsp;|\n)+$/,""))})}),e.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,insertcode:1,inserthtml:1,selectall:1};e.queryCommandState;e.queryCommandState=function(e){var t=this;return!t.notNeedCodeQuery[e.toLowerCase()]&&t.selection&&t.queryCommandValue("insertcode")?-1:UE.Editor.prototype.queryCommandState.apply(this,arguments)},e.addListener("beforeenterkeydown",function(){var t=e.selection.getRange(),n=domUtils.findParentByTagName(t.startContainer,"pre",!0);if(n){if(e.fireEvent("saveScene"),t.collapsed||t.deleteContents(),!browser.ie||browser.ie9above){var n,i=e.document.createElement("br");t.insertNode(i).setStartAfter(i).collapse(!0);i.nextSibling||browser.ie&&!(browser.version>10)?t.setStartAfter(i):t.insertNode(i.cloneNode(!1)),n=i.previousSibling;for(var r;n;)if(r=n,!(n=n.previousSibling)||"BR"==n.nodeName){n=r;break}if(n){for(var o="";n&&"BR"!=n.nodeName&&new RegExp("^[\\s"+domUtils.fillChar+"]*$").test(n.nodeValue);)o+=n.nodeValue,n=n.nextSibling;if("BR"!=n.nodeName){var a=n.nodeValue.match(new RegExp("^([\\s"+domUtils.fillChar+"]+)"));a&&a[1]&&(o+=a[1])}o&&(o=e.document.createTextNode(o),t.insertNode(o).setStartAfter(o))}t.collapse(!0).select(!0)}else if(browser.version>8){var s=e.document.createTextNode("\n"),l=t.startContainer;if(0==t.startOffset){var u=l.previousSibling;if(u){t.insertNode(s);var c=e.document.createTextNode(" ");t.setStartAfter(s).insertNode(c).setStart(c,0).collapse(!0).select(!0)}}else{t.insertNode(s).setStartAfter(s);var c=e.document.createTextNode(" ");l=t.startContainer.childNodes[t.startOffset],l&&!/^\n/.test(l.nodeValue)&&t.setStartBefore(s),t.insertNode(c).setStart(c,0).collapse(!0).select(!0)}}else{var i=e.document.createElement("br");t.insertNode(i),t.insertNode(e.document.createTextNode(domUtils.fillChar)),t.setStartAfter(i),n=i.previousSibling;for(var r;n;)if(r=n,!(n=n.previousSibling)||"BR"==n.nodeName){n=r;break}if(n){for(var o="";n&&"BR"!=n.nodeName&&new RegExp("^[ "+domUtils.fillChar+"]*$").test(n.nodeValue);)o+=n.nodeValue,n=n.nextSibling;if("BR"!=n.nodeName){var a=n.nodeValue.match(new RegExp("^([ "+domUtils.fillChar+"]+)"));a&&a[1]&&(o+=a[1])}o=e.document.createTextNode(o),t.insertNode(o).setStartAfter(o)}t.collapse(!0).select()}return e.fireEvent("saveScene"),!0}}),e.addListener("tabkeydown",function(t,n){var i=e.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"pre",!0);if(r){if(e.fireEvent("saveScene"),n.shiftKey);else if(i.collapsed){var o=e.document.createTextNode("    ");i.insertNode(o).setStartAfter(o).collapse(!0).select(!0)}else{for(var a=i.createBookmark(),s=a.start.previousSibling;s;){if(r.firstChild===s&&!domUtils.isBr(s)){r.insertBefore(e.document.createTextNode("    "),s);break}if(domUtils.isBr(s)){r.insertBefore(e.document.createTextNode("    "),s.nextSibling);break}s=s.previousSibling}var l=a.end;for(s=a.start.nextSibling,r.firstChild===a.start&&r.insertBefore(e.document.createTextNode("    "),s.nextSibling);s&&s!==l;){if(domUtils.isBr(s)&&s.nextSibling){if(s.nextSibling===l)break;r.insertBefore(e.document.createTextNode("    "),s.nextSibling)}s=s.nextSibling}i.moveToBookmark(a).select()}return e.fireEvent("saveScene"),!0}}),e.addListener("beforeinserthtml",function(e,t){var n=this,i=n.selection.getRange();if(domUtils.findParentByTagName(i.startContainer,"pre",!0)){i.collapsed||i.deleteContents();var r="";if(browser.ie&&browser.version>8){utils.each(UE.filterNode(UE.htmlparser(t),n.options.filterTxtRules).children,function(e){"element"==e.type?"br"==e.tagName?r+="\n":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?r+="\n":dtd.$empty[e.tagName]||(r+=t.innerText()):r+=t.data}),/\n$/.test(r)||(r+="\n")):r+=e.data+"\n",!e.nextSibling()&&/\n$/.test(r)&&(r=r.replace(/\n$/,""))});var o=n.document.createTextNode(utils.html(r.replace(/&nbsp;/g," ")));i.insertNode(o).selectNode(o).select()}else{var a=n.document.createDocumentFragment();utils.each(UE.filterNode(UE.htmlparser(t),n.options.filterTxtRules).children,function(e){"element"==e.type?"br"==e.tagName?a.appendChild(n.document.createElement("br")):dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?a.appendChild(n.document.createElement("br")):dtd.$empty[e.tagName]||a.appendChild(n.document.createTextNode(utils.html(t.innerText().replace(/&nbsp;/g," ")))):a.appendChild(n.document.createTextNode(utils.html(t.data.replace(/&nbsp;/g," "))))}),"BR"!=a.lastChild.nodeName&&a.appendChild(n.document.createElement("br"))):a.appendChild(n.document.createTextNode(utils.html(e.data.replace(/&nbsp;/g," ")))),e.nextSibling()||"BR"!=a.lastChild.nodeName||a.removeChild(a.lastChild)}),i.insertNode(a).select()}return!0}}),e.addListener("keydown",function(e,t){var n=this;if(40==(t.keyCode||t.which)){var i,r=n.selection.getRange(),o=r.startContainer;if(r.collapsed&&(i=domUtils.findParentByTagName(r.startContainer,"pre",!0))&&!i.nextSibling){for(var a=i.lastChild;a&&"BR"==a.nodeName;)a=a.previousSibling;(a===o||r.startContainer===i&&r.startOffset==i.childNodes.length)&&(n.execCommand("insertparagraph"),domUtils.preventDefault(t))}}}),e.addListener("delkeydown",function(t,n){var i=this.selection.getRange();i.txtToElmBoundary(!0);var r=i.startContainer;if(domUtils.isTagNode(r,"pre")&&i.collapsed&&domUtils.isStartInblock(i)){var o=e.document.createElement("p");return domUtils.fillNode(e.document,o),r.parentNode.insertBefore(o,r),domUtils.remove(r),i.setStart(o,0).setCursor(!1,!0),domUtils.preventDefault(n),!0}})},UE.commands.cleardoc={execCommand:function(e){var t=this,n=t.options.enterTag,i=t.selection.getRange();"br"==n?(t.body.innerHTML="<br/>",i.setStart(t.body,0).setCursor()):(t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",i.setStart(t.body.firstChild,0).setCursor(!1,!0)),setTimeout(function(){t.fireEvent("clearDoc")},0)}},UE.plugin.register("anchor",function(){return{bindEvents:{ready:function(){utils.cssRule("anchor",".anchorclass{background: url('"+this.options.themePath+this.options.theme+"/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}",this.document)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var t;(t=e.getAttr("anchorname"))&&(e.tagName="a",e.setAttr({anchorname:"",name:t,class:""}))})},inputRule:function(e){utils.each(e.getNodesByTagName("a"),function(e){e.getAttr("name")&&!e.getAttr("href")&&(e.tagName="img",e.setAttr({anchorname:e.getAttr("name"),class:"anchorclass"}),e.setAttr("name"))})},commands:{anchor:{execCommand:function(e,t){var n=this.selection.getRange(),i=n.getClosedNode();if(i&&i.getAttribute("anchorname"))t?i.setAttribute("anchorname",t):(n.setStartBefore(i).setCursor(),domUtils.remove(i));else if(t){var r=this.document.createElement("img");n.collapse(!0),domUtils.setAttributes(r,{anchorname:t,class:"anchorclass"}),n.insertNode(r).setStartAfter(r).setCursor(!1,!0)}}}}}}),UE.plugins.wordcount=function(){var e=this;e.setOpt("wordCount",!0),e.addListener("contentchange",function(){e.fireEvent("wordcount")});var t;e.addListener("ready",function(){var e=this;domUtils.on(e.body,"keyup",function(n){(n.keyCode||n.which)in{16:1,18:1,20:1,37:1,38:1,39:1,40:1}||(clearTimeout(t),t=setTimeout(function(){e.fireEvent("wordcount")},200))})})},UE.plugins.pagebreak=function(){function e(e){if(domUtils.isEmptyBlock(e)){for(var t,i=e.firstChild;i&&1==i.nodeType&&domUtils.isEmptyBlock(i);)t=i,i=i.firstChild;!t&&(t=e),domUtils.fillNode(n.document,t)}}function t(e){return e&&1==e.nodeType&&"HR"==e.tagName&&"pagebreak"==e.className}var n=this,i=["td"];n.setOpt("pageBreakTag","_ueditor_page_break_tag_"),n.ready(function(){utils.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",n.document)}),n.addInputRule(function(e){e.traversal(function(e){if("text"==e.type&&e.data==n.options.pageBreakTag){var t=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}})}),n.addOutputRule(function(e){utils.each(e.getNodesByTagName("hr"),function(e){if("pagebreak"==e.getAttr("class")){var t=UE.uNode.createText(n.options.pageBreakTag);e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}})}),n.commands.pagebreak={execCommand:function(){var r=n.selection.getRange(),o=n.document.createElement("hr");domUtils.setAttributes(o,{class:"pagebreak",noshade:"noshade",size:"5"}),domUtils.unSelectable(o);var a,s=domUtils.findParentByTagName(r.startContainer,i,!0),l=[];if(s)switch(s.tagName){case"TD":if(a=s.parentNode,a.previousSibling)a.parentNode.insertBefore(o,a),l=domUtils.findParents(o);else{var u=domUtils.findParentByTagName(a,"table");u.parentNode.insertBefore(o,u),l=domUtils.findParents(o,!0)}a=l[1],o!==a&&domUtils.breakParent(o,a),n.fireEvent("afteradjusttable",n.document)}else{if(!r.collapsed){r.deleteContents();for(var c=r.startContainer;!domUtils.isBody(c)&&domUtils.isBlockElm(c)&&domUtils.isEmptyNode(c);)r.setStartBefore(c).collapse(!0),domUtils.remove(c),c=r.startContainer}r.insertNode(o);for(var d,a=o.parentNode;!domUtils.isBody(a);)domUtils.breakParent(o,a),d=o.nextSibling,d&&domUtils.isEmptyBlock(d)&&domUtils.remove(d),a=o.parentNode;d=o.nextSibling;var f=o.previousSibling;if(t(f)?domUtils.remove(f):f&&e(f),d)t(d)?domUtils.remove(d):e(d),r.setEndAfter(o).collapse(!1);else{var p=n.document.createElement("p");o.parentNode.appendChild(p),domUtils.fillNode(n.document,p),r.setStart(p,0).collapse(!0)}r.select(!0)}}}},UE.plugin.register("wordimage",function(){var e=this,t=[];return{commands:{wordimage:{execCommand:function(){for(var t,n=domUtils.getElementsByTagName(e.body,"img"),i=[],r=0;t=n[r++];){var o=t.getAttribute("word_img");o&&i.push(o)}return i},queryCommandState:function(){t=domUtils.getElementsByTagName(e.body,"img");for(var n,i=0;n=t[i++];)if(n.getAttribute("word_img"))return 1;return-1},notNeedUndo:!0}},inputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var n=t.attrs,i=parseInt(n.width)<128||parseInt(n.height)<43,r=e.options,o=r.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";n.src&&/^(?:(file:\/+))/.test(n.src)&&t.setAttr({width:n.width,height:n.height,alt:n.alt,word_img:n.src,src:o,style:"background:url("+(i?r.themePath+r.theme+"/images/word.gif":r.langPath+r.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})})}}}),UE.plugins.dragdrop=function(){var e=this;e.ready(function(){domUtils.on(this.body,"dragend",function(){var t=e.selection.getRange(),n=t.getClosedNode()||e.selection.getStart();if(n&&"IMG"==n.tagName){for(var i,r=n.previousSibling;(i=n.nextSibling)&&1==i.nodeType&&"SPAN"==i.tagName&&!i.firstChild;)domUtils.remove(i);(!r||1!=r.nodeType||domUtils.isEmptyBlock(r))&&r||i&&(!i||domUtils.isEmptyBlock(i))||(r&&"P"==r.tagName&&!domUtils.isEmptyBlock(r)?(r.appendChild(n),domUtils.moveChild(i,r),domUtils.remove(i)):i&&"P"==i.tagName&&!domUtils.isEmptyBlock(i)&&i.insertBefore(n,i.firstChild),r&&"P"==r.tagName&&domUtils.isEmptyBlock(r)&&domUtils.remove(r),i&&"P"==i.tagName&&domUtils.isEmptyBlock(i)&&domUtils.remove(i),t.selectNode(n).select(),e.fireEvent("saveScene"))}})}),e.addListener("keyup",function(t,n){if(13==(n.keyCode||n.which)){var i,r=e.selection.getRange();(i=domUtils.findParentByTagName(r.startContainer,"p",!0))&&"center"==domUtils.getComputedStyle(i,"text-align")&&domUtils.removeStyle(i,"text-align")}})},UE.plugins.undo=function(){function e(e,t){if(e.length!=t.length)return 0;for(var n=0,i=e.length;n<i;n++)if(e[n]!=t[n])return 0;return 1}function t(t,n){return t.collapsed!=n.collapsed?0:e(t.startAddress,n.startAddress)&&e(t.endAddress,n.endAddress)?1:0}function n(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&1==this.list.length)return void this.reset();for(;this.list[this.index].content==this.list[this.index-1].content;)if(0==--this.index)return this.restore(0);this.restore(--this.index)}},this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==this.list[this.index+1].content;)if(++this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}},this.restore=function(){var e=this.editor,t=this.list[this.index],n=UE.htmlparser(t.content.replace(s,""));e.options.autoClearEmptyNode=!1,e.filterInputRule(n),e.options.autoClearEmptyNode=u,e.document.body.innerHTML=n.toHtml(),e.fireEvent("afterscencerestore"),browser.ie&&utils.each(domUtils.getElementsByTagName(e.document,"td th caption p"),function(t){domUtils.isEmptyNode(t)&&domUtils.fillNode(e.document,t)});try{var i=new dom.Range(e.document).moveToAddress(t.address);i.select(l[i.startContainer.nodeName.toLowerCase()])}catch(e){}this.update(),this.clearKey(),e.fireEvent("reset",!0)},this.getScene=function(){var e=this.editor,t=e.selection.getRange(),n=t.createAddress(!1,!0);e.fireEvent("beforegetscene");var i=UE.htmlparser(e.body.innerHTML);e.options.autoClearEmptyNode=!1,e.filterOutputRule(i),e.options.autoClearEmptyNode=u;var r=i.toHtml();return e.fireEvent("aftergetscene"),{address:n,content:r}},this.save=function(e,n){clearTimeout(i);var a=this.getScene(n),s=this.list[this.index];s&&s.content!=a.content&&r.trigger("contentchange"),s&&s.content==a.content&&(e?1:t(s.address,a.address))||(this.list=this.list.slice(0,this.index+1),this.list.push(a),this.list.length>o&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())},this.update=function(){this.hasRedo=!!this.list[this.index+1],this.hasUndo=!!this.list[this.index-1]},this.reset=function(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.clearKey()},this.clearKey=function(){f=0,c=null}}var i,r=this,o=r.options.maxUndoCount||20,a=r.options.maxInputCount||20,s=new RegExp(domUtils.fillChar+"|</hr>","gi"),l={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},u=r.options.autoClearEmptyNode;r.undoManger=new n,r.undoManger.editor=r,r.addListener("saveScene",function(){var e=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,e)}),r.addListener("reset",function(e,t){t||this.undoManger.reset()}),r.commands.redo=r.commands.undo={execCommand:function(e){this.undoManger[e]()},queryCommandState:function(e){return this.undoManger["has"+("undo"==e.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};var c,d={16:1,17:1,18:1,37:1,38:1,39:1,40:1},f=0,p=!1;r.addListener("ready",function(){domUtils.on(this.body,"compositionstart",function(){p=!0}),domUtils.on(this.body,"compositionend",function(){p=!1})}),r.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});var h=!0;r.addListener("keydown",function(e,t){var n=this,r=t.keyCode||t.which;if(!(d[r]||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var o=function(e){e.undoManger.save(!1,!0),e.fireEvent("selectionchange")};if(p)return;if(!n.selection.getRange().collapsed)return n.undoManger.save(!1,!0),void(h=!1);0==n.undoManger.list.length&&n.undoManger.save(!0),clearTimeout(i),i=setTimeout(function(){if(p)var e=setInterval(function(){p||(o(n),clearInterval(e))},300);else o(n)},200),c=r,f++,f>=a&&o(n)}}),r.addListener("keyup",function(e,t){var n=t.keyCode||t.which;if(!(d[n]||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){if(p)return;h||(this.undoManger.save(!1,!0),h=!0)}}),r.stopCmdUndo=function(){r.__hasEnterExecCommand=!0},r.startCmdUndo=function(){r.__hasEnterExecCommand=!1}},UE.plugin.register("copy",function(){function e(){ZeroClipboard.config({debug:!1,swfPath:t.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.swf"});var e=t.zeroclipboard=new ZeroClipboard;e.on("copy",function(e){var n=e.client,i=t.selection.getRange(),r=document.createElement("div");r.appendChild(i.cloneContents()),n.setText(r.innerText||r.textContent),n.setHtml(r.innerHTML),i.select()}),e.on("mouseover mouseout",function(e){var t=e.target;"mouseover"==e.type?domUtils.addClass(t,"edui-state-hover"):"mouseout"==e.type&&domUtils.removeClasses(t,"edui-state-hover")}),e.on("wrongflash noflash",function(){ZeroClipboard.destroy()})}var t=this;return{bindEvents:{ready:function(){browser.ie||(window.ZeroClipboard?e():utils.loadFile(document,{src:t.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.js",tag:"script",type:"text/javascript",defer:"defer"},function(){e()}))}},commands:{copy:{execCommand:function(e){t.document.execCommand("copy")||alert(t.getLang("copymsg"))}}}}}),UE.plugins.paste=function(){function e(e){var t=this.document;if(!t.getElementById("baidu_pastebin")){var n=this.selection.getRange(),i=n.createBookmark(),r=t.createElement("div");r.id="baidu_pastebin",browser.webkit&&r.appendChild(t.createTextNode(domUtils.fillChar+domUtils.fillChar)),t.body.appendChild(r),i.start.style.display="",r.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+domUtils.getXY(i.start).y+"px",n.selectNodeContents(r).select(!0),setTimeout(function(){if(browser.webkit)for(var o,a=0,s=t.querySelectorAll("#baidu_pastebin");o=s[a++];){if(!domUtils.isEmptyNode(o)){r=o;break}domUtils.remove(o)}try{r.parentNode.removeChild(r)}catch(e){}n.moveToBookmark(i).select(!0),e(r)},0)}}function t(e){return e.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(e,t,n,i){return n=n.toLowerCase(),{img:1}[n]?e:(i=i.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(e,t,n){return{src:1,href:1,name:1}[t.toLowerCase()]?t+"="+n+" ":""}),{span:1,div:1}[n]?"":"<"+t+n+" "+utils.trim(i)+">")})}function n(e){var n;if(e.firstChild){for(var s,l=domUtils.getElementsByTagName(e,"span"),u=0;s=l[u++];)"_baidu_cut_start"!=s.id&&"_baidu_cut_end"!=s.id||domUtils.remove(s);if(browser.webkit){for(var c,d=e.querySelectorAll("div br"),u=0;c=d[u++];){var f=c.parentNode;"DIV"==f.tagName&&1==f.childNodes.length&&(f.innerHTML="<p><br/></p>",domUtils.remove(f))}for(var p,h=e.querySelectorAll("#baidu_pastebin"),u=0;p=h[u++];){var m=i.document.createElement("p");for(p.parentNode.insertBefore(m,p);p.firstChild;)m.appendChild(p.firstChild);domUtils.remove(p)}for(var g,v=e.querySelectorAll("meta"),u=0;g=v[u++];)domUtils.remove(g);var d=e.querySelectorAll("br");for(u=0;g=d[u++];)/^apple-/i.test(g.className)&&domUtils.remove(g)}if(browser.gecko){var y=e.querySelectorAll("[_moz_dirty]");for(u=0;g=y[u++];)g.removeAttribute("_moz_dirty")}if(!browser.ie)for(var g,b=e.querySelectorAll("span.Apple-style-span"),u=0;g=b[u++];)domUtils.remove(g,!0);n=e.innerHTML,n=UE.filterWord(n);var x=UE.htmlparser(n);if(i.options.filterRules&&UE.filterNode(x,i.options.filterRules),i.filterInputRule(x),browser.webkit){var w=x.lastChild();w&&"element"==w.type&&"br"==w.tagName&&x.removeChild(w),utils.each(i.body.querySelectorAll("div"),function(e){domUtils.isEmptyBlock(e)&&domUtils.remove(e,!0)})}if(n={html:x.toHtml()},i.fireEvent("beforepaste",n,x),!n.html)return;x=UE.htmlparser(n.html,!0),1===i.queryCommandState("pasteplain")?i.execCommand("insertHtml",UE.filterNode(x,i.options.filterTxtRules).toHtml(),!0):(UE.filterNode(x,i.options.filterTxtRules),r=x.toHtml(),o=n.html,a=i.selection.getRange().createAddress(!0),i.execCommand("insertHtml",!0===i.getOpt("retainOnlyLabelPasted")?t(o):o,!0)),i.fireEvent("afterpaste",n)}}var i=this;i.setOpt({retainOnlyLabelPasted:!1});var r,o,a;i.addListener("pasteTransfer",function(e,n){if(a&&r&&o&&r!=o){var s=i.selection.getRange();if(s.moveToAddress(a,!0),!s.collapsed){for(;!domUtils.isBody(s.startContainer);){var l=s.startContainer;if(1==l.nodeType){if(!(l=l.childNodes[s.startOffset])){s.setStartBefore(s.startContainer);continue}var u=l.previousSibling;u&&3==u.nodeType&&new RegExp("^[\n\r\t "+domUtils.fillChar+"]*$").test(u.nodeValue)&&s.setStartBefore(u)}if(0!=s.startOffset)break;s.setStartBefore(s.startContainer)}for(;!domUtils.isBody(s.endContainer);){var c=s.endContainer;if(1==c.nodeType){if(!(c=c.childNodes[s.endOffset])){s.setEndAfter(s.endContainer);continue}var d=c.nextSibling;d&&3==d.nodeType&&new RegExp("^[\n\r\t"+domUtils.fillChar+"]*$").test(d.nodeValue)&&s.setEndAfter(d)}if(s.endOffset!=s.endContainer[3==s.endContainer.nodeType?"nodeValue":"childNodes"].length)break;s.setEndAfter(s.endContainer)}}s.deleteContents(),s.select(!0),i.__hasEnterExecCommand=!0;var f=o;2===n?f=t(f):n&&(f=r),i.execCommand("inserthtml",f,!0),i.__hasEnterExecCommand=!1;for(var p=i.selection.getRange();!domUtils.isBody(p.startContainer)&&!p.startOffset&&p.startContainer[3==p.startContainer.nodeType?"nodeValue":"childNodes"].length;)p.setStartBefore(p.startContainer);var h=p.createAddress(!0);a.endAddress=h.startAddress}}),i.addListener("ready",function(){domUtils.on(i.body,"cut",function(){!i.selection.getRange().collapsed&&i.undoManger&&i.undoManger.save()}),domUtils.on(i.body,browser.ie||browser.opera?"keydown":"paste",function(t){(!browser.ie&&!browser.opera||(t.ctrlKey||t.metaKey)&&"86"==t.keyCode)&&e.call(i,function(e){n(e)})})}),i.commands.paste={execCommand:function(t){browser.ie?(e.call(i,function(e){n(e)}),i.document.execCommand("paste")):alert(i.getLang("pastemsg"))}}},UE.plugins.pasteplain=function(){var e=this;e.setOpt({pasteplain:!1,filterTxtRules:function(){function e(e){e.tagName="p",e.setStyle()}function t(e){e.parentNode.removeChild(e,!0)}return{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(e){for(var t,n=UE.uNode.createElement("p");t=e.firstChild();)"text"!=t.type&&UE.dom.dtd.$block[t.tagName]?n.firstChild()?(e.parentNode.insertBefore(n,e),n=UE.uNode.createElement("p")):e.parentNode.insertBefore(t,e):n.appendChild(t);n.firstChild()&&e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)},ol:t,ul:t,dl:t,dt:t,dd:t,li:t,caption:e,th:e,tr:e,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,td:function(e){!!e.innerText()&&e.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),e),e.parentNode.removeChild(e,e.innerText())}}}()});var t=e.options.pasteplain;e.commands.pasteplain={queryCommandState:function(){return t?1:0},execCommand:function(){t=0|!t},notNeedUndo:1}},UE.plugins.list=function(){function e(e){var t=[];for(var n in e)t.push(n);return t}function t(e){var t=e.className;return domUtils.hasClass(e,/custom_/)?t.match(/custom_(\w+)/)[1]:domUtils.getStyle(e,"list-style-type")}function n(e,n){utils.each(domUtils.getElementsByTagName(e,"ol ul"),function(o){if(domUtils.inDoc(o,e)){var a=o.parentNode;if(a.tagName==o.tagName){var s=t(o)||("OL"==o.tagName?"decimal":"disc");if(s==(t(a)||("OL"==a.tagName?"decimal":"disc"))){var l=utils.indexOf(c[o.tagName],s);l=l+1==c[o.tagName].length?0:l+1,r(o,c[o.tagName][l])}}var d=0,f=2;domUtils.hasClass(o,/custom_/)?/[ou]l/i.test(a.tagName)&&domUtils.hasClass(a,/custom_/)||(f=1):/[ou]l/i.test(a.tagName)&&domUtils.hasClass(a,/custom_/)&&(f=3);var p=domUtils.getStyle(o,"list-style-type");p&&(o.style.cssText="list-style-type:"+p),o.className=utils.trim(o.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+f,utils.each(domUtils.getElementsByTagName(o,"li"),function(e){if(e.style.cssText&&(e.style.cssText=""),!e.firstChild)return void domUtils.remove(e);if(e.parentNode===o){if(d++,domUtils.hasClass(o,/custom_/)){var n=1,i=t(o);if("OL"==o.tagName){if(i)switch(i){case"cn":case"cn1":case"cn2":d>10&&(d%10==0||d>10&&d<20)?n=2:d>20&&(n=3);break;case"num2":d>9&&(n=2)}e.className="list-"+u[i]+d+" list-"+i+"-paddingleft-"+n}else e.className="list-"+u[i]+" list-"+i+"-paddingleft"}else e.className=e.className.replace(/list-[\w\-]+/gi,"");var r=e.getAttribute("class");null===r||r.replace(/\s/g,"")||domUtils.removeAttributes(e,"class")}}),!n&&i(o,o.tagName.toLowerCase(),t(o)||domUtils.getStyle(o,"list-style-type"),!0)}})}function i(e,i,r,o){var a=e.nextSibling;a&&1==a.nodeType&&a.tagName.toLowerCase()==i&&(t(a)||domUtils.getStyle(a,"list-style-type")||("ol"==i?"decimal":"disc"))==r&&(domUtils.moveChild(a,e),0==a.childNodes.length&&domUtils.remove(a)),a&&domUtils.isFillChar(a)&&domUtils.remove(a);var s=e.previousSibling;s&&1==s.nodeType&&s.tagName.toLowerCase()==i&&(t(s)||domUtils.getStyle(s,"list-style-type")||("ol"==i?"decimal":"disc"))==r&&domUtils.moveChild(e,s),s&&domUtils.isFillChar(s)&&domUtils.remove(s),!o&&domUtils.isEmptyBlock(e)&&domUtils.remove(e),t(e)&&n(e.ownerDocument,!0)}function r(e,t){u[t]&&(e.className="custom_"+t);try{domUtils.setStyle(e,"list-style-type",t)}catch(e){}}function o(e){var t=e.previousSibling;t&&domUtils.isEmptyBlock(t)&&domUtils.remove(t),(t=e.nextSibling)&&domUtils.isEmptyBlock(t)&&domUtils.remove(t)}function a(e){for(;e&&!domUtils.isBody(e);){if("TABLE"==e.nodeName)return null;if("LI"==e.nodeName)return e;e=e.parentNode}}var s=this,l={TD:1,PRE:1,BLOCKQUOTE:1},u={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};s.setOpt({autoTransWordToList:!1,insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1,disablePInList:!1});var c={OL:e(s.options.insertorderedlist),UL:e(s.options.insertunorderedlist)},d=s.options.listiconpath;for(var f in u)s.options.insertorderedlist.hasOwnProperty(f)||s.options.insertunorderedlist.hasOwnProperty(f)||delete u[f];s.ready(function(){var e=[];for(var t in u){if("dash"==t||"dot"==t)e.push("li.list-"+u[t]+"{background-image:url("+d+u[t]+".gif)}"),e.push("ul.custom_"+t+"{list-style:none;}ul.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}");else{for(var n=0;n<99;n++)e.push("li.list-"+u[t]+n+"{background-image:url("+d+"list-"+u[t]+n+".gif)}");e.push("ol.custom_"+t+"{list-style:none;}ol.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(t){case"cn":e.push("li.list-"+t+"-paddingleft-1{padding-left:25px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn1":e.push("li.list-"+t+"-paddingleft-1{padding-left:30px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn2":e.push("li.list-"+t+"-paddingleft-1{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:55px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":e.push("li.list-"+t+"-paddingleft-1{padding-left:25px}");break;case"num2":e.push("li.list-"+t+"-paddingleft-1{padding-left:35px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}");break;case"dash":e.push("li.list-"+t+"-paddingleft{padding-left:35px}");break;case"dot":e.push("li.list-"+t+"-paddingleft{padding-left:20px}")}}e.push(".list-paddingleft-1{padding-left:0}"),e.push(".list-paddingleft-2{padding-left:"+s.options.listDefaultPaddingLeft+"px}"),e.push(".list-paddingleft-3{padding-left:"+2*s.options.listDefaultPaddingLeft+"px}"),utils.cssRule("list","ol,ul{margin:0;pading:0;"+(browser.ie?"":"width:95%")+"}li{clear:both;}"+e.join("\n"),s.document)}),s.ready(function(){domUtils.on(s.body,"cut",function(){setTimeout(function(){var e,t=s.selection.getRange();if(!t.collapsed&&(e=domUtils.findParentByTagName(t.startContainer,"li",!0))&&!e.nextSibling&&domUtils.isEmptyBlock(e)){var n,i=e.parentNode;if(n=i.previousSibling)domUtils.remove(i),t.setStartAtLast(n).collapse(!0),t.select(!0);else if(n=i.nextSibling)domUtils.remove(i),t.setStartAtFirst(n).collapse(!0),t.select(!0);else{var r=s.document.createElement("p");domUtils.fillNode(s.document,r),i.parentNode.insertBefore(r,i),domUtils.remove(i),t.setStart(r,0).collapse(!0),t.select(!0)}}})})}),s.addListener("beforepaste",function(e,n){var i,r=this,o=r.selection.getRange(),a=UE.htmlparser(n.html,!0);if(i=domUtils.findParentByTagName(o.startContainer,"li",!0)){var s=i.parentNode,l="OL"==s.tagName?"ul":"ol";utils.each(a.getNodesByTagName(l),function(n){if(n.tagName=s.tagName,n.setAttr(),n.parentNode===a)e=t(s)||("OL"==s.tagName?"decimal":"disc");else{var i=n.parentNode.getAttr("class");e=i&&/custom_/.test(i)?i.match(/custom_(\w+)/)[1]:n.parentNode.getStyle("list-style-type"),e||(e="OL"==s.tagName?"decimal":"disc")}var r=utils.indexOf(c[s.tagName],e);n.parentNode!==a&&(r=r+1==c[s.tagName].length?0:r+1);var o=c[s.tagName][r];u[o]?n.setAttr("class","custom_"+o):n.setStyle("list-style-type",o)})}n.html=a.toHtml()}),!0===s.getOpt("disablePInList")&&s.addOutputRule(function(e){utils.each(e.getNodesByTagName("li"),function(e){var t=[],n=0;utils.each(e.children,function(i){if("p"==i.tagName){for(var r;r=i.children.pop();)t.splice(n,0,r),r.parentNode=e,lastNode=r;if(!(r=t[t.length-1])||"element"!=r.type||"br"!=r.tagName){var o=UE.uNode.createElement("br");o.parentNode=e,t.push(o)}n=t.length}}),t.length&&(e.children=t)})}),s.addInputRule(function(e){if(utils.each(e.getNodesByTagName("li"),function(e){for(var t,n=UE.uNode.createElement("p"),i=0;t=e.children[i];)"text"==t.type||dtd.p[t.tagName]?n.appendChild(t):n.firstChild()?(e.insertBefore(n,t),n=UE.uNode.createElement("p"),i+=2):i++;(n.firstChild()&&!n.parentNode||!e.firstChild())&&e.appendChild(n),n.firstChild()||n.innerHTML(browser.ie?"&nbsp;":"<br/>");var r=e.firstChild(),o=r.lastChild();o&&"text"==o.type&&/^\s*$/.test(o.data)&&r.removeChild(o)}),s.options.autoTransWordToList){var t=function(e,t){var r=t.firstChild();if(r&&"element"==r.type&&"span"==r.tagName&&/Wingdings|Symbol/.test(r.getStyle("font-family"))){for(var o in i)if(i[o]==r.data)return o;return"disc"}for(var o in n)if(n[o].test(e))return o},n={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},i={square:"n"};utils.each(e.getNodesByTagName("p"),function(e){if("MsoListParagraph"==e.getAttr("class")){e.setStyle("margin",""),e.setStyle("margin-left",""),e.setAttr("class","");var i,r=e,o=e;if("li"!=e.parentNode.tagName&&(i=t(e.innerText(),e))){var a=UE.uNode.createElement(s.options.insertorderedlist.hasOwnProperty(i)?"ol":"ul");for(u[i]?a.setAttr("class","custom_"+i):a.setStyle("list-style-type",i);e&&"li"!=e.parentNode.tagName&&t(e.innerText(),e);)r=e.nextSibling(),r||e.parentNode.insertBefore(a,e),function(e,t,i){if("ol"==e.tagName)if(browser.ie){var r=t.firstChild();"element"==r.type&&"span"==r.tagName&&n[i].test(r.innerText())&&t.removeChild(r)}else t.innerHTML(t.innerHTML().replace(n[i],""));else t.removeChild(t.firstChild());var o=UE.uNode.createElement("li");o.appendChild(t),e.appendChild(o)}(a,e,i),e=r;!a.parentNode&&e&&e.parentNode&&e.parentNode.insertBefore(a,e)}var l=o.firstChild();l&&"element"==l.type&&"span"==l.tagName&&/^\s*(&nbsp;)+\s*$/.test(l.innerText())&&l.parentNode.removeChild(l)}})}}),s.addListener("contentchange",function(){n(s.document)}),s.addListener("keydown",function(e,t){function n(){t.preventDefault?t.preventDefault():t.returnValue=!1,s.fireEvent("contentchange"),s.undoManger&&s.undoManger.save()}function i(e,t){for(;e&&!domUtils.isBody(e);){if(t(e))return null;if(1==e.nodeType&&/[ou]l/i.test(e.tagName))return e;e=e.parentNode}return null}var r=t.keyCode||t.which;if(13==r&&!t.shiftKey){var a=s.selection.getRange(),l=domUtils.findParent(a.startContainer,function(e){return domUtils.isBlockElm(e)},!0),u=domUtils.findParentByTagName(a.startContainer,"li",!0);if(l&&"PRE"!=l.tagName&&!u){var c=l.innerHTML.replace(new RegExp(domUtils.fillChar,"g"),"");/^\s*1\s*\.[^\d]/.test(c)&&(l.innerHTML=c.replace(/^\s*1\s*\./,""),a.setStartAtLast(l).collapse(!0).select(),s.__hasEnterExecCommand=!0,s.execCommand("insertorderedlist"),s.__hasEnterExecCommand=!1)}var d=s.selection.getRange(),f=i(d.startContainer,function(e){return"TABLE"==e.tagName}),p=d.collapsed?f:i(d.endContainer,function(e){return"TABLE"==e.tagName});if(f&&p&&f===p){if(!d.collapsed){if(f=domUtils.findParentByTagName(d.startContainer,"li",!0),p=domUtils.findParentByTagName(d.endContainer,"li",!0),!f||!p||f!==p){var h=d.cloneRange(),m=h.collapse(!1).createBookmark();d.deleteContents(),h.moveToBookmark(m);var u=domUtils.findParentByTagName(h.startContainer,"li",!0);return o(u),h.select(),void n()}if(d.deleteContents(),(u=domUtils.findParentByTagName(d.startContainer,"li",!0))&&domUtils.isEmptyBlock(u))return w=u.previousSibling,next=u.nextSibling,y=s.document.createElement("p"),domUtils.fillNode(s.document,y),g=u.parentNode,w&&next?(d.setStart(next,0).collapse(!0).select(!0),domUtils.remove(u)):((w||next)&&w?u.parentNode.parentNode.insertBefore(y,g.nextSibling):g.parentNode.insertBefore(y,g),domUtils.remove(u),g.firstChild||domUtils.remove(g),d.setStart(y,0).setCursor()),void n()}if(u=domUtils.findParentByTagName(d.startContainer,"li",!0)){if(domUtils.isEmptyBlock(u)){m=d.createBookmark();var g=u.parentNode;if(u!==g.lastChild?(domUtils.breakParent(u,g),o(u)):(g.parentNode.insertBefore(u,g.nextSibling),domUtils.isEmptyNode(g)&&domUtils.remove(g)),!dtd.$list[u.parentNode.tagName])if(domUtils.isBlockElm(u.firstChild))domUtils.remove(u,!0);else{for(y=s.document.createElement("p"),u.parentNode.insertBefore(y,u);u.firstChild;)y.appendChild(u.firstChild);domUtils.remove(u)}d.moveToBookmark(m).select()}else{var v=u.firstChild;if(!v||!domUtils.isBlockElm(v)){var y=s.document.createElement("p");for(!u.firstChild&&domUtils.fillNode(s.document,y);u.firstChild;)y.appendChild(u.firstChild);u.appendChild(y),v=y}var b=s.document.createElement("span");d.insertNode(b),domUtils.breakParent(b,u);var x=b.nextSibling;v=x.firstChild,v||(y=s.document.createElement("p"),domUtils.fillNode(s.document,y),x.appendChild(y),v=y),domUtils.isEmptyNode(v)&&(v.innerHTML="",domUtils.fillNode(s.document,v)),d.setStart(v,0).collapse(!0).shrinkBoundary().select(),domUtils.remove(b);var w=x.previousSibling;w&&domUtils.isEmptyBlock(w)&&(w.innerHTML="<p></p>",domUtils.fillNode(s.document,w.firstChild))}n()}}}if(8==r&&(d=s.selection.getRange(),d.collapsed&&domUtils.isStartInblock(d)&&(h=d.cloneRange().trimBoundary(),(u=domUtils.findParentByTagName(d.startContainer,"li",!0))&&domUtils.isStartInblock(h)))){if((f=domUtils.findParentByTagName(d.startContainer,"p",!0))&&f!==u.firstChild){var g=domUtils.findParentByTagName(f,["ol","ul"]);return domUtils.breakParent(f,g),o(f),s.fireEvent("contentchange"),d.setStart(f,0).setCursor(!1,!0),s.fireEvent("saveScene"),void domUtils.preventDefault(t)}if(u&&(w=u.previousSibling)){if(46==r&&u.childNodes.length)return;if(dtd.$list[w.tagName]&&(w=w.lastChild),s.undoManger&&s.undoManger.save(),v=u.firstChild,domUtils.isBlockElm(v))if(domUtils.isEmptyNode(v))for(w.appendChild(v),d.setStart(v,0).setCursor(!1,!0);u.firstChild;)w.appendChild(u.firstChild);else b=s.document.createElement("span"),d.insertNode(b),domUtils.isEmptyBlock(w)&&(w.innerHTML=""),domUtils.moveChild(u,w),d.setStartBefore(b).collapse(!0).select(!0),domUtils.remove(b);else if(domUtils.isEmptyNode(u)){var y=s.document.createElement("p");w.appendChild(y),d.setStart(y,0).setCursor()}else for(d.setEnd(w,w.childNodes.length).collapse().select(!0);u.firstChild;)w.appendChild(u.firstChild);return domUtils.remove(u),s.fireEvent("contentchange"),s.fireEvent("saveScene"),void domUtils.preventDefault(t)}if(u&&!u.previousSibling){var g=u.parentNode,m=d.createBookmark();if(domUtils.isTagNode(g.parentNode,"ol ul"))g.parentNode.insertBefore(u,g),domUtils.isEmptyNode(g)&&domUtils.remove(g);else{for(;u.firstChild;)g.parentNode.insertBefore(u.firstChild,g);domUtils.remove(u),domUtils.isEmptyNode(g)&&domUtils.remove(g)}return d.moveToBookmark(m).setCursor(!1,!0),s.fireEvent("contentchange"),s.fireEvent("saveScene"),void domUtils.preventDefault(t)}}}),s.addListener("keyup",function(e,n){if(8==(n.keyCode||n.which)){var r,o=s.selection.getRange();(r=domUtils.findParentByTagName(o.startContainer,["ol","ul"],!0))&&i(r,r.tagName.toLowerCase(),t(r)||domUtils.getComputedStyle(r,"list-style-type"),!0)}}),s.addListener("tabkeydown",function(){function e(e){if(-1!=s.options.maxListLevel){for(var t=e.parentNode,n=0;/[ou]l/i.test(t.tagName);)n++,t=t.parentNode;if(n>=s.options.maxListLevel)return!0}}var n=s.selection.getRange(),o=domUtils.findParentByTagName(n.startContainer,"li",!0);if(o){var a;if(!n.collapsed){s.fireEvent("saveScene"),a=n.createBookmark();for(var l,u,d=0,f=domUtils.findParents(o);u=f[d++];)if(domUtils.isTagNode(u,"ol ul")){l=u;break}var p=o;if(a.end)for(;p&&!(domUtils.getPosition(p,a.end)&domUtils.POSITION_FOLLOWING);)if(e(p))p=domUtils.getNextDomNode(p,!1,null,function(e){return e!==l});else{var h=p.parentNode,m=s.document.createElement(h.tagName),g=utils.indexOf(c[m.tagName],t(h)||domUtils.getComputedStyle(h,"list-style-type")),v=g+1==c[m.tagName].length?0:g+1,y=c[m.tagName][v];for(r(m,y),h.insertBefore(m,p);p&&!(domUtils.getPosition(p,a.end)&domUtils.POSITION_FOLLOWING);){if(o=p.nextSibling,m.appendChild(p),!o||domUtils.isTagNode(o,"ol ul")){if(o)for(;(o=o.firstChild)&&"LI"!=o.tagName;);else o=domUtils.getNextDomNode(p,!1,null,function(e){return e!==l});break}p=o}i(m,m.tagName.toLowerCase(),y),p=o}return s.fireEvent("contentchange"),n.moveToBookmark(a).select(),!0}if(e(o))return!0;var h=o.parentNode,m=s.document.createElement(h.tagName),g=utils.indexOf(c[m.tagName],t(h)||domUtils.getComputedStyle(h,"list-style-type"));g=g+1==c[m.tagName].length?0:g+1;var y=c[m.tagName][g];if(r(m,y),domUtils.isStartInblock(n))return s.fireEvent("saveScene"),a=n.createBookmark(),h.insertBefore(m,o),m.appendChild(o),i(m,m.tagName.toLowerCase(),y),s.fireEvent("contentchange"),n.moveToBookmark(a).select(!0),!0}}),s.commands.insertorderedlist=s.commands.insertunorderedlist={execCommand:function(e,n){n||(n="insertorderedlist"==e.toLowerCase()?"decimal":"disc");var o=this,s=this.selection.getRange(),u=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)},c="insertorderedlist"==e.toLowerCase()?"ol":"ul",d=o.document.createDocumentFragment();s.adjustmentBoundary().shrinkBoundary();var f,p,h,m,g=s.createBookmark(!0),v=a(o.document.getElementById(g.start)),y=0,b=a(o.document.getElementById(g.end)),x=0;if(v||b){if(v&&(f=v.parentNode),g.end||(b=v),b&&(p=b.parentNode),f===p){for(;v!==b;){if(m=v,v=v.nextSibling,!domUtils.isBlockElm(m.firstChild)){for(var w=o.document.createElement("p");m.firstChild;)w.appendChild(m.firstChild);m.appendChild(w)}d.appendChild(m)}if(m=o.document.createElement("span"),f.insertBefore(m,b),!domUtils.isBlockElm(b.firstChild)){for(w=o.document.createElement("p");b.firstChild;)w.appendChild(b.firstChild);b.appendChild(w)}d.appendChild(b),domUtils.breakParent(m,f),domUtils.isEmptyNode(m.previousSibling)&&domUtils.remove(m.previousSibling),domUtils.isEmptyNode(m.nextSibling)&&domUtils.remove(m.nextSibling);var C=t(f)||domUtils.getComputedStyle(f,"list-style-type")||("insertorderedlist"==e.toLowerCase()?"decimal":"disc");if(f.tagName.toLowerCase()==c&&C==n){for(var N,E=0,T=o.document.createDocumentFragment();N=d.firstChild;)if(domUtils.isTagNode(N,"ol ul"))T.appendChild(N);else for(;N.firstChild;)T.appendChild(N.firstChild),domUtils.remove(N);m.parentNode.insertBefore(T,m)}else h=o.document.createElement(c),r(h,n),h.appendChild(d),m.parentNode.insertBefore(h,m);return domUtils.remove(m),h&&i(h,c,n),void s.moveToBookmark(g).select()}if(v){for(;v;){if(m=v.nextSibling,domUtils.isTagNode(v,"ol ul"))d.appendChild(v);else{for(var k=o.document.createDocumentFragment(),_=0;v.firstChild;)domUtils.isBlockElm(v.firstChild)&&(_=1),k.appendChild(v.firstChild);if(_)d.appendChild(k);else{var S=o.document.createElement("p");S.appendChild(k),d.appendChild(S)}domUtils.remove(v)}v=m}f.parentNode.insertBefore(d,f.nextSibling),domUtils.isEmptyNode(f)?(s.setStartBefore(f),domUtils.remove(f)):s.setStartAfter(f),y=1}if(b&&domUtils.inDoc(p,o.document)){for(v=p.firstChild;v&&v!==b;){if(m=v.nextSibling,domUtils.isTagNode(v,"ol ul"))d.appendChild(v);else{for(k=o.document.createDocumentFragment(),_=0;v.firstChild;)domUtils.isBlockElm(v.firstChild)&&(_=1),k.appendChild(v.firstChild);_?d.appendChild(k):(S=o.document.createElement("p"),S.appendChild(k),d.appendChild(S)),domUtils.remove(v)}v=m}var U=domUtils.createElement(o.document,"div",{tmpDiv:1});domUtils.moveChild(b,U),d.appendChild(U),domUtils.remove(b),p.parentNode.insertBefore(d,p),s.setEndBefore(p),domUtils.isEmptyNode(p)&&domUtils.remove(p),x=1}}y||s.setStartBefore(o.document.getElementById(g.start)),g.end&&!x&&s.setEndAfter(o.document.getElementById(g.end)),s.enlarge(!0,function(e){return l[e.tagName]}),d=o.document.createDocumentFragment();for(var A,O=s.createBookmark(),L=domUtils.getNextDomNode(O.start,!1,u),B=s.cloneRange(),R=domUtils.isBlockElm;L&&L!==O.end&&domUtils.getPosition(L,O.end)&domUtils.POSITION_PRECEDING;)if(3==L.nodeType||dtd.li[L.tagName]){if(1==L.nodeType&&dtd.$list[L.tagName]){for(;L.firstChild;)d.appendChild(L.firstChild);A=domUtils.getNextDomNode(L,!1,u),domUtils.remove(L),L=A;continue}for(A=L,B.setStartBefore(L);L&&L!==O.end&&(!R(L)||domUtils.isBookmarkNode(L));)A=L,L=domUtils.getNextDomNode(L,!1,null,function(e){return!l[e.tagName]});L&&R(L)&&(m=domUtils.getNextDomNode(A,!1,u))&&domUtils.isBookmarkNode(m)&&(L=domUtils.getNextDomNode(m,!1,u),A=m),B.setEndAfter(A),L=domUtils.getNextDomNode(A,!1,u);var P=s.document.createElement("li");if(P.appendChild(B.extractContents()),domUtils.isEmptyNode(P)){for(var A=s.document.createElement("p");P.firstChild;)A.appendChild(P.firstChild);P.appendChild(A)}d.appendChild(P)}else L=domUtils.getNextDomNode(L,!0,u);s.moveToBookmark(O).collapse(!0),h=o.document.createElement(c),r(h,n),h.appendChild(d),s.insertNode(h),i(h,c,n);for(var N,E=0,I=domUtils.getElementsByTagName(h,"div");N=I[E++];)N.getAttribute("tmpDiv")&&domUtils.remove(N,!0);s.moveToBookmark(g).select()},queryCommandState:function(e){for(var t,n="insertorderedlist"==e.toLowerCase()?"ol":"ul",i=this.selection.getStartElementPath(),r=0;t=i[r++];){if("TABLE"==t.nodeName)return 0;if(n==t.nodeName.toLowerCase())return 1}return 0},queryCommandValue:function(e){for(var n,i,r="insertorderedlist"==e.toLowerCase()?"ol":"ul",o=this.selection.getStartElementPath(),a=0;i=o[a++];){if("TABLE"==i.nodeName){n=null;break}if(r==i.nodeName.toLowerCase()){n=i;break}}return n?t(n)||domUtils.getComputedStyle(n,"list-style-type"):null}}},function(){var e={textarea:function(e,t){var n=t.ownerDocument.createElement("textarea");return n.style.cssText="position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;",browser.ie&&browser.version<8&&(n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px",t.onresize=function(){n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px"}),t.appendChild(n),{setContent:function(e){n.value=e},getContent:function(){return n.value},select:function(){var e;browser.ie?(e=n.createTextRange(),e.collapse(!0),e.select()):(n.setSelectionRange(0,0),n.focus())},dispose:function(){t.removeChild(n),t.onresize=null,n=null,t=null}}},codemirror:function(e,t){var n=window.CodeMirror(t,{mode:"text/html",tabMode:"indent",lineNumbers:!0,lineWrapping:!0}),i=n.getWrapperElement();return i.style.cssText='position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;',n.getScrollerElement().style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;",n.refresh(),{getCodeMirror:function(){return n},setContent:function(e){n.setValue(e)},getContent:function(){return n.getValue()},select:function(){n.focus()},dispose:function(){t.removeChild(i),i=null,n=null}}}};UE.plugins.source=function(){function t(t){return e["codemirror"==o.sourceEditor&&window.CodeMirror?"codemirror":"textarea"](r,t)}var n,i,r=this,o=this.options,a=!1;o.sourceEditor=browser.ie?"textarea":o.sourceEditor||"codemirror",r.setOpt({sourceEditorFirst:!1});var s,l,u;r.commands.source={execCommand:function(){if(a=!a){u=r.selection.getRange().createAddress(!1,!0),r.undoManger&&r.undoManger.save(!0),browser.gecko&&(r.body.contentEditable=!1),s=r.iframe.style.cssText,r.iframe.style.cssText+="position:absolute;left:-32768px;top:-32768px;",r.fireEvent("beforegetcontent");var e=UE.htmlparser(r.body.innerHTML);r.filterOutputRule(e),e.traversal(function(e){if("element"==e.type)switch(e.tagName){case"td":case"th":case"caption":e.children&&1==e.children.length&&"br"==e.firstChild().tagName&&e.removeChild(e.firstChild());break;case"pre":e.innerText(e.innerText().replace(/&nbsp;/g," "))}}),r.fireEvent("aftergetcontent");var o=e.toHtml(!0);n=t(r.iframe.parentNode),n.setContent(o),i=r.setContent,r.setContent=function(e){var t=UE.htmlparser(e);r.filterInputRule(t),e=t.toHtml(),n.setContent(e)},setTimeout(function(){n.select(),r.addListener("fullscreenchanged",function(){try{n.getCodeMirror().refresh()}catch(e){}})}),l=r.getContent,r.getContent=function(){return n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>"}}else{r.iframe.style.cssText=s;var c=n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>";c=c.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(e,t){return t&&!dtd.$inlineWithA[t.toLowerCase()]?e.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):e.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")}),r.setContent=i,r.setContent(c),n.dispose(),n=null,r.getContent=l;var d=r.body.firstChild;if(d||(r.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",d=r.body.firstChild),r.undoManger&&r.undoManger.save(!0),browser.gecko){var f=document.createElement("input");f.style.cssText="position:absolute;left:0;top:-32768px",document.body.appendChild(f),r.body.contentEditable=!1,setTimeout(function(){domUtils.setViewportOffset(f,{left:-32768,top:0}),f.focus(),setTimeout(function(){r.body.contentEditable=!0,r.selection.getRange().moveToAddress(u).select(!0),domUtils.remove(f)})})}else try{r.selection.getRange().moveToAddress(u).select(!0)}catch(e){}}this.fireEvent("sourcemodechanged",a)},queryCommandState:function(){return 0|a},notNeedUndo:1};var c=r.queryCommandState;r.queryCommandState=function(e){return e=e.toLowerCase(),a?e in{source:1,fullscreen:1}?1:-1:c.apply(this,arguments)},"codemirror"==o.sourceEditor&&r.addListener("ready",function(){utils.loadFile(document,{src:o.codeMirrorJsUrl||o.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.js",tag:"script",type:"text/javascript",defer:"defer"},function(){o.sourceEditorFirst&&setTimeout(function(){r.execCommand("source")},0)}),utils.loadFile(document,{tag:"link",rel:"stylesheet",type:"text/css",href:o.codeMirrorCssUrl||o.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.css"})})}}(),UE.plugins.enterkey=function(){var e,t=this,n=t.options.enterTag;t.addListener("keyup",function(n,i){if(13==(i.keyCode||i.which)){var r,o=t.selection.getRange(),a=o.startContainer;if(browser.ie)t.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(e)){if(browser.gecko)domUtils.findParentByTagName(a,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0)||(t.document.execCommand("formatBlock",!1,"<p>"),r=1);else if(1==a.nodeType){var s,l=t.document.createTextNode("");if(o.insertNode(l),s=domUtils.findParentByTagName(l,"div",!0)){for(var u=t.document.createElement("p");s.firstChild;)u.appendChild(s.firstChild);s.parentNode.insertBefore(u,s),domUtils.remove(s),o.setStartBefore(l).setCursor(),r=1}domUtils.remove(l)}t.undoManger&&r&&t.undoManger.save()}browser.opera&&o.select()}}}),t.addListener("keydown",function(i,r){if(13==(r.keyCode||r.which)){if(t.fireEvent("beforeenterkeydown"))return void domUtils.preventDefault(r);t.fireEvent("saveScene",!0,!0),e="";var o=t.selection.getRange();if(!o.collapsed){var a=o.startContainer,s=o.endContainer,l=domUtils.findParentByTagName(a,"td",!0),u=domUtils.findParentByTagName(s,"td",!0);if(l&&u&&l!==u||!l&&u||l&&!u)return void(r.preventDefault?r.preventDefault():r.returnValue=!1)}if("p"==n)browser.ie||(a=domUtils.findParentByTagName(o.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0),a||browser.opera?(e=a.tagName,"p"==a.tagName.toLowerCase()&&browser.gecko&&domUtils.removeDirtyAttr(a)):(t.document.execCommand("formatBlock",!1,"<p>"),browser.gecko&&(o=t.selection.getRange(),(a=domUtils.findParentByTagName(o.startContainer,"p",!0))&&domUtils.removeDirtyAttr(a))));else if(r.preventDefault?r.preventDefault():r.returnValue=!1,o.collapsed){d=o.document.createElement("br"),o.insertNode(d);var c=d.parentNode;c.lastChild===d?(d.parentNode.insertBefore(d.cloneNode(!0),d),o.setStartBefore(d)):o.setStartAfter(d),o.setCursor()}else if(o.deleteContents(),a=o.startContainer,1==a.nodeType&&(a=a.childNodes[o.startOffset])){for(;1==a.nodeType;){if(dtd.$empty[a.tagName])return o.setStartBefore(a).setCursor(),t.undoManger&&t.undoManger.save(),!1;if(!a.firstChild){var d=o.document.createElement("br");return a.appendChild(d),o.setStart(a,0).setCursor(),t.undoManger&&t.undoManger.save(),!1}a=a.firstChild}a===o.startContainer.childNodes[o.startOffset]?(d=o.document.createElement("br"),o.insertNode(d).setCursor()):o.setStart(a,0).setCursor()}else d=o.document.createElement("br"),o.insertNode(d).setStartAfter(d).setCursor()}})},UE.plugins.keystrokes=function(){var e=this,t=!0;e.addListener("keydown",function(n,i){var r=i.keyCode||i.which,o=e.selection.getRange();if(!o.collapsed&&!(i.ctrlKey||i.shiftKey||i.altKey||i.metaKey)&&(r>=65&&r<=90||r>=48&&r<=57||r>=96&&r<=111||{13:1,8:1,46:1}[r])){var a=o.startContainer;if(domUtils.isFillChar(a)&&o.setStartBefore(a),a=o.endContainer,domUtils.isFillChar(a)&&o.setEndAfter(a),o.txtToElmBoundary(),o.endContainer&&1==o.endContainer.nodeType&&(a=o.endContainer.childNodes[o.endOffset])&&domUtils.isBr(a)&&o.setEndAfter(a),0==o.startOffset&&(a=o.startContainer,domUtils.isBoundaryNode(a,"firstChild")&&(a=o.endContainer,o.endOffset==(3==a.nodeType?a.nodeValue.length:a.childNodes.length)&&domUtils.isBoundaryNode(a,"lastChild"))))return e.fireEvent("saveScene"),e.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",o.setStart(e.body.firstChild,0).setCursor(!1,!0),void e._selectionChange()}if(r==keymap.Backspace){if(o=e.selection.getRange(),t=o.collapsed,e.fireEvent("delkeydown",i))return;var s,l;if(o.collapsed&&o.inFillChar()&&(s=o.startContainer,domUtils.isFillChar(s)?(o.setStartBefore(s).shrinkBoundary(!0).collapse(!0),domUtils.remove(s)):(s.nodeValue=s.nodeValue.replace(new RegExp("^"+domUtils.fillChar),""),o.startOffset--,o.collapse(!0).select(!0))),s=o.getClosedNode())return e.fireEvent("saveScene"),o.setStartBefore(s),domUtils.remove(s),o.setCursor(),e.fireEvent("saveScene"),void domUtils.preventDefault(i);if(!browser.ie&&(s=domUtils.findParentByTagName(o.startContainer,"table",!0),l=domUtils.findParentByTagName(o.endContainer,"table",!0),s&&!l||!s&&l||s!==l))return void i.preventDefault()}if(r==keymap.Tab){var u={ol:1,ul:1,table:1};if(e.fireEvent("tabkeydown",i))return void domUtils.preventDefault(i);var c=e.selection.getRange();e.fireEvent("saveScene");for(var d=0,f="",p=e.options.tabSize||4,h=e.options.tabNode||"&nbsp;";d<p;d++)f+=h;var m=e.document.createElement("span");if(m.innerHTML=f+domUtils.fillChar,c.collapsed)c.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{var g=function(e){return domUtils.isBlockElm(e)&&!u[e.tagName.toLowerCase()]};if(s=domUtils.findParent(c.startContainer,g,!0),l=domUtils.findParent(c.endContainer,g,!0),s&&l&&s===l)c.deleteContents(),c.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{var v=c.createBookmark();c.enlarge(!0);for(var y=c.createBookmark(),b=domUtils.getNextDomNode(y.start,!1,g);b&&!(domUtils.getPosition(b,y.end)&domUtils.POSITION_FOLLOWING);)b.insertBefore(m.cloneNode(!0).firstChild,b.firstChild),b=domUtils.getNextDomNode(b,!1,g);c.moveToBookmark(y).moveToBookmark(v).select()}}domUtils.preventDefault(i)}if(browser.gecko&&46==r&&(c=e.selection.getRange(),c.collapsed&&(s=c.startContainer,domUtils.isEmptyBlock(s)))){for(var x=s.parentNode;1==domUtils.getChildCount(x)&&!domUtils.isBody(x);)s=x,x=x.parentNode;return void(s===x.lastChild&&i.preventDefault())}}),e.addListener("keyup",function(e,n){var i,r=n.keyCode||n.which,o=this;if(r==keymap.Backspace){if(o.fireEvent("delkeyup"))return;if(i=o.selection.getRange(),i.collapsed){var a,s=["h1","h2","h3","h4","h5","h6"];if((a=domUtils.findParentByTagName(i.startContainer,s,!0))&&domUtils.isEmptyBlock(a)){var l=a.previousSibling;if(l&&"TABLE"!=l.nodeName)return domUtils.remove(a),void i.setStartAtLast(l).setCursor(!1,!0);var u=a.nextSibling;if(u&&"TABLE"!=u.nodeName)return domUtils.remove(a),void i.setStartAtFirst(u).setCursor(!1,!0)}if(domUtils.isBody(i.startContainer)){var a=domUtils.createElement(o.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});i.insertNode(a).setStart(a,0).setCursor(!1,!0)}}if(!t&&(3==i.startContainer.nodeType||1==i.startContainer.nodeType&&domUtils.isEmptyBlock(i.startContainer)))if(browser.ie){var c=i.document.createElement("span");i.insertNode(c).setStartBefore(c).collapse(!0),i.select(),domUtils.remove(c)}else i.select()}})},UE.plugins.fiximgclick=function(){function e(){this.editor=null,this.resizer=null,this.cover=null,this.doc=document,this.prePos={x:0,y:0},this.startPos={x:0,y:0}}var t=!1;return function(){var n=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];e.prototype={init:function(e){var t=this;t.editor=e,t.startPos=this.prePos={x:0,y:0},t.dragId=-1;var n=[],i=t.cover=document.createElement("div"),r=t.resizer=document.createElement("div");i.id=t.editor.ui.id+"_imagescale_cover",i.style.cssText="position:absolute;display:none;z-index:"+t.editor.options.zIndex+";filter:alpha(opacity=0); opacity:0;background:#CCC;",domUtils.on(i,"mousedown click",function(){t.hide()});for(var o=0;o<8;o++)n.push('<span class="edui-editor-imagescale-hand'+o+'"></span>');r.id=t.editor.ui.id+"_imagescale",r.className="edui-editor-imagescale",r.innerHTML=n.join(""),r.style.cssText+=";display:none;border:1px solid #3b77ff;z-index:"+t.editor.options.zIndex+";",t.editor.ui.getDom().appendChild(i),t.editor.ui.getDom().appendChild(r),t.initStyle(),t.initEvents()},initStyle:function(){utils.cssRule("imagescale",".edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},initEvents:function(){var e=this;e.startPos.x=e.startPos.y=0,e.isDraging=!1},_eventHandler:function(e){var n=this;switch(e.type){case"mousedown":var i,i=e.target||e.srcElement;-1!=i.className.indexOf("edui-editor-imagescale-hand")&&-1==n.dragId&&(n.dragId=i.className.slice(-1),n.startPos.x=n.prePos.x=e.clientX,n.startPos.y=n.prePos.y=e.clientY,domUtils.on(n.doc,"mousemove",n.proxy(n._eventHandler,n)));break;case"mousemove":-1!=n.dragId&&(n.updateContainerStyle(n.dragId,{x:e.clientX-n.prePos.x,y:e.clientY-n.prePos.y}),n.prePos.x=e.clientX,n.prePos.y=e.clientY,t=!0,n.updateTargetElement());break;case"mouseup":-1!=n.dragId&&(n.updateContainerStyle(n.dragId,{x:e.clientX-n.prePos.x,y:e.clientY-n.prePos.y}),n.updateTargetElement(),n.target.parentNode&&n.attachTo(n.target),n.dragId=-1),domUtils.un(n.doc,"mousemove",n.proxy(n._eventHandler,n)),t&&(t=!1,n.editor.fireEvent("contentchange"))}},updateTargetElement:function(){var e=this;domUtils.setStyles(e.target,{width:e.resizer.style.width,height:e.resizer.style.height}),e.target.width=parseInt(e.resizer.style.width),e.target.height=parseInt(e.resizer.style.height),e.attachTo(e.target)},updateContainerStyle:function(e,t){var i,r=this,o=r.resizer;0!=n[e][0]&&(i=parseInt(o.style.left)+t.x,o.style.left=r._validScaledProp("left",i)+"px"),0!=n[e][1]&&(i=parseInt(o.style.top)+t.y,o.style.top=r._validScaledProp("top",i)+"px"),0!=n[e][2]&&(i=o.clientWidth+n[e][2]*t.x,o.style.width=r._validScaledProp("width",i)+"px"),0!=n[e][3]&&(i=o.clientHeight+n[e][3]*t.y,o.style.height=r._validScaledProp("height",i)+"px")},_validScaledProp:function(e,t){var n=this.resizer,i=document;switch(t=isNaN(t)?0:t,e){case"left":return t<0?0:t+n.clientWidth>i.clientWidth?i.clientWidth-n.clientWidth:t;case"top":return t<0?0:t+n.clientHeight>i.clientHeight?i.clientHeight-n.clientHeight:t;case"width":return t<=0?1:t+n.offsetLeft>i.clientWidth?i.clientWidth-n.offsetLeft:t;case"height":return t<=0?1:t+n.offsetTop>i.clientHeight?i.clientHeight-n.offsetTop:t}},hideCover:function(){this.cover.style.display="none"},showCover:function(){var e=this,t=domUtils.getXY(e.editor.ui.getDom()),n=domUtils.getXY(e.editor.iframe);domUtils.setStyles(e.cover,{width:e.editor.iframe.offsetWidth+"px",height:e.editor.iframe.offsetHeight+"px",top:n.y-t.y+"px",left:n.x-t.x+"px",position:"absolute",display:""})},show:function(e){var t=this;t.resizer.style.display="block",e&&t.attachTo(e),domUtils.on(this.resizer,"mousedown",t.proxy(t._eventHandler,t)),domUtils.on(t.doc,"mouseup",t.proxy(t._eventHandler,t)),t.showCover(),t.editor.fireEvent("afterscaleshow",t),t.editor.fireEvent("saveScene")},hide:function(){var e=this;e.hideCover(),e.resizer.style.display="none",domUtils.un(e.resizer,"mousedown",e.proxy(e._eventHandler,e)),domUtils.un(e.doc,"mouseup",e.proxy(e._eventHandler,e)),e.editor.fireEvent("afterscalehide",e)},proxy:function(e,t){return function(n){return e.apply(t||this,arguments)}},attachTo:function(e){var t=this,n=t.target=e,i=this.resizer,r=domUtils.getXY(n),o=domUtils.getXY(t.editor.iframe),a=domUtils.getXY(i.parentNode);domUtils.setStyles(i,{width:n.width+"px",height:n.height+"px",left:o.x+r.x-t.editor.document.body.scrollLeft-a.x-parseInt(i.style.borderLeftWidth)+"px",top:o.y+r.y-t.editor.document.body.scrollTop-a.y-parseInt(i.style.borderTopWidth)+"px"})}}}(),function(){var t,n=this;n.setOpt("imageScaleEnabled",!0),!browser.ie&&n.options.imageScaleEnabled&&n.addListener("click",function(i,r){var o=n.selection.getRange(),a=o.getClosedNode();if(a&&"IMG"==a.tagName&&"false"!=n.body.contentEditable){if(-1!=a.className.indexOf("edui-faked-music")||a.getAttribute("anchorname")||domUtils.hasClass(a,"loadingclass")||domUtils.hasClass(a,"loaderrorclass"))return;if(!t){t=new e,t.init(n),n.ui.getDom().appendChild(t.resizer);var s,l=function(e){t.hide(),t.target&&n.selection.getRange().selectNode(t.target).select()},u=function(e){var t=e.target||e.srcElement;!t||void 0!==t.className&&-1!=t.className.indexOf("edui-editor-imagescale")||l()};n.addListener("afterscaleshow",function(e){n.addListener("beforekeydown",l),n.addListener("beforemousedown",u),domUtils.on(document,"keydown",l),domUtils.on(document,"mousedown",u),n.selection.getNative().removeAllRanges()}),n.addListener("afterscalehide",function(e){n.removeListener("beforekeydown",l),n.removeListener("beforemousedown",u),domUtils.un(document,"keydown",l),domUtils.un(document,"mousedown",u);var i=t.target;i.parentNode&&n.selection.getRange().selectNode(i).select()}),domUtils.on(t.resizer,"mousedown",function(e){n.selection.getNative().removeAllRanges();var i=e.target||e.srcElement;i&&-1==i.className.indexOf("edui-editor-imagescale-hand")&&(s=setTimeout(function(){t.hide(),t.target&&n.selection.getRange().selectNode(i).select()},200))}),domUtils.on(t.resizer,"mouseup",function(e){var t=e.target||e.srcElement;t&&-1==t.className.indexOf("edui-editor-imagescale-hand")&&clearTimeout(s)})}t.show(a)}else t&&"none"!=t.resizer.style.display&&t.hide()}),browser.webkit&&n.addListener("click",function(e,t){if("IMG"==t.target.tagName&&"false"!=n.body.contentEditable){new dom.Range(n.document).selectNode(t.target).select()}})}}(),UE.plugin.register("autolink",function(){var e=0;return browser.ie?{}:{bindEvents:{reset:function(){e=0},keydown:function(e,t){var n=this,i=t.keyCode||t.which;if(32==i||13==i){for(var r,o,a=n.selection.getNative(),s=a.getRangeAt(0).cloneRange(),l=s.startContainer;1==l.nodeType&&s.startOffset>0&&(l=s.startContainer.childNodes[s.startOffset-1]);)s.setStart(l,1==l.nodeType?l.childNodes.length:l.nodeValue.length),s.collapse(!0),l=s.startContainer;do{if(0==s.startOffset){for(l=s.startContainer.previousSibling;l&&1==l.nodeType;)l=l.lastChild;if(!l||domUtils.isFillChar(l))break;r=l.nodeValue.length}else l=s.startContainer,r=s.startOffset;s.setStart(l,r-1),o=s.toString().charCodeAt(0)}while(160!=o&&32!=o);if(s.toString().replace(new RegExp(domUtils.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){for(;s.toString().length&&!/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(s.toString());)try{s.setStart(s.startContainer,s.startOffset+1)}catch(e){for(var l=s.startContainer;!(next=l.nextSibling);){if(domUtils.isBody(l))return;l=l.parentNode}s.setStart(next,0)}if(domUtils.findParentByTagName(s.startContainer,"a",!0))return;var u,c=n.document.createElement("a"),d=n.document.createTextNode(" ");n.undoManger&&n.undoManger.save(),c.appendChild(s.extractContents()),c.href=c.innerHTML=c.innerHTML.replace(/<[^>]+>/g,""),u=c.getAttribute("href").replace(new RegExp(domUtils.fillChar,"g"),""),u=/^(?:https?:\/\/)/gi.test(u)?u:"http://"+u,c.setAttribute("_src",utils.html(u)),c.href=utils.html(u),s.insertNode(c),c.parentNode.insertBefore(d,c.nextSibling),s.setStart(d,0),s.collapse(!0),a.removeAllRanges(),a.addRange(s),n.undoManger&&n.undoManger.save()}}}}}},function(){function e(e){if(3==e.nodeType)return null;if("A"==e.nodeName)return e;for(var t=e.lastChild;t;){if("A"==t.nodeName)return t;if(3==t.nodeType){if(domUtils.isWhitespace(t)){t=t.previousSibling;continue}return null}t=t.lastChild}}var t={37:1,38:1,39:1,40:1,13:1,32:1};browser.ie&&this.addListener("keyup",function(n,i){var r=this,o=i.keyCode;if(t[o]){var a=r.selection.getRange(),s=a.startContainer;if(13==o){for(;s&&!domUtils.isBody(s)&&!domUtils.isBlockElm(s);)s=s.parentNode;if(s&&!domUtils.isBody(s)&&"P"==s.nodeName){var l=s.previousSibling;if(l&&1==l.nodeType){var l=e(l);l&&!l.getAttribute("_href")&&domUtils.remove(l,!0)}}}else if(32==o)3==s.nodeType&&/^\s$/.test(s.nodeValue)&&(s=s.previousSibling)&&"A"==s.nodeName&&!s.getAttribute("_href")&&domUtils.remove(s,!0);else if((s=domUtils.findParentByTagName(s,"a",!0))&&!s.getAttribute("_href")){var u=a.createBookmark();domUtils.remove(s,!0),a.moveToBookmark(u).select(!0)}}})}),UE.plugins.autoheight=function(){function e(){var e=this;clearTimeout(r),o||(!e.queryCommandState||e.queryCommandState&&1!=e.queryCommandState("source"))&&(r=setTimeout(function(){for(var t=e.body.lastChild;t&&1!=t.nodeType;)t=t.previousSibling;t&&1==t.nodeType&&(t.style.clear="both",i=Math.max(domUtils.getXY(t).y+t.offsetHeight+25,Math.max(s.minFrameHeight,s.initialFrameHeight)),i!=a&&(i!==parseInt(e.iframe.parentNode.style.height)&&(e.iframe.parentNode.style.height=i+"px"),e.body.style.height=i+"px",a=i),domUtils.removeStyle(t,"clear"))},50))}var t=this;if(t.autoHeightEnabled=!1!==t.options.autoHeightEnabled,t.autoHeightEnabled){var n,i,r,o,a=0,s=t.options;t.addListener("fullscreenchanged",function(e,t){o=t}),t.addListener("destroy",function(){t.removeListener("contentchange afterinserthtml keyup mouseup",e)}),t.enableAutoHeight=function(){var t=this;if(t.autoHeightEnabled){var i=t.document;t.autoHeightEnabled=!0,n=i.body.style.overflowY,i.body.style.overflowY="hidden",t.addListener("contentchange afterinserthtml keyup mouseup",e),setTimeout(function(){e.call(t)},browser.gecko?100:0),t.fireEvent("autoheightchanged",t.autoHeightEnabled)}},t.disableAutoHeight=function(){t.body.style.overflowY=n||"",t.removeListener("contentchange",e),t.removeListener("keyup",e),t.removeListener("mouseup",e),t.autoHeightEnabled=!1,t.fireEvent("autoheightchanged",t.autoHeightEnabled)},t.on("setHeight",function(){t.disableAutoHeight()}),t.addListener("ready",function(){t.enableAutoHeight();var n;domUtils.on(browser.ie?t.body:t.document,browser.webkit?"dragover":"drop",function(){clearTimeout(n),n=setTimeout(function(){e.call(t)},100)});var i;window.onscroll=function(){null===i?i=this.scrollY:0==this.scrollY&&0!=i&&(t.window.scrollTo(0,0),i=null)}})}},UE.plugins.autofloat=function(){function e(){return UE.ui?1:(alert(a.autofloatMsg),0)}function t(){var e=document.body.style;e.backgroundImage='url("about:blank")',e.backgroundAttachment="fixed"}function n(){var e=domUtils.getXY(c),t=domUtils.getComputedStyle(c,"position"),n=domUtils.getComputedStyle(c,"left");c.style.width=c.offsetWidth+"px",c.style.zIndex=1*o.options.zIndex+1,c.parentNode.insertBefore(g,c),h||m&&browser.ie?("absolute"!=c.style.position&&(c.style.position="absolute"),c.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-d+l+"px"):(browser.ie7Compat&&v&&(v=!1,c.style.left=domUtils.getXY(c).x-document.documentElement.getBoundingClientRect().left+2+"px"),"fixed"!=c.style.position&&(c.style.position="fixed",c.style.top=l+"px",("absolute"==t||"relative"==t)&&parseFloat(n)&&(c.style.left=e.x+"px")))}function i(){v=!0,g.parentNode&&g.parentNode.removeChild(g),c.style.cssText=u}function r(){var e=f(o.container),t=o.options.toolbarTopOffset||0;e.top<0&&e.bottom-c.offsetHeight>t?n():i()}var o=this,a=o.getLang();o.setOpt({topOffset:0});var s=!1!==o.options.autoFloatEnabled,l=o.options.topOffset;if(s){var u,c,d,f,p=UE.ui.uiUtils,h=browser.ie&&browser.version<=6,m=browser.quirks,g=document.createElement("div"),v=!0,y=utils.defer(function(){r()},browser.ie?200:100,!0);o.addListener("destroy",function(){domUtils.un(window,["scroll","resize"],r),o.removeListener("keydown",y)}),o.addListener("ready",function(){if(e()){if(!o.ui)return;f=p.getClientRect,c=o.ui.getDom("toolbarbox"),d=f(c).top,u=c.style.cssText,g.style.height=c.offsetHeight+"px",h&&t(),domUtils.on(window,["scroll","resize"],r),o.addListener("keydown",y),o.addListener("beforefullscreenchange",function(e,t){t&&i()}),o.addListener("fullscreenchanged",function(e,t){t||r()}),o.addListener("sourcemodechanged",function(e,t){setTimeout(function(){r()},0)}),o.addListener("clearDoc",function(){setTimeout(function(){r()},0)})}})}},UE.plugins.video=function(){function e(e,t,i,r,o,a,s){e=utils.unhtmlForUrl(e),o=utils.unhtml(o),a=utils.unhtml(a),t=parseInt(t,10)||0,i=parseInt(i,10)||0;var l;switch(s){case"image":l="<img "+(r?'id="'+r+'"':"")+' width="'+t+'" height="'+i+'" _url="'+e+'" class="'+a.replace(/\bvideo-js\b/,"")+'" src="'+n.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+n.options.UEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(o?"float:"+o+";":"")+'" />';break;case"embed":l='<embed type="application/x-shockwave-flash" class="'+a+'" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+utils.html(e)+'" width="'+t+'" height="'+i+'"'+(o?' style="float:'+o+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >';break;case"video":var u=e.substr(e.lastIndexOf(".")+1);"ogv"==u&&(u="ogg"),l="<video"+(r?' id="'+r+'"':"")+' class="'+a+' video-js" '+(o?' style="float:'+o+'"':"")+' controls preload="none" width="'+t+'" height="'+i+'" src="'+e+'" data-setup="{}"><source src="'+e+'" type="video/'+u+'" /></video>'}return l}function t(t,n){utils.each(t.getNodesByTagName(n?"img":"embed video"),function(t){var i=t.getAttr("class");if(i&&-1!=i.indexOf("edui-faked-video")){var r=e(n?t.getAttr("_url"):t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),null,t.getStyle("float")||"",i,n?"embed":"image");t.parentNode.replaceChild(UE.uNode.createElement(r),t)}if(i&&-1!=i.indexOf("edui-upload-video")){var r=e(n?t.getAttr("_url"):t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),null,t.getStyle("float")||"",i,n?"video":"image");t.parentNode.replaceChild(UE.uNode.createElement(r),t)}})}var n=this;n.addOutputRule(function(e){t(e,!0)}),n.addInputRule(function(e){t(e)}),n.commands.insertvideo={execCommand:function(t,i,r){i=utils.isArray(i)?i:[i];for(var o,a,s=[],l=0,u=i.length;l<u;l++)a=i[l],o="upload"==r?"video-js vjs-default-skin":"edui-faked-video",s.push(e(a.url,a.width||420,a.height||280,"tmpVedio"+l,null,o,"video"));n.execCommand("inserthtml",s.join(""),!0);for(var c=this.selection.getRange(),l=0,u=i.length;l<u;l++){var d=this.document.getElementById("tmpVedio"+l);domUtils.removeAttributes(d,"id"),c.selectNode(d).select(),n.execCommand("imagefloat",i[l].align)}},queryCommandState:function(){var e=n.selection.getRange().getClosedNode();return!e||"edui-faked-video"!=e.className&&-1==e.className.indexOf("edui-upload-video")?0:1}}},function(){var e=UE.UETable=function(e){this.table=e,this.indexTable=[],this.selectedTds=[],this.cellsRange={},this.update(e)};e.removeSelectedClass=function(e){utils.each(e,function(e){domUtils.removeClasses(e,"selectTdClass")})},e.addSelectedClass=function(e){utils.each(e,function(e){domUtils.addClass(e,"selectTdClass")})},e.isEmptyBlock=function(e){var t=new RegExp(domUtils.fillChar,"g");if(e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(dtd.$isNotEmpty.hasOwnProperty(n)&&e.getElementsByTagName(n).length)return 0;return 1},e.getWidth=function(e){return e?parseInt(domUtils.getComputedStyle(e,"width"),10):0},e.getTableCellAlignState=function(e){!utils.isArray(e)&&(e=[e]);var t={},n=["align","valign"],i=null,r=!0;return utils.each(e,function(e){return utils.each(n,function(n){if(i=e.getAttribute(n),!t[n]&&i)t[n]=i;else if(!t[n]||i!==t[n])return r=!1,!1}),r}),r?t:null},e.getTableItemsByRange=function(e){var t=e.selection.getStart();t&&t.id&&0===t.id.indexOf("_baidu_bookmark_start_")&&t.nextSibling&&(t=t.nextSibling);var n=t&&domUtils.findParentByTagName(t,["td","th"],!0),i=n&&n.parentNode,r=t&&domUtils.findParentByTagName(t,"caption",!0);return{cell:n,tr:i,table:r?r.parentNode:i&&i.parentNode.parentNode,caption:r}},e.getUETableBySelected=function(t){var n=e.getTableItemsByRange(t).table;return n&&n.ueTable&&n.ueTable.selectedTds.length?n.ueTable:null},e.getDefaultValue=function(e,t){var n,i,r,o,a={thin:"0px",medium:"1px",thick:"2px"};if(t)return s=t.getElementsByTagName("td")[0],o=domUtils.getComputedStyle(t,"border-left-width"),n=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"padding-left"),i=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"border-left-width"),r=parseInt(a[o]||o,10),{tableBorder:n,tdPadding:i,tdBorder:r};t=e.document.createElement("table"),t.insertRow(0).insertCell(0).innerHTML="xxx",e.body.appendChild(t);var s=t.getElementsByTagName("td")[0];return o=domUtils.getComputedStyle(t,"border-left-width"),n=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"padding-left"),i=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"border-left-width"),r=parseInt(a[o]||o,10),domUtils.remove(t),{tableBorder:n,tdPadding:i,tdBorder:r}},e.getUETable=function(t){var n=t.tagName.toLowerCase();return t="td"==n||"th"==n||"caption"==n?domUtils.findParentByTagName(t,"table",!0):t,t.ueTable||(t.ueTable=new e(t)),t.ueTable},e.cloneCell=function(e,t,n){if(!e||utils.isString(e))return this.table.ownerDocument.createElement(e||"td");var i=domUtils.hasClass(e,"selectTdClass");i&&domUtils.removeClasses(e,"selectTdClass");var r=e.cloneNode(!0);return t&&(r.rowSpan=r.colSpan=1),!n&&domUtils.removeAttributes(r,"width height"),!n&&domUtils.removeAttributes(r,"style"),r.style.borderLeftStyle="",r.style.borderTopStyle="",r.style.borderLeftColor=e.style.borderRightColor,r.style.borderLeftWidth=e.style.borderRightWidth,r.style.borderTopColor=e.style.borderBottomColor,r.style.borderTopWidth=e.style.borderBottomWidth,i&&domUtils.addClass(e,"selectTdClass"),r},e.prototype={getMaxRows:function(){for(var e,t=this.table.rows,n=1,i=0;e=t[i];i++){for(var r,o=1,a=0;r=e.cells[a++];)o=Math.max(r.rowSpan||1,o);n=Math.max(o+i,n)}return n},getMaxCols:function(){for(var e,t=this.table.rows,n=0,i={},r=0;e=t[r];r++){for(var o,a=0,s=0;o=e.cells[s++];)if(a+=o.colSpan||1,o.rowSpan&&o.rowSpan>1)for(var l=1;l<o.rowSpan;l++)i["row_"+(r+l)]?i["row_"+(r+l)]++:i["row_"+(r+l)]=o.colSpan||1;a+=i["row_"+r]||0,n=Math.max(a,n)}return n},getCellColIndex:function(e){},getHSideCell:function(e,t){try{var n,i,r=this.getCellInfo(e),o=this.selectedTds.length,a=this.cellsRange;return!t&&(o?!a.beginColIndex:!r.colIndex)||t&&(o?a.endColIndex==this.colsNum-1:r.colIndex==this.colsNum-1)?null:(n=o?a.beginRowIndex:r.rowIndex,i=t?o?a.endColIndex+1:r.colIndex+1:o?a.beginColIndex-1:r.colIndex<1?0:r.colIndex-1,this.getCell(this.indexTable[n][i].rowIndex,this.indexTable[n][i].cellIndex))}catch(e){}},getTabNextCell:function(e,t){var n,i=this.getCellInfo(e),r=t||i.rowIndex,o=i.colIndex+1+(i.colSpan-1);try{n=this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex)}catch(e){try{r=1*r+1,o=0,n=this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex)}catch(e){}}return n},getVSideCell:function(e,t,n){try{var i,r,o=this.getCellInfo(e),a=this.selectedTds.length&&!n,s=this.cellsRange;return!t&&0==o.rowIndex||t&&(a?s.endRowIndex==this.rowsNum-1:o.rowIndex+o.rowSpan>this.rowsNum-1)?null:(i=t?a?s.endRowIndex+1:o.rowIndex+o.rowSpan:a?s.beginRowIndex-1:o.rowIndex-1,r=a?s.beginColIndex:o.colIndex,this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex))}catch(e){}},getSameEndPosCells:function(e,t){try{for(var n="x"===t.toLowerCase(),i=domUtils.getXY(e)[n?"x":"y"]+e["offset"+(n?"Width":"Height")],r=this.table.rows,o=null,a=[],s=0;s<this.rowsNum;s++){o=r[s].cells;for(var l,u=0;l=o[u++];){var c=domUtils.getXY(l)[n?"x":"y"]+l["offset"+(n?"Width":"Height")];if(c>i&&n)break;if((e==l||i==c)&&(1==l[n?"colSpan":"rowSpan"]&&a.push(l),n))break}}return a}catch(e){}},setCellContent:function(e,t){e.innerHTML=t||(browser.ie?domUtils.fillChar:"<br />")},cloneCell:e.cloneCell,getSameStartPosXCells:function(e){try{for(var t,n=domUtils.getXY(e).x+e.offsetWidth,i=this.table.rows,r=[],o=0;o<this.rowsNum;o++){t=i[o].cells;for(var a,s=0;a=t[s++];){var l=domUtils.getXY(a).x;if(l>n)break;if(l==n&&1==a.colSpan){r.push(a);break}}}return r}catch(e){}},update:function(e){this.table=e||this.table,this.selectedTds=[],this.cellsRange={},this.indexTable=[];for(var t=this.table.rows,n=this.getMaxRows(),i=n-t.length,r=this.getMaxCols();i--;)this.table.insertRow(t.length);this.rowsNum=n,this.colsNum=r;for(var o=0,a=t.length;o<a;o++)this.indexTable[o]=new Array(r);for(var s,l=0;s=t[l];l++)for(var u,c=0,d=s.cells;u=d[c];c++){u.rowSpan>n&&(u.rowSpan=n);for(var f=c,p=u.rowSpan||1,h=u.colSpan||1;this.indexTable[l][f];)f++;for(var m=0;m<p;m++)for(var g=0;g<h;g++)this.indexTable[l+m][f+g]={rowIndex:l,cellIndex:c,colIndex:f,rowSpan:p,colSpan:h}}for(m=0;m<n;m++)for(g=0;g<r;g++)void 0===this.indexTable[m][g]&&(s=t[m],u=s.cells[s.cells.length-1],u=u?u.cloneNode(!0):this.table.ownerDocument.createElement("td"),this.setCellContent(u),1!==u.colSpan&&(u.colSpan=1),1!==u.rowSpan&&(u.rowSpan=1),s.appendChild(u),this.indexTable[m][g]={rowIndex:m,cellIndex:u.cellIndex,colIndex:g,rowSpan:1,colSpan:1});var v=domUtils.getElementsByTagName(this.table,"td"),y=[];if(utils.each(v,function(e){domUtils.hasClass(e,"selectTdClass")&&y.push(e)}),y.length){var b=y[0],x=y[y.length-1],w=this.getCellInfo(b),C=this.getCellInfo(x);this.selectedTds=y,this.cellsRange={beginRowIndex:w.rowIndex,beginColIndex:w.colIndex,endRowIndex:C.rowIndex+C.rowSpan-1,endColIndex:C.colIndex+C.colSpan-1}}if(!domUtils.hasClass(this.table.rows[0],"firstRow")){domUtils.addClass(this.table.rows[0],"firstRow");for(var o=1;o<this.table.rows.length;o++)domUtils.removeClasses(this.table.rows[o],"firstRow")}},getCellInfo:function(e){if(e)for(var t=e.cellIndex,n=e.parentNode.rowIndex,i=this.indexTable[n],r=this.colsNum,o=t;o<r;o++){var a=i[o];if(a.rowIndex===n&&a.cellIndex===t)return a}},getCell:function(e,t){return e<this.rowsNum&&this.table.rows[e].cells[t]||null},deleteCell:function(e,t){t="number"==typeof t?t:e.parentNode.rowIndex,this.table.rows[t].deleteCell(e.cellIndex)},getCellsRange:function(e,t){function n(e,t,r,o){var a,s,l,u=e,c=t,d=r,f=o;if(e>0)for(s=t;s<o;s++)a=i.indexTable[e][s],(l=a.rowIndex)<e&&(u=Math.min(l,u));if(o<i.colsNum)for(l=e;l<r;l++)a=i.indexTable[l][o],(s=a.colIndex+a.colSpan-1)>o&&(f=Math.max(s,f));if(r<i.rowsNum)for(s=t;s<o;s++)a=i.indexTable[r][s],(l=a.rowIndex+a.rowSpan-1)>r&&(d=Math.max(l,d));if(t>0)for(l=e;l<r;l++)a=i.indexTable[l][t],(s=a.colIndex)<t&&(c=Math.min(a.colIndex,c));return u!=e||c!=t||d!=r||f!=o?n(u,c,d,f):{beginRowIndex:e,beginColIndex:t,endRowIndex:r,endColIndex:o}}try{var i=this,r=i.getCellInfo(e);if(e===t)return{beginRowIndex:r.rowIndex,beginColIndex:r.colIndex,endRowIndex:r.rowIndex+r.rowSpan-1,endColIndex:r.colIndex+r.colSpan-1};var o=i.getCellInfo(t);return n(Math.min(r.rowIndex,o.rowIndex),Math.min(r.colIndex,o.colIndex),Math.max(r.rowIndex+r.rowSpan-1,o.rowIndex+o.rowSpan-1),Math.max(r.colIndex+r.colSpan-1,o.colIndex+o.colSpan-1))}catch(e){}},getCells:function(e){this.clearSelected();for(var t,n,i,r=e.beginRowIndex,o=e.beginColIndex,a=e.endRowIndex,s=e.endColIndex,l={},u=[],c=r;c<=a;c++)for(var d=o;d<=s;d++){t=this.indexTable[c][d],n=t.rowIndex,i=t.colIndex;var f=n+"|"+i;if(!l[f]){if(l[f]=1,n<c||i<d||n+t.rowSpan-1>a||i+t.colSpan-1>s)return null;u.push(this.getCell(n,t.cellIndex))}}return u},clearSelected:function(){e.removeSelectedClass(this.selectedTds),this.selectedTds=[],this.cellsRange={}},setSelected:function(t){var n=this.getCells(t);e.addSelectedClass(n),this.selectedTds=n,this.cellsRange=t},isFullRow:function(){var e=this.cellsRange;return e.endColIndex-e.beginColIndex+1==this.colsNum},isFullCol:function(){var e=this.cellsRange,t=this.table,n=t.getElementsByTagName("th"),i=e.endRowIndex-e.beginRowIndex+1;return n.length?i==this.rowsNum||i==this.rowsNum-1:i==this.rowsNum},getNextCell:function(e,t,n){try{var i,r,o=this.getCellInfo(e),a=this.selectedTds.length&&!n,s=this.cellsRange;return!t&&0==o.rowIndex||t&&(a?s.endRowIndex==this.rowsNum-1:o.rowIndex+o.rowSpan>this.rowsNum-1)?null:(i=t?a?s.endRowIndex+1:o.rowIndex+o.rowSpan:a?s.beginRowIndex-1:o.rowIndex-1,r=a?s.beginColIndex:o.colIndex,this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex))}catch(e){}},getPreviewCell:function(e,t){try{var n,i,r=this.getCellInfo(e),o=this.selectedTds.length,a=this.cellsRange;return!t&&(o?!a.beginColIndex:!r.colIndex)||t&&(o?a.endColIndex==this.colsNum-1:r.rowIndex>this.colsNum-1)?null:(n=t?o?a.beginRowIndex:r.rowIndex<1?0:r.rowIndex-1:o?a.beginRowIndex:r.rowIndex,i=t?o?a.endColIndex+1:r.colIndex:o?a.beginColIndex-1:r.colIndex<1?0:r.colIndex-1,this.getCell(this.indexTable[n][i].rowIndex,this.indexTable[n][i].cellIndex))}catch(e){}},moveContent:function(t,n){if(!e.isEmptyBlock(n)){if(e.isEmptyBlock(t))return void(t.innerHTML=n.innerHTML);var i=t.lastChild;for(3!=i.nodeType&&dtd.$block[i.tagName]||t.appendChild(t.ownerDocument.createElement("br"));i=n.firstChild;)t.appendChild(i)}},mergeRight:function(e){var t=this.getCellInfo(e),n=t.colIndex+t.colSpan,i=this.indexTable[t.rowIndex][n],r=this.getCell(i.rowIndex,i.cellIndex);e.colSpan=t.colSpan+i.colSpan,e.removeAttribute("width"),this.moveContent(e,r),this.deleteCell(r,i.rowIndex),this.update()},mergeDown:function(e){var t=this.getCellInfo(e),n=t.rowIndex+t.rowSpan,i=this.indexTable[n][t.colIndex],r=this.getCell(i.rowIndex,i.cellIndex);e.rowSpan=t.rowSpan+i.rowSpan,e.removeAttribute("height"),this.moveContent(e,r),this.deleteCell(r,i.rowIndex),this.update()},mergeRange:function(){var e=this.cellsRange,t=this.getCell(e.beginRowIndex,this.indexTable[e.beginRowIndex][e.beginColIndex].cellIndex);if("TH"==t.tagName&&e.endRowIndex!==e.beginRowIndex){var n=this.indexTable,i=this.getCellInfo(t);t=this.getCell(1,n[1][i.colIndex].cellIndex),e=this.getCellsRange(t,this.getCell(n[this.rowsNum-1][i.colIndex].rowIndex,n[this.rowsNum-1][i.colIndex].cellIndex))}for(var r,o=this.getCells(e),a=0;r=o[a++];)r!==t&&(this.moveContent(t,r),this.deleteCell(r));if(t.rowSpan=e.endRowIndex-e.beginRowIndex+1,t.rowSpan>1&&t.removeAttribute("height"),t.colSpan=e.endColIndex-e.beginColIndex+1,t.colSpan>1&&t.removeAttribute("width"),t.rowSpan==this.rowsNum&&1!=t.colSpan&&(t.colSpan=1),t.colSpan==this.colsNum&&1!=t.rowSpan){var s=t.parentNode.rowIndex;if(this.table.deleteRow)for(var a=s+1,l=s+1,u=t.rowSpan;a<u;a++)this.table.deleteRow(l);else for(var a=0,u=t.rowSpan-1;a<u;a++){var c=this.table.rows[s+1];c.parentNode.removeChild(c)}t.rowSpan=1}this.update()},insertRow:function(e,t){function n(e,t,n){if(0==e){var i=n.nextSibling||n.previousSibling,r=i.cells[e];"TH"==r.tagName&&(r=t.ownerDocument.createElement("th"),r.appendChild(t.firstChild),n.insertBefore(r,t),domUtils.remove(t))}else if("TH"==t.tagName){var o=t.ownerDocument.createElement("td");o.appendChild(t.firstChild),n.insertBefore(o,t),domUtils.remove(t)}}var i,r=this.colsNum,o=this.table,a=o.insertRow(e),s="string"==typeof t&&"TH"==t.toUpperCase();if(0==e||e==this.rowsNum)for(var l=0;l<r;l++)i=this.cloneCell(t,!0),this.setCellContent(i),i.getAttribute("vAlign")&&i.setAttribute("vAlign",i.getAttribute("vAlign")),a.appendChild(i),s||n(l,i,a);else{var u=this.indexTable[e];for(l=0;l<r;l++){var c=u[l];c.rowIndex<e?(i=this.getCell(c.rowIndex,c.cellIndex),i.rowSpan=c.rowSpan+1):(i=this.cloneCell(t,!0),this.setCellContent(i),a.appendChild(i)),s||n(l,i,a)}}return this.update(),a},deleteRow:function(e){for(var t=this.table.rows[e],n=this.indexTable[e],i=this.colsNum,r=0,o=0;o<i;){var a=n[o],s=this.getCell(a.rowIndex,a.cellIndex);if(s.rowSpan>1&&a.rowIndex==e){var l=s.cloneNode(!0);l.rowSpan=s.rowSpan-1,l.innerHTML="",s.rowSpan=1;var u,c=e+1,d=this.table.rows[c],f=this.getPreviewMergedCellsNum(c,o)-r;f<o?(u=o-f-1,domUtils.insertAfter(d.cells[u],l)):d.cells.length&&d.insertBefore(l,d.cells[0]),r+=1}o+=s.colSpan||1}var p=[],h={};for(o=0;o<i;o++){var m=n[o].rowIndex,g=n[o].cellIndex,v=m+"_"+g;h[v]||(h[v]=1,s=this.getCell(m,g),p.push(s))}var y=[];utils.each(p,function(e){1==e.rowSpan?e.parentNode.removeChild(e):y.push(e)}),utils.each(y,function(e){e.rowSpan--}),t.parentNode.removeChild(t),this.update()},insertCol:function(e,t,n){function i(e,t,n){if(0==e){var i=t.nextSibling||t.previousSibling;"TH"==i.tagName&&(i=t.ownerDocument.createElement("th"),i.appendChild(t.firstChild),n.insertBefore(i,t),domUtils.remove(t))}else if("TH"==t.tagName){var r=t.ownerDocument.createElement("td");r.appendChild(t.firstChild),n.insertBefore(r,t),domUtils.remove(t)}}var r,o,a,s=this.rowsNum,l=0,u=parseInt((this.table.offsetWidth-20*(this.colsNum+1)-(this.colsNum+1))/(this.colsNum+1),10),c="string"==typeof t&&"TH"==t.toUpperCase();if(0==e||e==this.colsNum)for(;l<s;l++)r=this.table.rows[l],a=r.cells[0==e?e:r.cells.length],o=this.cloneCell(t,!0),this.setCellContent(o),o.setAttribute("vAlign",o.getAttribute("vAlign")),a&&o.setAttribute("width",a.getAttribute("width")),e?domUtils.insertAfter(r.cells[r.cells.length-1],o):r.insertBefore(o,r.cells[0]),c||i(l,o,r);else for(;l<s;l++){var d=this.indexTable[l][e];d.colIndex<e?(o=this.getCell(d.rowIndex,d.cellIndex),o.colSpan=d.colSpan+1):(r=this.table.rows[l],a=r.cells[d.cellIndex],o=this.cloneCell(t,!0),this.setCellContent(o),o.setAttribute("vAlign",o.getAttribute("vAlign")),a&&o.setAttribute("width",a.getAttribute("width")),a?r.insertBefore(o,a):r.appendChild(o)),c||i(l,o,r)}this.update(),this.updateWidth(u,n||{tdPadding:10,tdBorder:1})},updateWidth:function(t,n){var i=this.table,r=e.getWidth(i)-2*n.tdPadding-n.tdBorder+t;if(r<i.ownerDocument.body.offsetWidth)return void i.setAttribute("width",r);var o=domUtils.getElementsByTagName(this.table,"td th");utils.each(o,function(e){e.setAttribute("width",t)})},deleteCol:function(e){for(var t=this.indexTable,n=this.table.rows,i=this.table.getAttribute("width"),r=0,o=this.rowsNum,a={},s=0;s<o;){var l=t[s],u=l[e],c=u.rowIndex+"_"+u.colIndex;if(!a[c]){a[c]=1;var d=this.getCell(u.rowIndex,u.cellIndex);r||(r=d&&parseInt(d.offsetWidth/d.colSpan,10).toFixed(0)),d.colSpan>1?d.colSpan--:n[s].deleteCell(u.cellIndex),s+=u.rowSpan||1}}this.table.setAttribute("width",i-r),this.update()},splitToCells:function(e){var t=this,n=this.splitToRows(e);utils.each(n,function(e){t.splitToCols(e)})},splitToRows:function(e){var t=this.getCellInfo(e),n=t.rowIndex,i=t.colIndex,r=[];e.rowSpan=1,r.push(e);for(var o=n,a=n+t.rowSpan;o<a;o++)if(o!=n){var s=this.table.rows[o],l=s.insertCell(i-this.getPreviewMergedCellsNum(o,i));l.colSpan=t.colSpan,this.setCellContent(l),l.setAttribute("vAlign",e.getAttribute("vAlign")),l.setAttribute("align",e.getAttribute("align")),e.style.cssText&&(l.style.cssText=e.style.cssText),r.push(l)}return this.update(),r},getPreviewMergedCellsNum:function(e,t){for(var n=this.indexTable[e],i=0,r=0;r<t;){var o=n[r].colSpan;i+=o-(n[r].rowIndex==e?1:0),r+=o}return i},splitToCols:function(e){var t=(e.offsetWidth/e.colSpan-22).toFixed(0),n=this.getCellInfo(e),i=n.rowIndex,r=n.colIndex,o=[];e.colSpan=1,e.setAttribute("width",t),o.push(e);for(var a=r,s=r+n.colSpan;a<s;a++)if(a!=r){var l=this.table.rows[i],u=l.insertCell(this.indexTable[i][a].cellIndex+1);if(u.rowSpan=n.rowSpan,this.setCellContent(u),u.setAttribute("vAlign",e.getAttribute("vAlign")),u.setAttribute("align",e.getAttribute("align")),u.setAttribute("width",t),e.style.cssText&&(u.style.cssText=e.style.cssText),"TH"==e.tagName){var c=e.ownerDocument.createElement("th");c.appendChild(u.firstChild),c.setAttribute("vAlign",e.getAttribute("vAlign")),c.rowSpan=u.rowSpan,l.insertBefore(c,u),domUtils.remove(u)}o.push(u)}return this.update(),o},isLastCell:function(e,t,n){t=t||this.rowsNum,n=n||this.colsNum;var i=this.getCellInfo(e);return i.rowIndex+i.rowSpan==t&&i.colIndex+i.colSpan==n},getLastCell:function(e){e=e||this.table.getElementsByTagName("td");var t,n=(this.getCellInfo(e[0]),this),i=e[0],r=i.parentNode,o=0,a=0;return utils.each(e,function(e){e.parentNode==r&&(a+=e.colSpan||1),o+=e.rowSpan*e.colSpan||1}),t=o/a,utils.each(e,function(e){if(n.isLastCell(e,t,a))return i=e,!1}),i},selectRow:function(e){var t=this.indexTable[e],n=this.getCell(t[0].rowIndex,t[0].cellIndex),i=this.getCell(t[this.colsNum-1].rowIndex,t[this.colsNum-1].cellIndex),r=this.getCellsRange(n,i);this.setSelected(r)},selectTable:function(){var e=this.table.getElementsByTagName("td"),t=this.getCellsRange(e[0],e[e.length-1]);this.setSelected(t)},setBackground:function(e,t){if("string"==typeof t)utils.each(e,function(e){e.style.backgroundColor=t});else if("object"===(void 0===t?"undefined":(0,_typeof3.default)(t))){t=utils.extend({repeat:!0,colorList:["#ddd","#fff"]},t);for(var n,i=this.getCellInfo(e[0]).rowIndex,r=0,o=t.colorList,a=0;n=e[a++];){var s=this.getCellInfo(n);n.style.backgroundColor=function(e,t,n){return e[t]?e[t]:n?e[t%e.length]:""}(o,i+r==s.rowIndex?r:++r,t.repeat)}}},removeBackground:function(e){utils.each(e,function(e){e.style.backgroundColor=""})}}}(),function(){function e(e,n){var i=domUtils.getElementsByTagName(e,"td th");utils.each(i,function(e){e.removeAttribute("width")}),e.setAttribute("width",t(n,!0,a(n,e)));var r=[];setTimeout(function(){utils.each(i,function(e){1==e.colSpan&&r.push(e.offsetWidth)}),utils.each(i,function(e,t){1==e.colSpan&&e.setAttribute("width",r[t]+"")})},0)}function t(e,t,n){var i=e.body;return i.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(i,"margin-left"),10):0)-2*n.tableBorder-(e.options.offsetWidth||0)}function n(e){var t=r(e).cell;if(t){var n=s(t);return n.selectedTds.length?n.selectedTds:[t]}return[]}var i=UE.UETable,r=function(e){return i.getTableItemsByRange(e)},o=function(e){return i.getUETableBySelected(e)},a=function(e,t){return i.getDefaultValue(e,t)},s=function(e){return i.getUETable(e)};UE.commands.inserttable={queryCommandState:function(){return r(this).table?-1:0},execCommand:function(e,t){t||(t=utils.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign}));var n=this,i=this.selection.getRange(),r=i.startContainer,o=domUtils.findParent(r,function(e){return domUtils.isBlockElm(e)},!0)||n.body,s=a(n),l=o.offsetWidth,u=Math.floor(l/t.numCols-2*s.tdPadding-s.tdBorder);!t.tdvalign&&(t.tdvalign=n.options.tdvalign),n.execCommand("inserthtml",function(e,t){for(var n=[],i=e.numRows,r=e.numCols,o=0;o<i;o++){n.push("<tr"+(0==o?' class="firstRow"':"")+">");for(var a=0;a<r;a++)n.push('<td width="'+t+'"  vAlign="'+e.tdvalign+'" >'+(browser.ie&&browser.version<11?domUtils.fillChar:"<br/>")+"</td>");n.push("</tr>")}return"<table><tbody>"+n.join("")+"</tbody></table>"}(t,u))}},UE.commands.insertparagraphbeforetable={queryCommandState:function(){return r(this).cell?0:-1},execCommand:function(){var e=r(this).table;if(e){var t=this.document.createElement("p");t.innerHTML=browser.ie?"&nbsp;":"<br />",e.parentNode.insertBefore(t,e),this.selection.getRange().setStart(t,0).setCursor()}}},UE.commands.deletetable={queryCommandState:function(){var e=this.selection.getRange();return domUtils.findParentByTagName(e.startContainer,"table",!0)?0:-1},execCommand:function(e,t){var n=this.selection.getRange();if(t=t||domUtils.findParentByTagName(n.startContainer,"table",!0)){var i=t.nextSibling;i||(i=domUtils.createElement(this.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"}),t.parentNode.insertBefore(i,t)),domUtils.remove(t),n=this.selection.getRange(),3==i.nodeType?n.setStartBefore(i):n.setStart(i,0),n.setCursor(!1,!0),this.fireEvent("tablehasdeleted")}}},UE.commands.cellalign={queryCommandState:function(){return n(this).length?0:-1},execCommand:function(e,t){var i=n(this);if(i.length)for(var r,o=0;r=i[o++];)r.setAttribute("align",t)}},UE.commands.cellvalign={queryCommandState:function(){return n(this).length?0:-1},execCommand:function(e,t){var i=n(this);if(i.length)for(var r,o=0;r=i[o++];)r.setAttribute("vAlign",t)}},UE.commands.insertcaption={queryCommandState:function(){var e=r(this).table;return e&&0==e.getElementsByTagName("caption").length?1:-1},execCommand:function(){var e=r(this).table;if(e){var t=this.document.createElement("caption");t.innerHTML=browser.ie?domUtils.fillChar:"<br/>",e.insertBefore(t,e.firstChild);this.selection.getRange().setStart(t,0).setCursor()}}},UE.commands.deletecaption={queryCommandState:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");return t?0==t.getElementsByTagName("caption").length?-1:1:-1},execCommand:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");if(t){domUtils.remove(t.getElementsByTagName("caption")[0]);this.selection.getRange().setStart(t.rows[0].cells[0],0).setCursor()}}},UE.commands.inserttitle={queryCommandState:function(){var e=r(this).table;if(e){var t=e.rows[0];return"th"!=t.cells[t.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=r(this).table;e&&s(e).insertRow(0,"th");var t=e.getElementsByTagName("th")[0];this.selection.getRange().setStart(t,0).setCursor(!1,!0)}},UE.commands.deletetitle={queryCommandState:function(){var e=r(this).table;if(e){var t=e.rows[0];return"th"==t.cells[t.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=r(this).table;e&&domUtils.remove(e.rows[0]);var t=e.getElementsByTagName("td")[0];this.selection.getRange().setStart(t,0).setCursor(!1,!0)}},UE.commands.inserttitlecol={queryCommandState:function(){var e=r(this).table;if(e){return e.rows[e.rows.length-1].getElementsByTagName("th").length?-1:0}return-1},execCommand:function(t){var n=r(this).table;n&&s(n).insertCol(0,"th"),e(n,this);var i=n.getElementsByTagName("th")[0];this.selection.getRange().setStart(i,0).setCursor(!1,!0)}},UE.commands.deletetitlecol={queryCommandState:function(){var e=r(this).table;if(e){return e.rows[e.rows.length-1].getElementsByTagName("th").length?0:-1}return-1},execCommand:function(){var t=r(this).table;if(t)for(var n=0;n<t.rows.length;n++)domUtils.remove(t.rows[n].children[0]);e(t,this);var i=t.getElementsByTagName("td")[0];this.selection.getRange().setStart(i,0).setCursor(!1,!0)}},UE.commands.mergeright={queryCommandState:function(e){var t=r(this),n=t.table,i=t.cell;if(!n||!i)return-1;var o=s(n);if(o.selectedTds.length)return-1;var a=o.getCellInfo(i),l=a.colIndex+a.colSpan;if(l>=o.colsNum)return-1;var u=o.indexTable[a.rowIndex][l],c=n.rows[u.rowIndex].cells[u.cellIndex];return c&&i.tagName==c.tagName&&u.rowIndex==a.rowIndex&&u.rowSpan==a.rowSpan?0:-1},execCommand:function(e){var t=this.selection.getRange(),n=t.createBookmark(!0),i=r(this).cell;s(i).mergeRight(i),t.moveToBookmark(n).select()}},UE.commands.mergedown={queryCommandState:function(e){var t=r(this),n=t.table,i=t.cell;if(!n||!i)return-1;var o=s(n);if(o.selectedTds.length)return-1;var a=o.getCellInfo(i),l=a.rowIndex+a.rowSpan;if(l>=o.rowsNum)return-1;var u=o.indexTable[l][a.colIndex],c=n.rows[u.rowIndex].cells[u.cellIndex];return c&&i.tagName==c.tagName&&u.colIndex==a.colIndex&&u.colSpan==a.colSpan?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell;s(n).mergeDown(n),e.moveToBookmark(t).select()}},UE.commands.mergecells={queryCommandState:function(){return o(this)?0:-1},execCommand:function(){var e=o(this);if(e&&e.selectedTds.length){var t=e.selectedTds[0];e.mergeRange();var n=this.selection.getRange();domUtils.isEmptyBlock(t)?n.setStart(t,0).collapse(!0):n.selectNodeContents(t),n.select()}}},UE.commands.insertrow={queryCommandState:function(){var e=r(this),t=e.cell;return t&&("TD"==t.tagName||"TH"==t.tagName&&e.tr!==e.table.rows[0])&&s(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this),i=n.cell,o=n.table,a=s(o),l=a.getCellInfo(i);if(a.selectedTds.length)for(var u=a.cellsRange,c=0,d=u.endRowIndex-u.beginRowIndex+1;c<d;c++)a.insertRow(u.beginRowIndex,i);else a.insertRow(l.rowIndex,i);e.moveToBookmark(t).select(),"enabled"===o.getAttribute("interlaced")&&this.fireEvent("interlacetable",o)}},UE.commands.insertrownext={queryCommandState:function(){var e=r(this),t=e.cell;return t&&"TD"==t.tagName&&s(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this),i=n.cell,o=n.table,a=s(o),l=a.getCellInfo(i);if(a.selectedTds.length)for(var u=a.cellsRange,c=0,d=u.endRowIndex-u.beginRowIndex+1;c<d;c++)a.insertRow(u.endRowIndex+1,i);else a.insertRow(l.rowIndex+l.rowSpan,i);e.moveToBookmark(t).select(),"enabled"===o.getAttribute("interlaced")&&this.fireEvent("interlacetable",o)}},UE.commands.deleterow={queryCommandState:function(){return r(this).cell?0:-1},execCommand:function(){var e=r(this).cell,t=s(e),n=t.cellsRange,i=t.getCellInfo(e),o=t.getVSideCell(e),a=t.getVSideCell(e,!0),l=this.selection.getRange();if(utils.isEmptyObject(n))t.deleteRow(i.rowIndex);else for(var u=n.beginRowIndex;u<n.endRowIndex+1;u++)t.deleteRow(n.beginRowIndex);var c=t.table;if(c.getElementsByTagName("td").length)if(1==i.rowSpan||i.rowSpan==n.endRowIndex-n.beginRowIndex+1)(a||o)&&l.selectNodeContents(a||o).setCursor(!1,!0);else{var d=t.getCell(i.rowIndex,t.indexTable[i.rowIndex][i.colIndex].cellIndex);d&&l.selectNodeContents(d).setCursor(!1,!0)}else{var f=c.nextSibling;domUtils.remove(c),f&&l.setStart(f,0).setCursor(!1,!0)}"enabled"===c.getAttribute("interlaced")&&this.fireEvent("interlacetable",c)}},UE.commands.insertcol={queryCommandState:function(e){var t=r(this),n=t.cell;return n&&("TD"==n.tagName||"TH"==n.tagName&&n!==t.tr.cells[0])&&s(t.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(e){var t=this.selection.getRange(),n=t.createBookmark(!0);if(-1!=this.queryCommandState(e)){var i=r(this).cell,o=s(i),a=o.getCellInfo(i);if(o.selectedTds.length)for(var l=o.cellsRange,u=0,c=l.endColIndex-l.beginColIndex+1;u<c;u++)o.insertCol(l.beginColIndex,i);else o.insertCol(a.colIndex,i);t.moveToBookmark(n).select(!0)}}},UE.commands.insertcolnext={queryCommandState:function(){var e=r(this);return e.cell&&s(e.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell,i=s(n),o=i.getCellInfo(n);if(i.selectedTds.length)for(var a=i.cellsRange,l=0,u=a.endColIndex-a.beginColIndex+1;l<u;l++)i.insertCol(a.endColIndex+1,n);else i.insertCol(o.colIndex+o.colSpan,n);e.moveToBookmark(t).select()}},UE.commands.deletecol={queryCommandState:function(){return r(this).cell?0:-1},execCommand:function(){var e=r(this).cell,t=s(e),n=t.cellsRange,i=t.getCellInfo(e),o=t.getHSideCell(e),a=t.getHSideCell(e,!0);if(utils.isEmptyObject(n))t.deleteCol(i.colIndex);else for(var l=n.beginColIndex;l<n.endColIndex+1;l++)t.deleteCol(n.beginColIndex);var u=t.table,c=this.selection.getRange();if(u.getElementsByTagName("td").length)domUtils.inDoc(e,this.document)?c.setStart(e,0).setCursor(!1,!0):a&&domUtils.inDoc(a,this.document)?c.selectNodeContents(a).setCursor(!1,!0):o&&domUtils.inDoc(o,this.document)&&c.selectNodeContents(o).setCursor(!0,!0);else{var d=u.nextSibling;domUtils.remove(u),d&&c.setStart(d,0).setCursor(!1,!0)}}},UE.commands.splittocells={queryCommandState:function(){var e=r(this),t=e.cell;return t?s(e.table).selectedTds.length>0?-1:t&&(t.colSpan>1||t.rowSpan>1)?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell;s(n).splitToCells(n),e.moveToBookmark(t).select()}},UE.commands.splittorows={queryCommandState:function(){var e=r(this),t=e.cell;return t?s(e.table).selectedTds.length>0?-1:t&&t.rowSpan>1?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell;s(n).splitToRows(n),e.moveToBookmark(t).select()}},UE.commands.splittocols={queryCommandState:function(){var e=r(this),t=e.cell;return t?s(e.table).selectedTds.length>0?-1:t&&t.colSpan>1?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell;s(n).splitToCols(n),e.moveToBookmark(t).select()}},UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(t){var n=r(this),i=n.table;if(i)if("adaptbywindow"==t)e(i,this);else{var o=domUtils.getElementsByTagName(i,"td th");utils.each(o,function(e){e.removeAttribute("width")}),i.removeAttribute("width")}}},UE.commands.averagedistributecol={queryCommandState:function(){var e=o(this);return e&&(e.isFullRow()||e.isFullCol())?0:-1},execCommand:function(e){var t=this,n=o(t);n&&n.selectedTds.length&&function(e){utils.each(domUtils.getElementsByTagName(n.table,"th"),function(e){e.setAttribute("width","")});var t=n.isFullRow()?domUtils.getElementsByTagName(n.table,"td"):n.selectedTds;utils.each(t,function(t){1==t.colSpan&&t.setAttribute("width",e)})}(function(){var e=n.table,i=0,r=0,o=a(t,e);if(n.isFullRow())i=e.offsetWidth,r=n.colsNum;else for(var s,l=n.cellsRange.beginColIndex,u=n.cellsRange.endColIndex,c=l;c<=u;)s=n.selectedTds[c],i+=s.offsetWidth,c+=s.colSpan,r+=1;return Math.ceil(i/r)-2*o.tdBorder-2*o.tdPadding}())}},UE.commands.averagedistributerow={queryCommandState:function(){var e=o(this);return e?e.selectedTds&&/th/gi.test(e.selectedTds[0].tagName)?-1:e.isFullRow()||e.isFullCol()?0:-1:-1},execCommand:function(e){var t=this,n=o(t);n&&n.selectedTds.length&&function(e){var t=n.isFullCol()?domUtils.getElementsByTagName(n.table,"td"):n.selectedTds;utils.each(t,function(t){1==t.rowSpan&&t.setAttribute("height",e)})}(function(){var e,i=0,r=n.table,o=a(t,r),s=parseInt(domUtils.getComputedStyle(r.getElementsByTagName("td")[0],"padding-top"));if(n.isFullCol()){var l,u,c=domUtils.getElementsByTagName(r,"caption"),d=domUtils.getElementsByTagName(r,"th");c.length>0&&(l=c[0].offsetHeight),d.length>0&&(u=d[0].offsetHeight),i=r.offsetHeight-(l||0)-(u||0),e=0==d.length?n.rowsNum:n.rowsNum-1}else{for(var f=n.cellsRange.beginRowIndex,p=n.cellsRange.endRowIndex,h=0,m=domUtils.getElementsByTagName(r,"tr"),g=f;g<=p;g++)i+=m[g].offsetHeight,h+=1;e=h}return browser.ie&&browser.version<9?Math.ceil(i/e):Math.ceil(i/e)-2*o.tdBorder-2*s}())}},UE.commands.cellalignment={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(e,t){var n=this,i=o(n);if(i)utils.each(i.selectedTds,function(e){domUtils.setAttributes(e,t)});else{var r=n.selection.getStart(),a=r&&domUtils.findParentByTagName(r,["td","th","caption"],!0);/caption/gi.test(a.tagName)?(a.style.textAlign=t.align,a.style.verticalAlign=t.vAlign):domUtils.setAttributes(a,t),n.selection.getRange().setCursor(!0)}},queryCommandValue:function(e){var t=r(this).cell;if(t||(t=n(this)[0]),t){var i=UE.UETable.getUETable(t).selectedTds;return!i.length&&(i=t),UE.UETable.getTableCellAlignState(i)}return null}},UE.commands.tablealignment={queryCommandState:function(){return browser.ie&&browser.version<8?-1:r(this).table?0:-1},execCommand:function(e,t){var n=this,i=n.selection.getStart(),r=i&&domUtils.findParentByTagName(i,["table"],!0);r&&r.setAttribute("align",t)}},UE.commands.edittable={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(e,t){var n=this.selection.getRange(),i=domUtils.findParentByTagName(n.startContainer,"table");if(i){var r=domUtils.getElementsByTagName(i,"td").concat(domUtils.getElementsByTagName(i,"th"),domUtils.getElementsByTagName(i,"caption"));utils.each(r,function(e){e.style.borderColor=t})}}},UE.commands.edittd={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(e,t){var n=this,i=o(n);if(i)utils.each(i.selectedTds,function(e){e.style.backgroundColor=t});else{var r=n.selection.getStart(),a=r&&domUtils.findParentByTagName(r,["td","th","caption"],!0);a&&(a.style.backgroundColor=t)}}},UE.commands.settablebackground={queryCommandState:function(){return n(this).length>1?0:-1},execCommand:function(e,t){var i,r;i=n(this),r=s(i[0]),r.setBackground(i,t)}},UE.commands.cleartablebackground={queryCommandState:function(){var e=n(this);if(!e.length)return-1;for(var t,i=0;t=e[i++];)if(""!==t.style.backgroundColor)return 0;return-1},execCommand:function(){var e=n(this);s(e[0]).removeBackground(e)}},UE.commands.interlacetable=UE.commands.uninterlacetable={queryCommandState:function(e){var t=r(this).table;if(!t)return-1;var n=t.getAttribute("interlaced");return"interlacetable"==e?"enabled"===n?-1:0:n&&"disabled"!==n?0:-1},execCommand:function(e,t){var n=r(this).table;"interlacetable"==e?(n.setAttribute("interlaced","enabled"),this.fireEvent("interlacetable",n,t)):(n.setAttribute("interlaced","disabled"),this.fireEvent("uninterlacetable",n))}},UE.commands.setbordervisible={queryCommandState:function(e){return r(this).table?0:-1},execCommand:function(){var e=r(this).table;utils.each(domUtils.getElementsByTagName(e,"td"),function(e){e.style.borderWidth="1px",e.style.borderStyle="solid"})}}}(),UE.plugins.table=function(){function e(e){}function t(e,t){n(e,"width",!0),n(e,"height",!0)}function n(e,t,n){e.style[t]&&(n&&e.setAttribute(t,parseInt(e.style[t],10)),e.style[t]="")}function i(e){if("TD"==e.tagName||"TH"==e.tagName)return e;var t;return(t=domUtils.findParentByTagName(e,"td",!0)||domUtils.findParentByTagName(e,"th",!0))?t:null}function r(e){var t=new RegExp(domUtils.fillChar,"g");if(e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(e.getElementsByTagName(n).length)return 0;return 1}function o(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+q.document.body.scrollLeft-q.document.body.clientLeft,y:e.clientY+q.document.body.scrollTop-q.document.body.clientTop}}function a(t){if(!k())try{var n,r=i(t.target||t.srcElement);if($&&(q.body.style.webkitUserSelect="none",(Math.abs(Y.x-t.clientX)>V||Math.abs(Y.y-t.clientY)>V)&&(b(),$=!1,W=0,w(t))),ne&&se)return W=0,q.body.style.webkitUserSelect="none",q.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),n=o(t),f(q,!0,ne,n,r),void("h"==ne?ae.style.left=c(se,t)+"px":"v"==ne&&(ae.style.top=d(se,t)+"px"));if(r){if(!0===q.fireEvent("excludetable",r))return;n=o(t);var a=p(r,n),l=domUtils.findParentByTagName(r,"table",!0);if(u(l,r,t,!0)){if(!0===q.fireEvent("excludetable",l))return;q.body.style.cursor="url("+q.options.cursorpath+"h.png),pointer"}else if(u(l,r,t)){if(!0===q.fireEvent("excludetable",l))return;q.body.style.cursor="url("+q.options.cursorpath+"v.png),pointer"}else{q.body.style.cursor="text";/\d/.test(a)&&(a=a.replace(/\d/,""),r=G(r).getPreviewCell(r,"v"==a)),f(q,!!r&&!!a,r?a:"",n,r)}}else s(!1,l,q)}catch(t){e(t)}}function s(e,t,n){if(e)l(t,n);else{if(oe)return;ce=setTimeout(function(){!oe&&re&&re.parentNode&&re.parentNode.removeChild(re)},2e3)}}function l(e,t){function n(n,i){clearTimeout(a),a=setTimeout(function(){t.fireEvent("tableClicked",e,i)},300)}function i(n){clearTimeout(a);var i=G(e),r=e.rows[0].cells[0],o=i.getLastCell(),s=i.getCellsRange(r,o);t.selection.getRange().setStart(r,0).setCursor(!1,!0),i.setSelected(s)}var r=domUtils.getXY(e),o=e.ownerDocument;if(re&&re.parentNode)return re;re=o.createElement("div"),re.contentEditable=!1,re.innerHTML="",re.style.cssText="width:15px;height:15px;background-image:url("+t.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+(r.y-15)+"px;left:"+r.x+"px;",domUtils.unSelectable(re),re.onmouseover=function(e){oe=!0},re.onmouseout=function(e){oe=!1},domUtils.on(re,"click",function(e,t){n(t,this)}),domUtils.on(re,"dblclick",function(e,t){i(t)}),domUtils.on(re,"dragstart",function(e,t){domUtils.preventDefault(t)});var a;o.body.appendChild(re)}function u(e,t,n,i){var r=o(n),a=p(t,r);if(i){var s=e.getElementsByTagName("caption")[0],l=s?s.offsetHeight:0;return"v1"==a&&r.y-domUtils.getXY(e).y-l<8}return"h1"==a&&r.x-domUtils.getXY(e).x<8}function c(e,t){var n=G(e);if(n){var i=n.getSameEndPosCells(e,"x")[0],r=n.getSameStartPosXCells(e)[0],a=o(t).x,s=(i?domUtils.getXY(i).x:domUtils.getXY(n.table).x)+20,l=r?domUtils.getXY(r).x+r.offsetWidth-20:q.body.offsetWidth+5||parseInt(domUtils.getComputedStyle(q.body,"width"),10);return s+=F,l-=F,a<s?s:a>l?l:a}}function d(t,n){try{var i=domUtils.getXY(t).y,r=o(n).y;return r<i?i:r}catch(t){e(t)}}function f(t,n,i,r,o){try{t.body.style.cursor="h"==i?"col-resize":"v"==i?"row-resize":"text",browser.ie&&(!i||le||Z(t)?R(t):(B(t,t.document),P(i,o))),ie=n}catch(t){e(t)}}function p(e,t){var n=domUtils.getXY(e);return n?n.x+e.offsetWidth-t.x<z?"h":t.x-n.x<z?"h1":n.y+e.offsetHeight-t.y<z?"v":t.y-n.y<z?"v1":"":""}function h(e,t){if(!k())if(Y={x:t.clientX,y:t.clientY},2==t.button){var n=Z(q),i=!1;if(n){var r=j(q,t);utils.each(n.selectedTds,function(e){e===r&&(i=!0)}),i?(r=n.selectedTds[0],setTimeout(function(){q.selection.getRange().setStart(r,0).setCursor(!1,!0)},0)):(J(domUtils.getElementsByTagName(q.body,"th td")),n.clearSelected())}}else g(t)}function m(e){W=0,e=e||q.window.event;var t=i(e.target||e.srcElement);if(t){var n;if(n=p(t,o(e))){if(R(q),"h1"==n)if(n="h",u(domUtils.findParentByTagName(t,"table"),t,e))q.execCommand("adaptbywindow");else if(t=G(t).getPreviewCell(t)){var r=q.selection.getRange();r.selectNodeContents(t).setCursor(!0,!0)}if("h"==n){var a=G(t),s=a.table,l=S(t,s,!0);l=y(l,"left"),a.width=a.offsetWidth;var c=[],d=[];utils.each(l,function(e){c.push(e.offsetWidth)}),utils.each(l,function(e){e.removeAttribute("width")}),window.setTimeout(function(){var e=!0;utils.each(l,function(t,n){var i=t.offsetWidth;if(i>c[n])return e=!1,!1;d.push(i)});var t=e?d:c;utils.each(l,function(e,n){e.width=t[n]-L()})},0)}}}}function g(e){if(J(domUtils.getElementsByTagName(q.body,"td th")),utils.each(q.document.getElementsByTagName("table"),function(e){e.ueTable=null}),ee=j(q,e)){var t=domUtils.findParentByTagName(ee,"table",!0);ut=G(t),ut&&ut.clearSelected(),ie?v(e):(q.document.body.style.webkitUserSelect="",le=!0,q.addListener("mouseover",N))}}function v(e){browser.ie&&(e=x(e)),b(),$=!0,M=setTimeout(function(){w(e)},X)}function y(e,t){for(var n=[],i=null,r=0,o=e.length;r<o;r++)(i=e[r][t])&&n.push(i);return n}function b(){M&&clearTimeout(M),M=null}function x(e){var t=["pageX","pageY","clientX","clientY","srcElement","target"],n={};if(e)for(var i,r,o=0;i=t[o];o++)(r=e[i])&&(n[i]=r);return n}function w(e){if($=!1,ee=e.target||e.srcElement){var t=p(ee,o(e));/\d/.test(t)&&(t=t.replace(/\d/,""),ee=G(ee).getPreviewCell(ee,"v"==t)),R(q),B(q,q.document),q.fireEvent("saveScene"),P(t,ee),le=!0,ne=t,se=ee}}function C(e,t){if(!k()){if(b(),$=!1,ie&&(W=++W%3,Y={x:t.clientX,y:t.clientY},H=setTimeout(function(){W>0&&W--},X),2===W))return W=0,void m(t);if(2!=t.button){var n=this,i=n.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"table",!0),o=domUtils.findParentByTagName(i.endContainer,"table",!0);if((r||o)&&(r===o?(r=domUtils.findParentByTagName(i.startContainer,["td","th","caption"],!0),o=domUtils.findParentByTagName(i.endContainer,["td","th","caption"],!0),r!==o&&n.selection.clearRange()):n.selection.clearRange()),le=!1,n.document.body.style.webkitUserSelect="",ne&&se&&(n.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),W=0,ae=n.document.getElementById("ue_tableDragLine"))){var a=domUtils.getXY(se),s=domUtils.getXY(ae);switch(ne){case"h":T(se,s.x-a.x);break;case"v":_(se,s.y-a.y-se.offsetHeight)}return ne="",se=null,R(n),void n.fireEvent("saveScene")}if(ee){var l=G(ee),u=l?l.selectedTds[0]:null;if(u)i=new dom.Range(n.document),domUtils.isEmptyBlock(u)?i.setStart(u,0).setCursor(!1,!0):i.selectNodeContents(u).shrinkBoundary().setCursor(!1,!0);else if(i=n.selection.getRange().shrinkBoundary(),!i.collapsed){var r=domUtils.findParentByTagName(i.startContainer,["td","th"],!0),o=domUtils.findParentByTagName(i.endContainer,["td","th"],!0);(r&&!o||!r&&o||r&&o&&r!==o)&&i.setCursor(!1,!0)}ee=null,n.removeListener("mouseover",N)}else{var c=domUtils.findParentByTagName(t.target||t.srcElement,"td",!0);if(c||(c=domUtils.findParentByTagName(t.target||t.srcElement,"th",!0)),c&&("TD"==c.tagName||"TH"==c.tagName)){if(!0===n.fireEvent("excludetable",c))return;i=new dom.Range(n.document),i.setStart(c,0).setCursor(!1,!0)}}n._selectionChange(250,t)}}}function N(e,t){if(!k()){var n=this,i=t.target||t.srcElement;if(te=domUtils.findParentByTagName(i,"td",!0)||domUtils.findParentByTagName(i,"th",!0),ee&&te&&("TD"==ee.tagName&&"TD"==te.tagName||"TH"==ee.tagName&&"TH"==te.tagName)&&domUtils.findParentByTagName(ee,"table")==domUtils.findParentByTagName(te,"table")){var r=G(te);if(ee!=te){n.document.body.style.webkitUserSelect="none",n.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"]();var o=r.getCellsRange(ee,te);r.setSelected(o)}else n.document.body.style.webkitUserSelect="",r.clearSelected()}t.preventDefault?t.preventDefault():t.returnValue=!1}}function E(e,t,n){var i=parseInt(domUtils.getComputedStyle(e,"line-height"),10),r=n+t;t=r<i?i:r,e.style.height&&(e.style.height=""),1==e.rowSpan?e.setAttribute("height",t):e.removeAttribute&&e.removeAttribute("height")}function T(e,t){var n=G(e);if(n){var i=n.table,r=S(e,i);if(i.style.width="",i.removeAttribute("width"),t=U(t,e,r),e.nextSibling){utils.each(r,function(e){e.left.width=+e.left.width+t,e.right&&(e.right.width=+e.right.width-t)})}else utils.each(r,function(e){e.left.width-=-t})}}function k(){return"false"===q.body.contentEditable}function _(e,t){if(!(Math.abs(t)<10)){var n=G(e);if(n)for(var i,r=n.getSameEndPosCells(e,"y"),o=r[0]?r[0].offsetHeight:0,a=0;i=r[a++];)E(i,t,o)}}function S(e,t,n){if(t||(t=domUtils.findParentByTagName(e,"table")),!t)return null;for(var i=(domUtils.getNodeIndex(e),e),r=t.rows,o=0;i;)1===i.nodeType&&(o+=i.colSpan||1),i=i.previousSibling;i=null;var a=[];return utils.each(r,function(e){var t=e.cells,i=0;utils.each(t,function(e){return i+=e.colSpan||1,i===o?(a.push({left:e,right:e.nextSibling||null}),!1):i>o?(n&&a.push({left:e}),!1):void 0})}),a}function U(e,t,n){if((e-=L())<0)return 0;e-=A(t);var i=e<0?"left":"right";return e=Math.abs(e),utils.each(n,function(t){var n=t[i];n&&(e=Math.min(e,A(n)-F))}),e=e<0?0:e,"left"===i?-e:e}function A(e){var t=0,t=e.offsetWidth-L();e.nextSibling||(t-=O(e)),t=t<0?0:t;try{e.width=t}catch(e){}return t}function O(e){if(tab=domUtils.findParentByTagName(e,"table",!1),void 0===tab.offsetVal){var t=e.previousSibling;tab.offsetVal=t&&e.offsetWidth-t.offsetWidth===K.borderWidth?K.borderWidth:0}return tab.offsetVal}function L(){if(void 0===K.tabcellSpace){var e=q.document.createElement("table"),t=q.document.createElement("tbody"),n=q.document.createElement("tr"),i=q.document.createElement("td"),r=null;i.style.cssText="border: 0;",i.width=1,n.appendChild(i),n.appendChild(r=i.cloneNode(!1)),t.appendChild(n),e.appendChild(t),e.style.cssText="visibility: hidden;",q.body.appendChild(e),K.paddingSpace=i.offsetWidth-1;var o=e.offsetWidth;i.style.cssText="",r.style.cssText="",K.borderWidth=(e.offsetWidth-o)/3,K.tabcellSpace=K.paddingSpace+K.borderWidth,q.body.removeChild(e)}return L=function(){return K.tabcellSpace},K.tabcellSpace}function B(e,t){le||(ae=e.document.createElement("div"),domUtils.setAttributes(ae,{id:"ue_tableDragLine",unselectable:"on",contenteditable:!1,onresizestart:"return false",ondragstart:"return false",onselectstart:"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"}),e.body.appendChild(ae))}function R(e){if(!le)for(var t;t=e.document.getElementById("ue_tableDragLine");)domUtils.remove(t)}function P(e,t){if(t){var n,i=domUtils.findParentByTagName(t,"table"),r=i.getElementsByTagName("caption"),o=i.offsetWidth,a=i.offsetHeight-(r.length>0?r[0].offsetHeight:0),s=domUtils.getXY(i),l=domUtils.getXY(t);switch(e){case"h":n="height:"+a+"px;top:"+(s.y+(r.length>0?r[0].offsetHeight:0))+"px;left:"+(l.x+t.offsetWidth),ae.style.cssText=n+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case"v":n="width:"+o+"px;left:"+s.x+"px;top:"+(l.y+t.offsetHeight),ae.style.cssText=n+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)"}}}function I(e,t){for(var n,i,r=domUtils.getElementsByTagName(e.body,"table"),o=0;i=r[o++];){var a=domUtils.getElementsByTagName(i,"td");a[0]&&(t?(n=a[0].style.borderColor.replace(/\s/g,""),/(#ffffff)|(rgb\(255,255,255\))/gi.test(n)&&domUtils.addClass(i,"noBorderTable")):domUtils.removeClasses(i,"noBorderTable"))}}function D(e,t,n){var i=e.body;return i.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(i,"margin-left"),10):0)-2*n.tableBorder-(e.options.offsetWidth||0)}function j(e,t){var n=domUtils.findParentByTagName(t.target||t.srcElement,["td","th"],!0),i=null;if(!n)return null;if(i=p(n,o(t)),!n)return null;if("h1"===i&&n.previousSibling){var r=domUtils.getXY(n),a=n.offsetWidth;Math.abs(r.x+a-t.clientX)>a/3&&(n=n.previousSibling)}else if("v1"===i&&n.parentNode.previousSibling){var r=domUtils.getXY(n),s=n.offsetHeight;Math.abs(r.y+s-t.clientY)>s/3&&(n=n.parentNode.previousSibling.firstChild)}return n&&!0!==e.fireEvent("excludetable",n)?n:null}var q=this,M=null,H=null,F=5,$=!1,z=5,V=10,W=0,Y=null,X=360,K=UE.UETable,G=function(e){return K.getUETable(e)},Z=function(e){return K.getUETableBySelected(e)},Q=function(e,t){return K.getDefaultValue(e,t)},J=function(e){return K.removeSelectedClass(e)};q.ready(function(){var e=this,t=e.selection.getText;e.selection.getText=function(){var n=Z(e);if(n){var i="";return utils.each(n.selectedTds,function(e){i+=e[browser.ie?"innerText":"textContent"]}),i}return t.call(e.selection)}});var ee=null,te=null,ne="",ie=!1,re=null,oe=!1,ae=null,se=null,le=!1;q.setOpt({maxColNum:20,maxRowNum:100,defaultCols:5,defaultRows:5,tdvalign:"top",cursorpath:q.options.UEDITOR_HOME_URL+"themes/default/images/cursor_",tableDragable:!1,classList:["ue-table-interlace-color-single","ue-table-interlace-color-double"]}),q.getUETable=G;var ue={deletetable:1,inserttable:1,cellvalign:1,insertcaption:1,deletecaption:1,inserttitle:1,deletetitle:1,mergeright:1,mergedown:1,mergecells:1,insertrow:1,insertrownext:1,deleterow:1,insertcol:1,insertcolnext:1,deletecol:1,splittocells:1,splittorows:1,splittocols:1,adaptbytext:1,adaptbywindow:1,adaptbycustomer:1,insertparagraph:1,insertparagraphbeforetable:1,averagedistributecol:1,averagedistributerow:1};q.ready(function(){utils.cssRule("table",".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:1px solid #BBB;background-color:#F7F7F7;}table tr.firstRow th{border-top-width:2px;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",q.document);var e,n,o;q.addListener("keydown",function(t,i){var a=this,s=i.keyCode||i.which;if(8==s){var l=Z(a);l&&l.selectedTds.length&&(l.isFullCol()?a.execCommand("deletecol"):l.isFullRow()?a.execCommand("deleterow"):a.fireEvent("delcells"),domUtils.preventDefault(i));var u=domUtils.findParentByTagName(a.selection.getStart(),"caption",!0),c=a.selection.getRange();if(c.collapsed&&u&&r(u)){a.fireEvent("saveScene");var d=u.parentNode;domUtils.remove(u),d&&c.setStart(d.rows[0].cells[0],0).setCursor(!1,!0),a.fireEvent("saveScene")}}if(46==s&&(l=Z(a))){a.fireEvent("saveScene");for(var f,p=0;f=l.selectedTds[p++];)domUtils.fillNode(a.document,f);a.fireEvent("saveScene"),domUtils.preventDefault(i)}if(13==s){var h=a.selection.getRange(),u=domUtils.findParentByTagName(h.startContainer,"caption",!0);if(u){var d=domUtils.findParentByTagName(u,"table");return h.collapsed?u&&h.setStart(d.rows[0].cells[0],0).setCursor(!1,!0):(h.deleteContents(),a.fireEvent("saveScene")),void domUtils.preventDefault(i)}if(h.collapsed){var d=domUtils.findParentByTagName(h.startContainer,"table");if(d){var m=d.rows[0].cells[0],g=domUtils.findParentByTagName(a.selection.getStart(),["td","th"],!0),v=d.previousSibling;if(m===g&&(!v||1==v.nodeType&&"TABLE"==v.tagName)&&domUtils.isStartInblock(h)){var y=domUtils.findParent(a.selection.getStart(),function(e){return domUtils.isBlockElm(e)},!0);y&&(/t(h|d)/i.test(y.tagName)||y===g.firstChild)&&(a.execCommand("insertparagraphbeforetable"),domUtils.preventDefault(i))}}}}if((i.ctrlKey||i.metaKey)&&"67"==i.keyCode){e=null;var l=Z(a);if(l){var b=l.selectedTds;n=l.isFullCol(),o=l.isFullRow(),e=[[l.cloneCell(b[0],null,!0)]];for(var f,p=1;f=b[p];p++)f.parentNode!==b[p-1].parentNode?e.push([l.cloneCell(f,null,!0)]):e[e.length-1].push(l.cloneCell(f,null,!0))}}}),q.addListener("tablehasdeleted",function(){f(this,!1,"",null),re&&domUtils.remove(re)}),q.addListener("beforepaste",function(i,a){var s=this,l=s.selection.getRange();if(domUtils.findParentByTagName(l.startContainer,"caption",!0)){var u=s.document.createElement("div");return u.innerHTML=a.html,void(a.html=u[browser.ie9below?"innerText":"textContent"])}var c=Z(s);if(e){s.fireEvent("saveScene");var d,f,l=s.selection.getRange(),p=domUtils.findParentByTagName(l.startContainer,["td","th"],!0);if(p){var h=G(p);if(o){var m=h.getCellInfo(p).rowIndex;"TH"==p.tagName&&m++;for(var g,v=0;g=e[v++];){for(var y,b=h.insertRow(m++,"td"),x=0;y=g[x];x++){var w=b.cells[x];w||(w=b.insertCell(x)),w.innerHTML=y.innerHTML,y.getAttribute("width")&&w.setAttribute("width",y.getAttribute("width")),y.getAttribute("vAlign")&&w.setAttribute("vAlign",y.getAttribute("vAlign")),y.getAttribute("align")&&w.setAttribute("align",y.getAttribute("align")),y.style.cssText&&(w.style.cssText=y.style.cssText)}for(var y,x=0;(y=b.cells[x])&&g[x];x++)y.innerHTML=g[x].innerHTML,g[x].getAttribute("width")&&y.setAttribute("width",g[x].getAttribute("width")),g[x].getAttribute("vAlign")&&y.setAttribute("vAlign",g[x].getAttribute("vAlign")),g[x].getAttribute("align")&&y.setAttribute("align",g[x].getAttribute("align")),g[x].style.cssText&&(y.style.cssText=g[x].style.cssText)}}else{if(n){E=h.getCellInfo(p);for(var y,C=0,x=0,g=e[0];y=g[x++];)C+=y.colSpan||1;for(s.__hasEnterExecCommand=!0,v=0;v<C;v++)s.execCommand("insertcol");s.__hasEnterExecCommand=!1,p=h.table.rows[0].cells[E.cellIndex],"TH"==p.tagName&&(p=h.table.rows[1].cells[E.cellIndex])}for(var g,v=0;g=e[v++];){d=p;for(var y,x=0;y=g[x++];)if(p)p.innerHTML=y.innerHTML,y.getAttribute("width")&&p.setAttribute("width",y.getAttribute("width")),y.getAttribute("vAlign")&&p.setAttribute("vAlign",y.getAttribute("vAlign")),y.getAttribute("align")&&p.setAttribute("align",y.getAttribute("align")),y.style.cssText&&(p.style.cssText=y.style.cssText),f=p,p=p.nextSibling;else{var N=y.cloneNode(!0);domUtils.removeAttributes(N,["class","rowSpan","colSpan"]),f.parentNode.appendChild(N)}if(p=h.getNextCell(d,!0,!0),!e[v])break;if(!p){var E=h.getCellInfo(d);h.table.insertRow(h.table.rows.length),h.update(),p=h.getVSideCell(d,!0)}}}h.update()}else{c=s.document.createElement("table");for(var g,v=0;g=e[v++];){for(var y,b=c.insertRow(c.rows.length),x=0;y=g[x++];)N=K.cloneCell(y,null,!0),domUtils.removeAttributes(N,["class"]),b.appendChild(N);2==x&&N.rowSpan>1&&(N.rowSpan=1)}var T=Q(s),k=s.body.offsetWidth-2*parseInt(domUtils.getComputedStyle(s.body,"margin-left"),10)-2*T.tableBorder-(s.options.offsetWidth||0);s.execCommand("insertHTML","<table  "+(n&&o?'width="'+k+'"':"")+">"+c.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"</table>")}return s.fireEvent("contentchange"),s.fireEvent("saveScene"),a.html="",!0}var _,u=s.document.createElement("div");u.innerHTML=a.html,_=u.getElementsByTagName("table"),domUtils.findParentByTagName(s.selection.getStart(),"table")?(utils.each(_,function(e){domUtils.remove(e)}),domUtils.findParentByTagName(s.selection.getStart(),"caption",!0)&&(u.innerHTML=u[browser.ie?"innerText":"textContent"])):utils.each(_,function(e){t(e,!0),domUtils.removeAttributes(e,["style","border"]),utils.each(domUtils.getElementsByTagName(e,"td"),function(e){r(e)&&domUtils.fillNode(s.document,e),t(e,!0)})}),a.html=u.innerHTML}),q.addListener("afterpaste",function(){utils.each(domUtils.getElementsByTagName(q.body,"table"),function(e){if(e.offsetWidth>q.body.offsetWidth){var t=Q(q,e);e.style.width=q.body.offsetWidth-2*parseInt(domUtils.getComputedStyle(q.body,"margin-left"),10)-2*t.tableBorder-(q.options.offsetWidth||0)+"px"}})}),q.addListener("blur",function(){e=null});var l;q.addListener("keydown",function(){clearTimeout(l),l=setTimeout(function(){var e=q.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,["th","td"],!0);if(t){var n=t.parentNode.parentNode.parentNode;n.offsetWidth>n.getAttribute("width")&&(t.style.wordBreak="break-all")}},100)}),q.addListener("selectionchange",function(){f(q,!1,"",null)}),q.addListener("contentchange",function(){var e=this;if(R(e),!Z(e)){var t=e.selection.getRange(),n=t.startContainer;n=domUtils.findParentByTagName(n,["td","th"],!0),utils.each(domUtils.getElementsByTagName(e.document,"table"),function(t){!0!==e.fireEvent("excludetable",t)&&(t.ueTable=new K(t),t.onmouseover=function(){e.fireEvent("tablemouseover",t)},t.onmousemove=function(){e.fireEvent("tablemousemove",t),e.options.tableDragable&&s(!0,this,e),utils.defer(function(){e.fireEvent("contentchange",50)},!0)},t.onmouseout=function(){e.fireEvent("tablemouseout",t),f(e,!1,"",null),R(e)},t.onclick=function(t){t=e.window.event||t;var n=i(t.target||t.srcElement);if(n){var r,o=G(n),a=o.table,s=o.getCellInfo(n),l=e.selection.getRange();if(u(a,n,t,!0)){var c=o.getCell(o.indexTable[o.rowsNum-1][s.colIndex].rowIndex,o.indexTable[o.rowsNum-1][s.colIndex].cellIndex);return void(t.shiftKey&&o.selectedTds.length?o.selectedTds[0]!==c?(r=o.getCellsRange(o.selectedTds[0],c),o.setSelected(r)):l&&l.selectNodeContents(c).select():n!==c?(r=o.getCellsRange(n,c),o.setSelected(r)):l&&l.selectNodeContents(c).select())}if(u(a,n,t)){var d=o.getCell(o.indexTable[s.rowIndex][o.colsNum-1].rowIndex,o.indexTable[s.rowIndex][o.colsNum-1].cellIndex);t.shiftKey&&o.selectedTds.length?o.selectedTds[0]!==d?(r=o.getCellsRange(o.selectedTds[0],d),o.setSelected(r)):l&&l.selectNodeContents(d).select():n!==d?(r=o.getCellsRange(n,d),o.setSelected(r)):l&&l.selectNodeContents(d).select()}}})}),I(e,!0)}}),domUtils.on(q.document,"mousemove",a),domUtils.on(q.document,"mouseout",function(e){"TABLE"==(e.target||e.srcElement).tagName&&f(q,!1,"",null)}),q.addListener("interlacetable",function(e,t,n){if(t)for(var i=this,r=t.rows,o=r.length,a=0;a<o;a++)r[a].className=function(e,t,n){return e[t]?e[t]:n?e[t%e.length]:""}(n||i.options.classList,a,!0)}),q.addListener("uninterlacetable",function(e,t){if(t)for(var n=this,i=t.rows,r=n.options.classList,o=i.length,a=0;a<o;a++)domUtils.removeClasses(i[a],r)}),q.addListener("mousedown",h),q.addListener("mouseup",C),domUtils.on(q.body,"dragstart",function(e){C.call(q,"dragstart",e)}),q.addOutputRule(function(e){utils.each(e.getNodesByTagName("div"),function(e){"ue_tableDragLine"==e.getAttr("id")&&e.parentNode.removeChild(e)})});var c=0;q.addListener("mousedown",function(){c=0}),q.addListener("tabkeydown",function(){var e=this.selection.getRange(),t=e.getCommonAncestor(!0,!0),n=domUtils.findParentByTagName(t,"table");if(n){if(domUtils.findParentByTagName(t,"caption",!0)){var i=domUtils.getElementsByTagName(n,"th td");i&&i.length&&e.setStart(i[0],0).setCursor(!1,!0)}else{var i=domUtils.findParentByTagName(t,["td","th"],!0),o=G(i);c=i.rowSpan>1?c:o.getCellInfo(i).rowIndex;var a=o.getTabNextCell(i,c);a?r(a)?e.setStart(a,0).setCursor(!1,!0):e.selectNodeContents(a).select():(q.fireEvent("saveScene"),q.__hasEnterExecCommand=!0,this.execCommand("insertrownext"),q.__hasEnterExecCommand=!1,e=this.selection.getRange(),e.setStart(n.rows[n.rows.length-1].cells[0],0).setCursor(),q.fireEvent("saveScene"))}return!0}}),browser.ie&&q.addListener("selectionchange",function(){f(this,!1,"",null)}),q.addListener("keydown",function(e,t){var n=this,i=t.keyCode||t.which;if(8!=i&&46!=i){var r=!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey);r&&J(domUtils.getElementsByTagName(n.body,"td"));var o=Z(n);o&&r&&o.clearSelected()}}),q.addListener("beforegetcontent",function(){I(this,!1),browser.ie&&utils.each(this.document.getElementsByTagName("caption"),function(e){domUtils.isEmptyNode(e)&&(e.innerHTML="&nbsp;")})}),q.addListener("aftergetcontent",function(){I(this,!0)}),q.addListener("getAllHtml",function(){J(q.document.getElementsByTagName("td"))}),q.addListener("fullscreenchanged",function(e,t){if(!t){var n=this.body.offsetWidth/document.body.offsetWidth,i=domUtils.getElementsByTagName(this.body,"table");utils.each(i,function(e){if(e.offsetWidth<q.body.offsetWidth)return!1;var t=domUtils.getElementsByTagName(e,"td"),i=[];utils.each(t,function(e){i.push(e.offsetWidth)});for(var r,o=0;r=t[o];o++)r.setAttribute("width",Math.floor(i[o]*n));e.setAttribute("width",Math.floor(D(q,!0,Q(q))))})}});var d=q.execCommand;q.execCommand=function(e,t){var n=this;e=e.toLowerCase();var i,o,a=Z(n),s=new dom.Range(n.document),l=n.commands[e]||UE.commands[e];if(l){if(!a||ue[e]||l.notNeedUndo||n.__hasEnterExecCommand)o=d.apply(n,arguments);else{n.__hasEnterExecCommand=!0,n.fireEvent("beforeexeccommand",e),i=a.selectedTds;for(var u,c,f,p=-2,h=-2,m=0;f=i[m];m++)r(f)?s.setStart(f,0).setCursor(!1,!0):s.selectNode(f).select(!0),c=n.queryCommandState(e),u=n.queryCommandValue(e),-1!=c&&(p===c&&h===u||(n._ignoreContentChange=!0,o=d.apply(n,arguments),n._ignoreContentChange=!1),p=n.queryCommandState(e),h=n.queryCommandValue(e),domUtils.isEmptyBlock(f)&&domUtils.fillNode(n.document,f));s.setStart(i[0],0).shrinkBoundary(!0).setCursor(!1,!0),n.fireEvent("contentchange"),n.fireEvent("afterexeccommand",e),n.__hasEnterExecCommand=!1,n._selectionChange()}return o}}});var ce},UE.UETable.prototype.sortTable=function(e,t){var n=this.table,i=n.rows,r=[],o="TH"===i[0].cells[0].tagName,a=0;if(this.selectedTds.length){for(var s=this.cellsRange,l=s.endRowIndex+1,u=s.beginRowIndex;u<l;u++)r[u]=i[u];r.splice(0,s.beginRowIndex),a=s.endRowIndex+1===this.rowsNum?0:s.endRowIndex+1}else for(var u=0,l=i.length;u<l;u++)r[u]=i[u];var c={reversecurrent:function(e,t){return 1},orderbyasc:function(e,t){var n=e.innerText||e.textContent,i=t.innerText||t.textContent;return n.localeCompare(i)},reversebyasc:function(e,t){var n=e.innerHTML;return t.innerHTML.localeCompare(n)},orderbynum:function(e,t){var n=e[browser.ie?"innerText":"textContent"].match(/\d+/),i=t[browser.ie?"innerText":"textContent"].match(/\d+/);return n&&(n=+n[0]),i&&(i=+i[0]),(n||0)-(i||0)},reversebynum:function(e,t){var n=e[browser.ie?"innerText":"textContent"].match(/\d+/),i=t[browser.ie?"innerText":"textContent"].match(/\d+/);return n&&(n=+n[0]),i&&(i=+i[0]),(i||0)-(n||0)}};n.setAttribute("data-sort-type",t&&"string"==typeof t&&c[t]?t:""),o&&r.splice(0,1),r=utils.sort(r,function(n,i){return t&&"function"==typeof t?t.call(this,n.cells[e],i.cells[e]):t&&"number"==typeof t?1:t&&"string"==typeof t&&c[t]?c[t].call(this,n.cells[e],i.cells[e]):c.orderbyasc.call(this,n.cells[e],i.cells[e])});for(var d=n.ownerDocument.createDocumentFragment(),f=0,l=r.length;f<l;f++)d.appendChild(r[f]);var p=n.getElementsByTagName("tbody")[0];a?p.insertBefore(d,i[a-s.endRowIndex+s.beginRowIndex-1]):p.appendChild(d)},UE.plugins.tablesort=function(){var e=this,t=UE.UETable,n=function(e){return t.getUETable(e)},i=function(e){return t.getTableItemsByRange(e)};e.ready(function(){utils.cssRule("tablesort","table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;   background-image:url("+e.options.themePath+e.options.theme+"/images/sortable.png);}",e.document),e.addListener("afterexeccommand",function(e,t){"mergeright"!=t&&"mergedown"!=t&&"mergecells"!=t||this.execCommand("disablesort")})}),UE.commands.sorttable={queryCommandState:function(){var e=this,t=i(e);if(!t.cell)return-1;for(var n,r=t.table,o=r.getElementsByTagName("td"),a=0;n=o[a++];)if(1!=n.rowSpan||1!=n.colSpan)return-1;return 0},execCommand:function(e,t){var r=this,o=r.selection.getRange(),a=o.createBookmark(!0),s=i(r),l=s.cell,u=n(s.table),c=u.getCellInfo(l);u.sortTable(c.cellIndex,t),o.moveToBookmark(a);try{o.select()}catch(e){}}},UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function(e){var t=i(this).table;if(t&&"enablesort"==e)for(var n=domUtils.getElementsByTagName(t,"th td"),r=0;r<n.length;r++)if(n[r].getAttribute("colspan")>1||n[r].getAttribute("rowspan")>1)return-1;return t?"enablesort"==e^"sortEnabled"!=t.getAttribute("data-sort")?-1:0:-1},execCommand:function(e){var t=i(this).table;t.setAttribute("data-sort","enablesort"==e?"sortEnabled":"sortDisabled"),"enablesort"==e?domUtils.addClass(t,"sortEnabled"):domUtils.removeClasses(t,"sortEnabled")}}},UE.plugins.contextmenu=function(){var e=this;if(e.setOpt("enableContextMenu",!0),!1!==e.getOpt("enableContextMenu")){var t,n=e.getLang("contextMenu"),i=e.options.contextMenu||[{label:n.selectall,cmdName:"selectall"},{label:n.cleardoc,cmdName:"cleardoc",exec:function(){confirm(n.confirmclear)&&this.execCommand("cleardoc")}},"-",{label:n.unlink,cmdName:"unlink"},"-",{group:n.paragraph,icon:"justifyjustify",subMenu:[{label:n.justifyleft,cmdName:"justify",value:"left"},{label:n.justifyright,cmdName:"justify",value:"right"},{label:n.justifycenter,cmdName:"justify",value:"center"},{label:n.justifyjustify,cmdName:"justify",value:"justify"}]},"-",{group:n.table,icon:"table",subMenu:[{label:n.inserttable,cmdName:"inserttable"},{label:n.deletetable,cmdName:"deletetable"},"-",{label:n.deleterow,cmdName:"deleterow"},{label:n.deletecol,cmdName:"deletecol"},{label:n.insertcol,cmdName:"insertcol"},{label:n.insertcolnext,cmdName:"insertcolnext"},{label:n.insertrow,cmdName:"insertrow"},{label:n.insertrownext,cmdName:"insertrownext"},"-",{label:n.insertcaption,cmdName:"insertcaption"},{label:n.deletecaption,cmdName:"deletecaption"},{label:n.inserttitle,cmdName:"inserttitle"},{label:n.deletetitle,cmdName:"deletetitle"},{label:n.inserttitlecol,cmdName:"inserttitlecol"},{label:n.deletetitlecol,cmdName:"deletetitlecol"},"-",{label:n.mergecells,cmdName:"mergecells"},{label:n.mergeright,cmdName:"mergeright"},{label:n.mergedown,cmdName:"mergedown"},"-",{label:n.splittorows,cmdName:"splittorows"},{label:n.splittocols,cmdName:"splittocols"},{label:n.splittocells,cmdName:"splittocells"},"-",{label:n.averageDiseRow,cmdName:"averagedistributerow"},{label:n.averageDisCol,cmdName:"averagedistributecol"},"-",{label:n.edittd,cmdName:"edittd",exec:function(){UE.ui.edittd&&new UE.ui.edittd(this),this.getDialog("edittd").open()}},{label:n.edittable,cmdName:"edittable",exec:function(){UE.ui.edittable&&new UE.ui.edittable(this),this.getDialog("edittable").open()}},{label:n.setbordervisible,cmdName:"setbordervisible"}]},{group:n.tablesort,icon:"tablesort",subMenu:[{label:n.enablesort,cmdName:"enablesort"},{label:n.disablesort,cmdName:"disablesort"},"-",{label:n.reversecurrent,cmdName:"sorttable",value:"reversecurrent"},{label:n.orderbyasc,cmdName:"sorttable",value:"orderbyasc"},{label:n.reversebyasc,cmdName:"sorttable",value:"reversebyasc"},{label:n.orderbynum,cmdName:"sorttable",value:"orderbynum"},{label:n.reversebynum,cmdName:"sorttable",value:"reversebynum"}]},{group:n.borderbk,icon:"borderBack",subMenu:[{label:n.setcolor,cmdName:"interlacetable",exec:function(){this.execCommand("interlacetable")}},{label:n.unsetcolor,cmdName:"uninterlacetable",exec:function(){this.execCommand("uninterlacetable")}},{label:n.setbackground,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#bbb","#ccc"]})}},{label:n.unsetbackground,cmdName:"cleartablebackground",exec:function(){this.execCommand("cleartablebackground")}},{label:n.redandblue,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["red","blue"]})}},{label:n.threecolorgradient,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#aaa","#bbb","#ccc"]})}}]},{group:n.aligntd,icon:"aligntd",subMenu:[{cmdName:"cellalignment",value:{align:"left",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"bottom"}}]},{group:n.aligntable,icon:"aligntable",subMenu:[{cmdName:"tablealignment",className:"left",label:n.tableleft,value:"left"},{cmdName:"tablealignment",className:"center",label:n.tablecenter,value:"center"},{cmdName:"tablealignment",className:"right",label:n.tableright,value:"right"}]},"-",{label:n.insertparagraphbefore,cmdName:"insertparagraph",value:!0},{label:n.insertparagraphafter,cmdName:"insertparagraph"},{label:n.copy,cmdName:"copy"},{label:n.paste,cmdName:"paste"}];if(i.length){var r=UE.ui.uiUtils;e.addListener("contextmenu",function(o,a){var s=r.getViewportOffsetByEvent(a);e.fireEvent("beforeselectionchange"),t&&t.destroy();for(var l,u=0,c=[];l=i[u];u++){var d;!function(t){if("-"==t)(d=c[c.length-1])&&"-"!==d&&c.push("-");else if(t.hasOwnProperty("group")){for(var i,r=0,o=[];i=t.subMenu[r];r++)!function(t){"-"==t?(d=o[o.length-1])&&"-"!==d?o.push("-"):o.splice(o.length-1):(e.commands[t.cmdName]||UE.commands[t.cmdName]||t.query)&&(t.query?t.query():e.queryCommandState(t.cmdName))>-1&&o.push({label:t.label||e.getLang("contextMenu."+t.cmdName+(t.value||""))||"",className:"edui-for-"+t.cmdName+(t.className?" edui-for-"+t.cmdName+"-"+t.className:""),onclick:t.exec?function(){t.exec.call(e)}:function(){e.execCommand(t.cmdName,t.value)}})}(i);if(o.length){c.push({label:function(){switch(t.icon){case"table":return e.getLang("contextMenu.table");case"justifyjustify":return e.getLang("contextMenu.paragraph");case"aligntd":return e.getLang("contextMenu.aligntd");case"aligntable":return e.getLang("contextMenu.aligntable");case"tablesort":return n.tablesort;case"borderBack":return n.borderbk;default:return""}}(),className:"edui-for-"+t.icon,subMenu:{items:o,editor:e}})}}else(e.commands[t.cmdName]||UE.commands[t.cmdName]||t.query)&&(t.query?t.query.call(e):e.queryCommandState(t.cmdName))>-1&&c.push({label:t.label||e.getLang("contextMenu."+t.cmdName),className:"edui-for-"+(t.icon?t.icon:t.cmdName+(t.value||"")),onclick:t.exec?function(){t.exec.call(e)}:function(){e.execCommand(t.cmdName,t.value)}})}(l)}if("-"==c[c.length-1]&&c.pop(),t=new UE.ui.Menu({items:c,className:"edui-contextmenu",editor:e}),t.render(),t.showAt(s),e.fireEvent("aftershowcontextmenu",t),domUtils.preventDefault(a),browser.ie){var f;try{f=e.selection.getNative().createRange()}catch(e){return}if(f.item){new dom.Range(e.document).selectNode(f.item(0)).select(!0,!0)}}}),e.addListener("aftershowcontextmenu",function(t,n){if(e.zeroclipboard){var i=n.items;for(var r in i)"edui-for-copy"==i[r].className&&e.zeroclipboard.clip(i[r].getDom())}})}}},UE.plugins.shortcutmenu=function(){var e,t=this,n=t.options.shortcutMenu||[];n.length&&(t.addListener("contextmenu mouseup",function(t,i){var r=this,o={type:t,target:i.target||i.srcElement,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY};if(setTimeout(function(){!1!==r.selection.getRange().collapsed&&"contextmenu"!=t||(e||(e=new baidu.editor.ui.ShortCutMenu({editor:r,items:n,theme:r.options.theme,className:"edui-shortcutmenu"}),e.render(),r.fireEvent("afterrendershortcutmenu",e)),e.show(o,!!UE.plugins.contextmenu))}),"contextmenu"==t&&(domUtils.preventDefault(i),browser.ie9below)){var a;try{a=r.selection.getNative().createRange()}catch(i){return}if(a.item){new dom.Range(r.document).selectNode(a.item(0)).select(!0,!0)}}}),t.addListener("keydown",function(t){"keydown"==t&&e&&!e.isHidden&&e.hide()}))},UE.plugins.basestyle=function(){var e={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},t=function(e,t){return domUtils.filterNodeList(e.selection.getStartElementPath(),t)},n=this;n.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"}),n.addInputRule(function(e){utils.each(e.getNodesByTagName("b i"),function(e){switch(e.tagName){case"b":e.tagName="strong";break;case"i":e.tagName="em"}})});for(var i in e)!function(e,i){n.commands[e]={execCommand:function(e){var r=n.selection.getRange(),o=t(this,i);if(r.collapsed){if(o){var a=n.document.createTextNode("");r.insertNode(a).removeInlineStyle(i),r.setStartBefore(a),domUtils.remove(a)}else{var s=r.document.createElement(i[0]);"superscript"!=e&&"subscript"!=e||(a=n.document.createTextNode(""),r.insertNode(a).removeInlineStyle(["sub","sup"]).setStartBefore(a).collapse(!0)),r.insertNode(s).setStart(s,0)}r.collapse(!0)}else"superscript"!=e&&"subscript"!=e||o&&o.tagName.toLowerCase()==e||r.removeInlineStyle(["sub","sup"]),o?r.removeInlineStyle(i):r.applyInlineStyle(i[0]);r.select()},queryCommandState:function(){return t(this,i)?1:0}}}(i,e[i])},UE.plugins.elementpath=function(){var e,t,n=this;n.setOpt("elementPathEnabled",!0),n.options.elementPathEnabled&&(n.commands.elementpath={execCommand:function(i,r){var o=t[r],a=n.selection.getRange();e=1*r,a.selectNode(o).select()},queryCommandValue:function(){var n=[].concat(this.selection.getStartElementPath()).reverse(),i=[];t=n;for(var r,o=0;r=n[o];o++)if(3!=r.nodeType){var a=r.tagName.toLowerCase();if("img"==a&&r.getAttribute("anchorname")&&(a="anchor"),i[o]=a,e==o){e=-1;break}}return i}})},UE.plugins.formatmatch=function(){function e(o,a){if(browser.webkit)var s="IMG"==a.target.tagName?a.target:null;n.undoManger&&n.undoManger.save();var l=n.selection.getRange(),u=s||l.getClosedNode();if(t&&u&&"IMG"==u.tagName)u.style.cssText+=";float:"+(t.style.cssFloat||t.style.styleFloat||"none")+";display:"+(t.style.display||"inline"),t=null;else if(!t){var c=l.collapsed;if(c){var d=n.document.createTextNode("match");l.insertNode(d).select()}n.__hasEnterExecCommand=!0;var f=n.options.removeFormatAttributes;n.options.removeFormatAttributes="",n.execCommand("removeformat"),n.options.removeFormatAttributes=f,n.__hasEnterExecCommand=!1,l=n.selection.getRange(),i.length&&function(e){d&&e.selectNode(d),e.applyInlineStyle(i[i.length-1].tagName,null,i)}(l),d&&l.setStartBefore(d).collapse(!0),l.select(),d&&domUtils.remove(d)}n.undoManger&&n.undoManger.save(),n.removeListener("mouseup",e),r=0}var t,n=this,i=[],r=0;n.addListener("reset",function(){i=[],r=0}),n.commands.formatmatch={execCommand:function(o){if(r)return r=0,i=[],void n.removeListener("mouseup",e);var a=n.selection.getRange();if(!(t=a.getClosedNode())||"IMG"!=t.tagName){a.collapse(!0).shrinkBoundary();var s=a.startContainer;i=domUtils.findParents(s,!0,function(e){return!domUtils.isBlockElm(e)&&1==e.nodeType});for(var l,u=0;l=i[u];u++)if("A"==l.tagName){i.splice(u,1);break}}n.addListener("mouseup",e),r=1},queryCommandState:function(){return r},notNeedUndo:1}},UE.plugin.register("searchreplace",function(){function e(e,t,n){var i=t.searchStr;-1==t.dir&&(e=e.split("").reverse().join(""),i=i.split("").reverse().join(""),n=e.length-n);for(var r,o=new RegExp(i,"g"+(t.casesensitive?"":"i"));r=o.exec(e);)if(r.index>=n)return-1==t.dir?e.length-r.index-t.searchStr.length:r.index;return-1}function t(t,n,i){var r,o,s=i.all||1==i.dir?"getNextDomNode":"getPreDomNode";domUtils.isBody(t)&&(t=t.firstChild);for(;t;){if(r=3==t.nodeType?t.nodeValue:t[browser.ie?"innerText":"textContent"],o=e(r,i,n),0,-1!=o)return{node:t,index:o};for(t=domUtils[s](t);t&&a[t.nodeName.toLowerCase()];)t=domUtils[s](t,!0);t&&(n=-1==i.dir?(3==t.nodeType?t.nodeValue:t[browser.ie?"innerText":"textContent"]).length:0)}}function n(e,t,i){for(var r,o=0,a=e.firstChild,s=0;a;){if(3==a.nodeType){if(s=a.nodeValue.replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length,(o+=s)>=t)return{node:a,index:s-(o-t)}}else if(!dtd.$empty[a.tagName]&&(s=a[browser.ie?"innerText":"textContent"].replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length,(o+=s)>=t&&(r=n(a,s-(o-t),i))))return r;a=domUtils.getNextDomNode(a)}}function i(e,i){var o,a=e.selection.getRange(),s=i.searchStr,l=e.document.createElement("span");if(l.innerHTML="$$ueditor_searchreplace_key$$",a.shrinkBoundary(!0),!a.collapsed){a.select();var u=e.selection.getText();if(new RegExp("^"+i.searchStr+"$",i.casesensitive?"":"i").test(u)){if(void 0!=i.replaceStr)return r(a,i.replaceStr),a.select(),!0;a.collapse(-1==i.dir)}}a.insertNode(l),a.enlargeToBlockElm(!0),o=a.startContainer;var c=o[browser.ie?"innerText":"textContent"].indexOf("$$ueditor_searchreplace_key$$");a.setStartBefore(l),domUtils.remove(l);var d=t(o,c,i);if(d){var f=n(d.node,d.index,s),p=n(d.node,d.index+s.length,s);return a.setStart(f.node,f.index).setEnd(p.node,p.index),void 0!==i.replaceStr&&r(a,i.replaceStr),a.select(),!0}a.setCursor()}function r(e,t){t=o.document.createTextNode(t),e.deleteContents().insertNode(t)}var o=this,a={table:1,tbody:1,tr:1,ol:1,ul:1};return{commands:{searchreplace:{execCommand:function(e,t){utils.extend(t,{all:!1,casesensitive:!1,dir:1},!0);var n=0;if(t.all){var r=o.selection.getRange(),a=o.body.firstChild;for(a&&1==a.nodeType?(r.setStart(a,0),r.shrinkBoundary(!0)):3==a.nodeType&&r.setStartBefore(a),r.collapse(!0).select(!0),void 0!==t.replaceStr&&o.fireEvent("saveScene");i(this,t);)n++;n&&o.fireEvent("saveScene")}else void 0!==t.replaceStr&&o.fireEvent("saveScene"),i(this,t)&&n++,n&&o.fireEvent("saveScene");return n},notNeedUndo:1}}}}),UE.plugins.customstyle=function(){var e=this;e.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]}),e.commands.customstyle={execCommand:function(e,t){var n,i,r=this,o=t.tag,a=domUtils.findParent(r.selection.getStart(),function(e){return e.getAttribute("label")},!0),s={};for(var l in t)void 0!==t[l]&&(s[l]=t[l]);if(delete s.tag,a&&a.getAttribute("label")==t.label){if(n=this.selection.getRange(),i=n.createBookmark(),n.collapsed)if(dtd.$block[a.tagName]){var u=r.document.createElement("p");domUtils.moveChild(a,u),a.parentNode.insertBefore(u,a),domUtils.remove(a)}else domUtils.remove(a,!0);else{var c=domUtils.getCommonAncestor(i.start,i.end),d=domUtils.getElementsByTagName(c,o);new RegExp(o,"i").test(c.tagName)&&d.push(c);for(var f,p=0;f=d[p++];)if(f.getAttribute("label")==t.label){var h=domUtils.getPosition(f,i.start),m=domUtils.getPosition(f,i.end);if((h&domUtils.POSITION_FOLLOWING||h&domUtils.POSITION_CONTAINS)&&(m&domUtils.POSITION_PRECEDING||m&domUtils.POSITION_CONTAINS)&&dtd.$block[o]){var u=r.document.createElement("p");domUtils.moveChild(f,u),f.parentNode.insertBefore(u,f)}domUtils.remove(f,!0)}a=domUtils.findParent(c,function(e){return e.getAttribute("label")==t.label},!0),a&&domUtils.remove(a,!0)}n.moveToBookmark(i).select()}else if(dtd.$block[o]){if(this.execCommand("paragraph",o,s,"customstyle"),n=r.selection.getRange(),!n.collapsed){n.collapse(),a=domUtils.findParent(r.selection.getStart(),function(e){return e.getAttribute("label")==t.label},!0);var g=r.document.createElement("p");domUtils.insertAfter(a,g),domUtils.fillNode(r.document,g),n.setStart(g,0).setCursor()}}else{if(n=r.selection.getRange(),n.collapsed)return a=r.document.createElement(o),domUtils.setAttributes(a,s),void n.insertNode(a).setStart(a,0).setCursor();i=n.createBookmark(),n.applyInlineStyle(o,s).moveToBookmark(i).select()}},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return e.getAttribute("label")});return e?e.getAttribute("label"):""}},e.addListener("keyup",function(t,n){var i=n.keyCode||n.which;if(32==i||13==i){var r=e.selection.getRange();if(r.collapsed){var o=domUtils.findParent(e.selection.getStart(),function(e){return e.getAttribute("label")},!0);if(o&&dtd.$block[o.tagName]&&domUtils.isEmptyNode(o)){var a=e.document.createElement("p");domUtils.insertAfter(o,a),domUtils.fillNode(e.document,a),domUtils.remove(o),r.setStart(a,0).setCursor()}}}})},UE.plugins.catchremoteimage=function(){var me=this,ajax=UE.ajax;void 0!==me.options.catchRemoteImageEnable&&(me.setOpt({catchRemoteImageEnable:!1}),me.addListener("afterpaste",function(){me.fireEvent("catchRemoteImage")}),me.addListener("catchRemoteImage",function(){function catchremoteimage(e,t){var n=utils.serializeParam(me.queryCommandValue("serverparam"))||"",i=utils.formatUrl(catcherActionUrl+(-1==catcherActionUrl.indexOf("?")?"?":"&")+n),r=utils.isCrossDomainUrl(i),o={method:"POST",dataType:r?"jsonp":"",timeout:6e4,onsuccess:t.success,onerror:t.error};o[catcherFieldName]=e,ajax.request(i,o)}for(var catcherLocalDomain=me.getOpt("catcherLocalDomain"),catcherActionUrl=me.getActionUrl(me.getOpt("catcherActionName")),catcherUrlPrefix=me.getOpt("catcherUrlPrefix"),catcherFieldName=me.getOpt("catcherFieldName"),remoteImages=[],imgs=domUtils.getElementsByTagName(me.document,"img"),test=function(e,t){if(-1!=e.indexOf(location.host)||/(^\.)|(^\/)/.test(e))return!0;if(t)for(var n,i=0;n=t[i++];)if(-1!==e.indexOf(n))return!0;return!1},i=0,ci;ci=imgs[i++];)if(!ci.getAttribute("word_img")){var src=ci.getAttribute("_src")||ci.src||"";/^(https?|ftp):/i.test(src)&&!test(src,catcherLocalDomain)&&remoteImages.push(src)}remoteImages.length&&catchremoteimage(remoteImages,{success:function success(r){try{var info=void 0!==r.state?r:eval("("+r.responseText+")")}catch(e){return}var i,j,ci,cj,oldSrc,newSrc,list=info.list;for(i=0;ci=imgs[i++];)for(oldSrc=ci.getAttribute("_src")||ci.src||"",j=0;cj=list[j++];)if(oldSrc==cj.source&&"success"==cj.state){newSrc=catcherUrlPrefix+cj.url,domUtils.setAttributes(ci,{src:newSrc,_src:newSrc});break}me.fireEvent("catchremotesuccess")},error:function(){me.fireEvent("catchremoteerror")}})}))},UE.plugin.register("snapscreen",function(){function getLocation(e){var t,n=document.createElement("a"),i=utils.serializeParam(me.queryCommandValue("serverparam"))||"";return n.href=e,browser.ie&&(n.href=n.href),t=n.search,i&&(t=t+(-1==t.indexOf("?")?"?":"&")+i,t=t.replace(/[&]+/gi,"&")),{port:n.port,hostname:n.hostname,path:n.pathname+t||+n.hash}}var me=this,snapplugin;return{commands:{snapscreen:{execCommand:function execCommand(cmd){function onSuccess(rs){try{if(rs=eval("("+rs+")"),"sucess"==rs.state){var opt=me.options;me.execCommand("insertimage",{src:opt.snapscreenUrlPrefix+rs.url,_src:opt.snapscreenUrlPrefix+rs.url,alt:rs.title||"",floatStyle:opt.snapscreenImgAlign})}else alert(rs.state)}catch(e){alert(lang.callBackErrorMsg)}}var url,local,res,lang=me.getLang("snapScreen_plugin");if(!snapplugin){var container=me.container,doc=me.container.ownerDocument||me.container.document;snapplugin=doc.createElement("object");try{snapplugin.type="application/x-pluginbaidusnap"}catch(e){return}snapplugin.style.cssText="position:absolute;left:-9999px;width:0;height:0;",snapplugin.setAttribute("width","0"),snapplugin.setAttribute("height","0"),container.appendChild(snapplugin)}url=me.getActionUrl(me.getOpt("snapscreenActionName")),local=getLocation(url),setTimeout(function(){try{res=snapplugin.saveSnapshot(local.hostname,local.path,local.port)}catch(e){return void me.ui._dialogs.snapscreenDialog.open()}onSuccess(res)},50)},queryCommandState:function(){return-1!=navigator.userAgent.indexOf("Windows",0)?0:-1}}}}}),UE.commands.insertparagraph={execCommand:function(e,t){for(var n,i=this,r=i.selection.getRange(),o=r.startContainer;o&&!domUtils.isBody(o);)n=o,o=o.parentNode;if(n){var a=i.document.createElement("p");t?n.parentNode.insertBefore(a,n):n.parentNode.insertBefore(a,n.nextSibling),domUtils.fillNode(i.document,a),r.setStart(a,0).setCursor(!1,!0)}}},UE.plugin.register("webapp",function(){function e(e,n){return n?'<iframe class="edui-faked-webapp" title="'+e.title+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+'"':"")+'width="'+e.width+'" height="'+e.height+'"  scrolling="no" frameborder="0" src="'+e.url+'" logo_url = "'+e.logo+'"></iframe>':'<img title="'+e.title+'" width="'+e.width+'" height="'+e.height+'" src="'+t.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" _logo_url="'+e.logo+'" style="background:url('+e.logo+') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="'+e.url+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+'"':"")+"/>"}var t=this;return{outputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var n;if("edui-faked-webapp"==t.getAttr("class")){n=e({title:t.getAttr("title"),width:t.getAttr("width"),height:t.getAttr("height"),align:t.getAttr("align"),cssfloat:t.getStyle("float"),url:t.getAttr("_url"),logo:t.getAttr("_logo_url")},!0);var i=UE.uNode.createElement(n);t.parentNode.replaceChild(i,t)}})},inputRule:function(t){utils.each(t.getNodesByTagName("iframe"),function(t){if("edui-faked-webapp"==t.getAttr("class")){var n=UE.uNode.createElement(e({title:t.getAttr("title"),width:t.getAttr("width"),height:t.getAttr("height"),align:t.getAttr("align"),cssfloat:t.getStyle("float"),url:t.getAttr("src"),logo:t.getAttr("logo_url")}));t.parentNode.replaceChild(n,t)}})},commands:{webapp:{execCommand:function(t,n){var i=this,r=e(utils.extend(n,{align:"none"}),!1);i.execCommand("inserthtml",r)},queryCommandState:function(){var e=this,t=e.selection.getRange().getClosedNode();return t&&"edui-faked-webapp"==t.className?1:0}}}}}),UE.plugins.template=function(){UE.commands.template={execCommand:function(e,t){t.html&&this.execCommand("inserthtml",t.html)}},this.addListener("click",function(e,t){var n=t.target||t.srcElement,i=this.selection.getRange(),r=domUtils.findParent(n,function(e){if(e.className&&domUtils.hasClass(e,"ue_t"))return e},!0);r&&i.selectNode(r).shrinkBoundary().select()}),this.addListener("keydown",function(e,t){var n=this.selection.getRange();if(!n.collapsed&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var i=domUtils.findParent(n.startContainer,function(e){if(e.className&&domUtils.hasClass(e,"ue_t"))return e},!0);i&&domUtils.removeClasses(i,["ue_t"])}})},UE.plugin.register("music",function(){function e(e,n,i,r,o,a){return a?'<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+e+'" width="'+n+'" height="'+i+'" '+(r&&!o?'align="'+r+'"':"")+(o?'style="float:'+o+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(r&&!o?'align="'+r+'"':"")+(o?'style="float:'+o+'"':"")+' width="'+n+'" height="'+i+'" _url="'+e+'" class="edui-faked-music" src="'+t.options.langPath+t.options.lang+'/images/music.png" />'}var t=this;return{outputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var n;if("edui-faked-music"==t.getAttr("class")){var i=t.getStyle("float"),r=t.getAttr("align");n=e(t.getAttr("_url"),t.getAttr("width"),t.getAttr("height"),r,i,!0);var o=UE.uNode.createElement(n);t.parentNode.replaceChild(o,t)}})},inputRule:function(t){utils.each(t.getNodesByTagName("embed"),function(t){if("edui-faked-music"==t.getAttr("class")){var n=t.getStyle("float"),i=t.getAttr("align");html=e(t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),i,n,!1);var r=UE.uNode.createElement(html);t.parentNode.replaceChild(r,t)}})},commands:{music:{execCommand:function(t,n){var i=this,r=e(n.url,n.width||400,n.height||95,"none",!1);i.execCommand("inserthtml",r)},queryCommandState:function(){var e=this,t=e.selection.getRange().getClosedNode();return t&&"edui-faked-music"==t.className?1:0}}}}}),UE.plugin.register("autoupload",function(){function e(e,t){var n,i,r,o,a,s,l,u,c=t,d=/image\/\w+/i.test(e.type)?"image":"file",f="loading_"+(+new Date).toString(36);if(n=c.getOpt(d+"FieldName"),i=c.getOpt(d+"UrlPrefix"),r=c.getOpt(d+"MaxSize"),o=c.getOpt(d+"AllowFiles"),a=c.getActionUrl(c.getOpt(d+"ActionName")),l=function(e){var t=c.document.getElementById(f);t&&domUtils.remove(t),c.fireEvent("showmessage",{id:f,content:e,type:"error",timeout:4e3})},"image"==d?(s='<img class="loadingclass" id="'+f+'" src="'+c.options.themePath+c.options.theme+'/images/spacer.gif" title="'+(c.getLang("autoupload.loading")||"")+'" >',u=function(e){var t=i+e.url,n=c.document.getElementById(f);n&&(n.setAttribute("src",t),n.setAttribute("_src",t),n.setAttribute("title",e.title||""),n.setAttribute("alt",e.original||""),n.removeAttribute("id"),domUtils.removeClasses(n,"loadingclass"))}):(s='<p><img class="loadingclass" id="'+f+'" src="'+c.options.themePath+c.options.theme+'/images/spacer.gif" title="'+(c.getLang("autoupload.loading")||"")+'" ></p>',u=function(e){var t=i+e.url,n=c.document.getElementById(f),r=c.selection.getRange(),o=r.createBookmark();r.selectNode(n).select(),c.execCommand("insertfile",{url:t}),r.moveToBookmark(o).select()}),c.execCommand("inserthtml",s),!c.getOpt(d+"ActionName"))return void l(c.getLang("autoupload.errorLoadConfig"));if(e.size>r)return void l(c.getLang("autoupload.exceedSizeError"));var p=e.name?e.name.substr(e.name.lastIndexOf(".")):"";if(p&&"image"!=d||o&&-1==(o.join("")+".").indexOf(p.toLowerCase()+"."))return void l(c.getLang("autoupload.exceedTypeError"));var h=new XMLHttpRequest,m=new FormData,g=utils.serializeParam(c.queryCommandValue("serverparam"))||"",v=utils.formatUrl(a+(-1==a.indexOf("?")?"?":"&")+g);m.append(n,e,e.name||"blob."+e.type.substr("image/".length)),m.append("type","ajax"),h.open("post",v,!0),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.addEventListener("load",function(e){try{var t=new Function("return "+utils.trim(e.target.response))();"success"==t.state&&t.url?u(t):l(t.state)}catch(e){l(c.getLang("autoupload.loadError"))}}),h.send(m)}function t(e){return e.clipboardData&&e.clipboardData.items&&1==e.clipboardData.items.length&&/^image\//.test(e.clipboardData.items[0].type)?e.clipboardData.items:null}function n(e){return e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)}),utils.each(e.getNodesByTagName("p"),function(e){/\bloadpara\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},bindEvents:{ready:function(i){var r=this;window.FormData&&window.FileReader&&(domUtils.on(r.body,"paste drop",function(i){var o,a=!1;if(o="paste"==i.type?t(i):n(i)){for(var s,l=o.length;l--;)s=o[l],s.getAsFile&&(s=s.getAsFile()),s&&s.size>0&&(e(s,r),a=!0);a&&i.preventDefault()}}),domUtils.on(r.body,"dragover",function(e){"Files"==e.dataTransfer.types[0]&&e.preventDefault()}),utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document))}}}}),UE.plugin.register("autosave",function(){function e(e){var o;if(!(new Date-n<i)){if(!e.hasContents())return void(r&&t.removePreferences(r));n=new Date,e._saveFlag=null,o=t.body.innerHTML,!1!==e.fireEvent("beforeautosave",{content:o})&&(t.setPreferences(r,o),e.fireEvent("afterautosave",{content:o}))}}var t=this,n=new Date,i=20,r=null;return{defaultOptions:{saveInterval:500},bindEvents:{ready:function(){var e=null;e=t.key?t.key+"-drafts-data":(t.container.parentNode.id||"ue-common")+"-drafts-data",r=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+e},contentchange:function(){r&&(t._saveFlag&&window.clearTimeout(t._saveFlag),t.options.saveInterval>0?t._saveFlag=window.setTimeout(function(){e(t)},t.options.saveInterval):e(t))}},commands:{clearlocaldata:{execCommand:function(e,n){r&&t.getPreferences(r)&&t.removePreferences(r)},notNeedUndo:!0,ignoreContentChange:!0},getlocaldata:{execCommand:function(e,n){return r?t.getPreferences(r)||"":""},notNeedUndo:!0,ignoreContentChange:!0},drafts:{execCommand:function(e,n){r&&(t.body.innerHTML=t.getPreferences(r)||"<p>"+domUtils.fillHtml+"</p>",t.focus(!0))},queryCommandState:function(){return r?null===t.getPreferences(r)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}}}}),UE.plugin.register("charts",function(){function e(e){var t=null,n=0;if(e.rows.length<2)return!1;if(e.rows[0].cells.length<2)return!1;t=e.rows[0].cells,n=t.length;for(var i,r=0;i=t[r];r++)if("th"!==i.tagName.toLowerCase())return!1;for(var o,r=1;o=e.rows[r];r++){if(o.cells.length!=n)return!1;if("th"!==o.cells[0].tagName.toLowerCase())return!1;for(var i,a=1;i=o.cells[a];a++){var s=utils.trim(i.innerText||i.textContent||"");if(s=s.replace(new RegExp(UE.dom.domUtils.fillChar,"g"),"").replace(/^\s+|\s+$/g,""),!/^\d*\.?\d+$/.test(s))return!1}}return!0}var t=this;return{bindEvents:{chartserror:function(){}},commands:{charts:{execCommand:function(n,i){var r=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0),o=[],a={};if(!r)return!1;if(!e(r))return t.fireEvent("chartserror"),!1;a.title=i.title||"",a.subTitle=i.subTitle||"",a.xTitle=i.xTitle||"",a.yTitle=i.yTitle||"",a.suffix=i.suffix||"",a.tip=i.tip||"",a.dataFormat=i.tableDataFormat||"",a.chartType=i.chartType||0;for(var s in a)a.hasOwnProperty(s)&&o.push(s+":"+a[s]);r.setAttribute("data-chart",o.join(";")),domUtils.addClass(r,"edui-charts-table")},queryCommandState:function(t,n){var i=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0);return i&&e(i)?0:-1}}},inputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style")})},outputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style","display: none;")})}}}),UE.plugin.register("section",function(){function e(e){this.tag="",this.level=-1,this.dom=null,this.nextSection=null,this.previousSection=null,this.parentSection=null,this.startAddress=[],this.endAddress=[],this.children=[]}function t(t){var n=new e;return utils.extend(n,t)}function n(e,t){for(var n=t,i=0;i<e.length;i++){if(!n.childNodes)return null;n=n.childNodes[e[i]]}return n}var i=this;return{bindMultiEvents:{type:"aftersetcontent afterscencerestore",handler:function(){i.fireEvent("updateSections")}},bindEvents:{ready:function(){i.fireEvent("updateSections"),domUtils.on(i.body,"drop paste",function(){i.fireEvent("updateSections")})},afterexeccommand:function(e,t){"paragraph"==t&&i.fireEvent("updateSections")},keyup:function(e,t){var n=this;if(1!=n.selection.getRange().collapsed)n.fireEvent("updateSections");else{var i=t.keyCode||t.which;13!=i&&8!=i&&46!=i||n.fireEvent("updateSections")}}},commands:{getsections:{execCommand:function(e,n){function i(e){for(var t=0;t<o.length;t++)if(o[t](e))return t;return-1}function r(e,n){for(var o,a,l,c=null,d=e.childNodes,f=0,p=d.length;f<p;f++)if(l=d[f],(o=i(l))>=0){var h=s.selection.getRange().selectNode(l).createAddress(!0).startAddress,m=t({tag:l.tagName,title:l.innerText||l.textContent||"",level:o,dom:l,startAddress:utils.clone(h,[]),endAddress:utils.clone(h,[]),children:[]});for(u.nextSection=m,m.previousSection=u,a=u;o<=a.level;)a=a.parentSection;m.parentSection=a,a.children.push(m),c=u=m}else 1===l.nodeType&&r(l,n),c&&c.endAddress[c.endAddress.length-1]++}for(var o=n||["h1","h2","h3","h4","h5","h6"],a=0;a<o.length;a++)"string"==typeof o[a]?o[a]=function(e){return function(t){return t.tagName==e.toUpperCase()}}(o[a]):"function"!=typeof o[a]&&(o[a]=function(e){return null});var s=this,l=t({level:-1,title:"root"}),u=l;return r(s.body,l),l},notNeedUndo:!0},movesection:{execCommand:function(e,t,i,r){var o,a,s=this;if(t&&i&&-1!=i.level&&(o=r?i.endAddress:i.startAddress,a=n(o,s.body),o&&a&&!function(e,t,n){for(var i=!1,r=!1,o=0;o<e.length&&!(o>=n.length);o++){if(n[o]>e[o]){i=!0;break}if(n[o]<e[o])break}for(var o=0;o<t.length&&!(o>=n.length);o++){if(n[o]<e[o]){r=!0;break}if(n[o]>e[o])break}return i&&r}(t.startAddress,t.endAddress,o))){var l,u,c=n(t.startAddress,s.body),d=n(t.endAddress,s.body);if(r)for(l=d;l&&!(domUtils.getPosition(c,l)&domUtils.POSITION_FOLLOWING)&&(u=l.previousSibling,domUtils.insertAfter(a,l),l!=c);)l=u;else for(l=c;l&&!(domUtils.getPosition(l,d)&domUtils.POSITION_FOLLOWING)&&(u=l.nextSibling,a.parentNode.insertBefore(l,a),l!=d);)l=u;s.fireEvent("updateSections")}}},deletesection:{execCommand:function(e,t,n){function i(e){for(var t=r.body,n=0;n<e.length;n++){if(!t.childNodes)return null;t=t.childNodes[e[n]]}return t}var r=this;if(t){var o,a=i(t.startAddress),s=i(t.endAddress),l=a;if(n)domUtils.remove(l);else for(;l&&domUtils.inDoc(s,r.document)&&!(domUtils.getPosition(l,s)&domUtils.POSITION_FOLLOWING);)o=l.nextSibling,domUtils.remove(l),l=o;r.fireEvent("updateSections")}}},selectsection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var n=this,i=n.selection.getRange(),r={startAddress:utils.clone(t.startAddress,[]),endAddress:utils.clone(t.endAddress,[])};return r.endAddress[r.endAddress.length-1]++,i.moveToAddress(r).select().scrollToView(),!0},notNeedUndo:!0},scrolltosection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var n=this,i=n.selection.getRange(),r={startAddress:t.startAddress,endAddress:t.endAddress};return r.endAddress[r.endAddress.length-1]++,i.moveToAddress(r).scrollToView(),!0},notNeedUndo:!0}}}}),UE.plugin.register("simpleupload",function(){function e(){var e=t.offsetWidth||20,r=t.offsetHeight||20,o=document.createElement("iframe"),a="display:block;width:"+e+"px;height:"+r+"px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;";domUtils.on(o,"load",function(){var t,s,l,u=(+new Date).toString(36);s=o.contentDocument||o.contentWindow.document,l=s.body,t=s.createElement("div"),t.innerHTML='<form id="edui_form_'+u+'" target="edui_iframe_'+u+'" method="POST" enctype="multipart/form-data" action="'+n.getOpt("serverUrl")+'" style="'+a+'"><input id="edui_input_'+u+'" type="file" accept="image/*" name="'+n.options.imageFieldName+'" style="'+a+'"></form><iframe id="edui_iframe_'+u+'" name="edui_iframe_'+u+'" style="display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;"></iframe>',t.className="edui-"+n.options.theme,t.id=n.ui.id+"_iframeupload",l.style.cssText=a,l.style.width=e+"px",l.style.height=r+"px",l.appendChild(t),l.parentNode&&(l.parentNode.style.width=e+"px",l.parentNode.style.height=e+"px");var c=s.getElementById("edui_form_"+u),d=s.getElementById("edui_input_"+u),f=s.getElementById("edui_iframe_"+u);domUtils.on(d,"change",function(){function e(e){if(t){var i=n.document.getElementById(t);i&&domUtils.remove(i),n.fireEvent("showmessage",{id:t,content:e,type:"error",timeout:4e3})}}if(d.value){var t="loading_"+(+new Date).toString(36),i=n.getActionUrl(n.getOpt("imageActionName")),r=n.getOpt("imageAllowFiles");if(n.focus(),n.execCommand("inserthtml",'<img class="loadingclass" id="'+t+'" src="'+n.options.themePath+n.options.theme+'/images/spacer.gif" title="'+(n.getLang("simpleupload.loading")||"")+'" >'),!n.getOpt("imageActionName"))return void errorHandler(n.getLang("autoupload.errorLoadConfig"));var o=d.value,a=o?o.substr(o.lastIndexOf(".")):"";if(!a||r&&-1==(r.join("")+".").indexOf(a.toLowerCase()+"."))return void e(n.getLang("simpleupload.exceedTypeError"));var s=utils.serializeParam(n.queryCommandValue("serverparam"))||"",l=utils.formatUrl(i+(-1==i.indexOf("?")?"?":"&")+s),u=new FormData;u.append("upfile",c[0].files[0]),$.ajax({url:l,type:"POST",cache:!1,data:u,processData:!1,contentType:!1,success:function(i){var r,o,a=(f.contentDocument||f.contentWindow.document).body;a.innerText||a.textContent;r=n.options.imageUrlPrefix+i.url,"success"==i.state&&i.url?(o=n.document.getElementById(t),o.setAttribute("src",r),o.setAttribute("_src",r),o.setAttribute("title",i.title||""),o.setAttribute("alt",i.original||""),o.removeAttribute("id"),domUtils.removeClasses(o,"loadingclass")):e&&e(i.state),c.reset()}})}});var p;n.addListener("selectionchange",function(){clearTimeout(p),p=setTimeout(function(){var e=n.queryCommandState("simpleupload");d.disabled=-1==e&&"disabled"},400)}),i=!0}),o.style.cssText=a,t.appendChild(o)}var t,n=this,i=!1;return{bindEvents:{ready:function(){utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document)},simpleuploadbtnready:function(i,r){t=r,n.afterConfigReady(e)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},commands:{simpleupload:{queryCommandState:function(){return i?0:-1}}}}}),UE.plugin.register("serverparam",function(){var e={};return{commands:{serverparam:{execCommand:function(t,n,i){void 0===n||null===n?e={}:utils.isString(n)?void 0===i||null===i?delete e[n]:e[n]=i:utils.isObject(n)?utils.extend(e,n,!0):utils.isFunction(n)&&utils.extend(e,n(),!0)},queryCommandValue:function(){return e||{}}}}}}),UE.plugin.register("insertfile",function(){function e(e){var t=e.substr(e.lastIndexOf(".")+1).toLowerCase(),n={rar:"icon_rar.gif",zip:"icon_rar.gif",tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"};return n[t]?n[t]:n.txt}var t=this;return{commands:{insertfile:{execCommand:function(n,i){i=utils.isArray(i)?i:[i];for(var r,o,a,s,l="",u=t.getOpt("UEDITOR_HOME_URL"),c=u+("/"==u.substr(u.length-1)?"":"/")+"dialogs/attachment/fileTypeImages/",r=0;r<i.length;r++)o=i[r],a=c+e(o.url),s=o.title||o.url.substr(o.url.lastIndexOf("/")+1),l+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+a+'" _src="'+a+'" /><a style="font-size:12px; color:#0066cc;" href="'+o.url+'" title="'+s+'">'+s+"</a></p>";t.execCommand("insertHtml",l)}}}}}),UE.plugins.xssFilter=function(){function e(e){var t=e.tagName,i=e.attrs;if(!n.hasOwnProperty(t))return e.parentNode.removeChild(e),!1;UE.utils.each(i,function(i,r){-1===n[t].indexOf(r)&&e.setAttr(r)})}var t=UEDITOR_CONFIG,n=t.whitList;n&&t.xssFilterRules&&(this.options.filterRules=function(){var t={};return UE.utils.each(n,function(n,i){t[i]=function(t){return e(t)}}),t}());var i=[];UE.utils.each(n,function(e,t){i.push(t)}),n&&t.inputXssFilter&&this.addInputRule(function(t){t.traversal(function(t){if("element"!==t.type)return!1;e(t)})}),n&&t.outputXssFilter&&this.addOutputRule(function(t){t.traversal(function(t){if("element"!==t.type)return!1;e(t)})})};var baidu=baidu||{};baidu.editor=baidu.editor||{},UE.ui=baidu.editor.ui={},function(){function e(){var e=document.getElementById("edui_fixedlayer");a.setViewportOffset(e,{left:0,top:0})}function t(t){i.on(window,"scroll",e),i.on(window,"resize",baidu.editor.utils.defer(e,0,!0))}var n=baidu.editor.browser,i=baidu.editor.dom.domUtils,r=window.$EDITORUI={},o=0,a=baidu.editor.ui.uiUtils={uid:function(e){return e?e.ID$EDITORUI||(e.ID$EDITORUI=++o):++o},hook:function(e,t){var n;return e&&e._callbacks?n=e:(n=function(){var t;e&&(t=e.apply(this,arguments));for(var i=n._callbacks,r=i.length;r--;){var o=i[r].apply(this,arguments);void 0===t&&(t=o)}return t},n._callbacks=[]),n._callbacks.push(t),n},createElementByHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,t=t.firstChild,t.parentNode.removeChild(t),t},getViewportElement:function(){return n.ie&&n.quirks?document.body:document.documentElement},getClientRect:function(e){var t;try{t=e.getBoundingClientRect()}catch(e){t={left:0,top:0,height:0,width:0}}for(var n,r={left:Math.round(t.left),top:Math.round(t.top),height:Math.round(t.bottom-t.top),width:Math.round(t.right-t.left)};(n=e.ownerDocument)!==document&&(e=i.getWindow(n).frameElement);)t=e.getBoundingClientRect(),r.left+=t.left,r.top+=t.top;return r.bottom=r.top+r.height,r.right=r.left+r.width,r},getViewportRect:function(){var e=a.getViewportElement(),t=0|(window.innerWidth||e.clientWidth),n=0|(window.innerHeight||e.clientHeight);return{left:0,top:0,height:n,width:t,bottom:n,right:t}},setViewportOffset:function(e,t){var n=a.getFixedLayer();e.parentNode===n?(e.style.left=t.left+"px",e.style.top=t.top+"px"):i.setViewportOffset(e,t)},getEventOffset:function(e){var t=e.target||e.srcElement,n=a.getClientRect(t),i=a.getViewportOffsetByEvent(e);return{left:i.left-n.left,top:i.top-n.top}},getViewportOffsetByEvent:function(e){var t=e.target||e.srcElement,n=i.getWindow(t).frameElement,r={left:e.clientX,top:e.clientY};if(n&&t.ownerDocument!==document){var o=a.getClientRect(n);r.left+=o.left,r.top+=o.top}return r},setGlobal:function(e,t){return r[e]=t,'$EDITORUI["'+e+'"]'},unsetGlobal:function(e){delete r[e]},copyAttributes:function(e,t){for(var r=t.attributes,o=r.length;o--;){var a=r[o];"style"==a.nodeName||"class"==a.nodeName||n.ie&&!a.specified||e.setAttribute(a.nodeName,a.nodeValue)}t.className&&i.addClass(e,t.className),t.style.cssText&&(e.style.cssText+=";"+t.style.cssText)},removeStyle:function(e,t){if(e.style.removeProperty)e.style.removeProperty(t);else{if(!e.style.removeAttribute)throw"";e.style.removeAttribute(t)}},contains:function(e,t){return e&&t&&e!==t&&(e.contains?e.contains(t):16&e.compareDocumentPosition(t))},startDrag:function(e,t,n){function i(e){var n=e.clientX-r,i=e.clientY-o;t.ondragmove(n,i,e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}var n=n||document,r=e.clientX,o=e.clientY;if(n.addEventListener){var a=function e(r){n.removeEventListener("mousemove",i,!0),n.removeEventListener("mouseup",e,!0),window.removeEventListener("mouseup",e,!0),t.ondragstop()};n.addEventListener("mousemove",i,!0),n.addEventListener("mouseup",a,!0),window.addEventListener("mouseup",a,!0),e.preventDefault()}else{var s=function e(){l.releaseCapture(),l.detachEvent("onmousemove",i),l.detachEvent("onmouseup",e),l.detachEvent("onlosecaptrue",e),t.ondragstop()},l=e.srcElement;l.setCapture(),l.attachEvent("onmousemove",i),l.attachEvent("onmouseup",s),l.attachEvent("onlosecaptrue",s),e.returnValue=!1}t.ondragstart()},getFixedLayer:function(){var i=document.getElementById("edui_fixedlayer");return null==i&&(i=document.createElement("div"),i.id="edui_fixedlayer",document.body.appendChild(i),n.ie&&n.version<=8?(i.style.position="absolute",t(),setTimeout(e)):i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.width="0",i.style.height="0"),i},makeUnselectable:function(e){if(n.opera||n.ie&&n.version<9){if(e.unselectable="on",e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++)1==e.childNodes[t].nodeType&&a.makeUnselectable(e.childNodes[t])}else void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":void 0!==e.style.WebkitUserSelect?e.style.WebkitUserSelect="none":void 0!==e.style.KhtmlUserSelect&&(e.style.KhtmlUserSelect="none")}}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.EventBase,i=baidu.editor.ui.UIBase=function(){};i.prototype={className:"",uiName:"",initOptions:function(e){var n=this;for(var i in e)n[i]=e[i];this.id=this.id||"edui"+t.uid()},initUIBase:function(){this._globalKey=e.unhtml(t.setGlobal(this.id,this))},render:function(e){for(var n,i=this.renderHtml(),r=t.createElementByHtml(i),o=domUtils.getElementsByTagName(r,"*"),a="edui-"+(this.theme||this.editor.options.theme),s=document.getElementById("edui_fixedlayer"),l=0;n=o[l++];)domUtils.addClass(n,a);domUtils.addClass(r,a),s&&(s.className="",domUtils.addClass(s,a));var u=this.getDom();null!=u?(u.parentNode.replaceChild(r,u),t.copyAttributes(r,u)):("string"==typeof e&&(e=document.getElementById(e)),e=e||t.getFixedLayer(),domUtils.addClass(e,a),e.appendChild(r)),this.postRender()},getDom:function(e){return e?document.getElementById(this.id+"_"+e):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(e){var t="edui-"+this.uiName;return e.replace(/##/g,this.id).replace(/%%-/g,this.uiName?t+"-":"").replace(/%%/g,(this.uiName?t:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var e=this.getDom();e&&baidu.editor.dom.domUtils.remove(e),t.unsetGlobal(this.id)}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.Separator=function(e){this.initOptions(e),this.initSeparator()};n.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"></div>'}},e.inherits(n,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.uiUtils,r=baidu.editor.ui.Mask=function(e){this.initOptions(e),this.initUIBase()};r.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onclick="return $$._onClick(event, this);" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function(){var e=this;t.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e._fill()})})},show:function(e){this._fill(),this.getDom().style.display="",this.getDom().style.zIndex=e},hide:function(){this.getDom().style.display="none",this.getDom().style.zIndex=""},isHidden:function(){return"none"==this.getDom().style.display},_onMouseDown:function(){return!1},_onClick:function(e,t){this.fireEvent("click",e,t)},_fill:function(){var e=this.getDom(),t=i.getViewportRect();e.style.width=t.width+"px",e.style.height=t.height+"px"}},e.inherits(r,n)}(),function(){function e(e,t){for(var n=0;n<a.length;n++){var i=a[n];if(!i.isHidden()&&!1!==i.queryAutoHide(t)){if(e&&/scroll/gi.test(e.type)&&"edui-wordpastepop"==i.className)return;i.hide()}}a.length&&i.editor.fireEvent("afterhidepop")}var t=baidu.editor.utils,n=baidu.editor.ui.uiUtils,i=baidu.editor.dom.domUtils,r=baidu.editor.ui.UIBase,o=baidu.editor.ui.Popup=function(e){this.initOptions(e),this.initPopup()},a=[];o.postHide=e;var s=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];o.prototype={SHADOW_RADIUS:5,content:null,_hidden:!1,autoRender:!0,canSideLeft:!0,canSideUp:!0,initPopup:function(){this.initUIBase(),a.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%" onmousedown="return false;"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">'+this.getContentHtmlTpl()+"  </div> </div></div>"},getContentHtmlTpl:function(){return this.content?"string"==typeof this.content?this.content:this.content.renderHtml():""},_UIBase_postRender:r.prototype.postRender,postRender:function(){if(this.content instanceof r&&this.content.postRender(),this.captureWheel&&!this.captured){this.captured=!0;var e=(document.documentElement.clientHeight||document.body.clientHeight)-80,t=this.getDom().offsetHeight,o=n.getClientRect(this.combox.getDom()).top,a=this.getDom("content"),s=this.getDom("body").getElementsByTagName("iframe"),l=this;for(s.length&&(s=s[0]);o+t>e;)t-=30;a.style.height=t+"px",s&&(s.style.height=t+"px"),window.XMLHttpRequest?i.on(a,"onmousewheel"in document.body?"mousewheel":"DOMMouseScroll",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.wheelDelta?a.scrollTop-=e.wheelDelta/120*60:a.scrollTop-=e.detail/-3*60}):i.on(this.getDom(),"mousewheel",function(e){e.returnValue=!1,l.getDom("content").scrollTop-=e.wheelDelta/120*60})}this.fireEvent("postRenderAfter"),this.hide(!0),this._UIBase_postRender()},_doAutoRender:function(){!this.getDom()&&this.autoRender&&this.render()},mesureSize:function(){var e=this.getDom("content");return n.getClientRect(e)},fitSize:function(){if(this.captureWheel&&this.sized)return this.__size;this.sized=!0;var e=this.getDom("body");e.style.width="",e.style.height="";var t=this.mesureSize();if(this.captureWheel){e.style.width=-(-20-t.width)+"px";var n=parseInt(this.getDom("content").style.height,10);!window.isNaN(n)&&(t.height=n)}else e.style.width=t.width+"px";return e.style.height=t.height+"px",this.__size=t,this.captureWheel&&(this.getDom("content").style.overflow="auto"),t},showAnchor:function(e,t){this.showAnchorRect(n.getClientRect(e),t)},showAnchorRect:function(e,t,r){this._doAutoRender();var o=n.getViewportRect();this.getDom().style.visibility="hidden",this._show();var a,l,u,c,d=this.fitSize();t?(a=this.canSideLeft&&e.right+d.width>o.right&&e.left>d.width,l=this.canSideUp&&e.top+d.height>o.bottom&&e.bottom>d.height,u=a?e.left-d.width:e.right,c=l?e.bottom-d.height:e.top):(a=this.canSideLeft&&e.right+d.width>o.right&&e.left>d.width,l=this.canSideUp&&e.top+d.height>o.bottom&&e.bottom>d.height,u=a?e.right-d.width:e.left,c=l?e.top-d.height:e.bottom);var f=this.getDom();n.setViewportOffset(f,{left:u,top:c}),i.removeClasses(f,s),f.className+=" "+s[2*(l?1:0)+(a?1:0)],this.editor&&(f.style.zIndex=1*this.editor.container.style.zIndex+10,baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=f.style.zIndex-1),this.getDom().style.visibility="visible"},showAt:function(e){var t=e.left,n=e.top,i={left:t,top:n,right:t,bottom:n,height:0,width:0};this.showAnchorRect(i,!1,!0)},_show:function(){if(this._hidden){this.getDom().style.display="",this._hidden=!1,this.fireEvent("show")}},isHidden:function(){return this._hidden},show:function(){this._doAutoRender(),this._show()},hide:function(e){!this._hidden&&this.getDom()&&(this.getDom().style.display="none",this._hidden=!0,e||this.fireEvent("hide"))},queryAutoHide:function(e){return!e||!n.contains(this.getDom(),e)}},t.inherits(o,r),i.on(document,"mousedown",function(t){e(t,t.target||t.srcElement)}),i.on(window,"scroll",function(t,n){e(t,n)})}(),function(){function e(e,t){for(var n='<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">'+e+'</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">'+t.getLang("themeColor")+'</td> </tr><tr class="edui-colorpicker-tablefirstrow" >',i=0;i<r.length;i++)i&&i%10==0&&(n+="</tr>"+(60==i?'<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">'+t.getLang("standardColor")+"</td></tr>":"")+"<tr"+(60==i?' class="edui-colorpicker-tablefirstrow"':"")+">"),n+=i<70?'<td style="padding: 0 2px;"><a hidefocus title="'+r[i]+'" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#'+r[i]+'" style="background-color:#'+r[i]+";border:solid #ccc;"+(i<10||i>=60?"border-width:1px;":i>=10&&i<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':"";return n+="</tr></table></div>"}var t=baidu.editor.utils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.ColorPicker=function(e){this.initOptions(e),this.noColorText=this.noColorText||this.editor.getLang("clearColor"),this.initUIBase()};i.prototype={getHtmlTpl:function(){return e(this.noColorText,this.editor)},_onTableClick:function(e){var t=e.target||e.srcElement,n=t.getAttribute("data-color");n&&this.fireEvent("pickcolor",n)},_onTableOver:function(e){var t=e.target||e.srcElement,n=t.getAttribute("data-color");n&&(this.getDom("preview").style.backgroundColor=n)},_onTableOut:function(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function(){this.fireEvent("picknocolor")}},t.inherits(i,n);var r="ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(",")}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.TablePicker=function(e){this.initOptions(e),this.initTablePicker()};i.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'},_UIBase_render:n.prototype.render,render:function(e){this._UIBase_render(e),this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function(e,t){var n=this.getDom("overlay").style,i=this.lengthOfCellSide;n.width=e*i+"px",n.height=t*i+"px",this.getDom("label").innerHTML=e+this.editor.getLang("t_col")+" x "+t+this.editor.getLang("t_row"),this.numCols=e,this.numRows=t},_onMouseOver:function(e,n){var i=e.relatedTarget||e.fromElement;t.contains(n,i)||n===i||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="")},_onMouseOut:function(e,n){var i=e.relatedTarget||e.toElement;t.contains(n,i)||n===i||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="hidden")},_onMouseMove:function(e,n){var i=(this.getDom("overlay").style,t.getEventOffset(e)),r=this.lengthOfCellSide,o=Math.ceil(i.left/r),a=Math.ceil(i.top/r);this._track(o,a)},_onClick:function(){this.fireEvent("picktable",this.numCols,this.numRows)}},e.inherits(i,n)}(),function(){var e=baidu.editor.browser,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.uiUtils,i='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(e.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');baidu.editor.ui.Stateful={alwalysHoverable:!1,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl,this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){return this._Stateful_dGetHtmlTpl().replace(/stateful/g,function(){return i})},Stateful_onMouseEnter:function(e,t){this.target=t,this.isDisabled()&&!this.alwalysHoverable||(this.addState("hover"),this.fireEvent("over"))},Stateful_onMouseLeave:function(e,t){this.isDisabled()&&!this.alwalysHoverable||(this.removeState("hover"),this.removeState("active"),this.fireEvent("out"))},Stateful_onMouseOver:function(e,t){var i=e.relatedTarget;n.contains(t,i)||t===i||this.Stateful_onMouseEnter(e,t)},Stateful_onMouseOut:function(e,t){var i=e.relatedTarget;n.contains(t,i)||t===i||this.Stateful_onMouseLeave(e,t)},Stateful_onMouseDown:function(e,t){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(e,t){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&this.addState("disabled")},hasState:function(e){return t.hasClass(this.getStateDom(),"edui-state-"+e)},addState:function(e){this.hasState(e)||(this.getStateDom().className+=" edui-state-"+e)},removeState:function(e){this.hasState(e)&&t.removeClasses(this.getStateDom(),["edui-state-"+e])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(e){!this.isDisabled()&&e?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(e){e?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.Stateful,i=baidu.editor.ui.Button=function(e){if(e.name){var t=e.name,n=e.cssRules;e.className||(e.className="edui-for-"+t),e.cssRules=".edui-default  .edui-for-"+t+" .edui-icon {"+n+"}"}this.initOptions(e),this.initButton()};i.prototype={uiName:"button",label:"",title:"",showIcon:!0,showText:!0,cssRules:"",initButton:function(){this.initUIBase(),this.Stateful_init(),this.cssRules&&e.cssRule("edui-customize-"+this.name+"-style",this.cssRules)},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return $$._onMouseDown(event, this);" onclick="return $$._onClick(event, this);">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div></div></div></div>"},postRender:function(){this.Stateful_postRender(),this.setDisabled(this.disabled)},_onMouseDown:function(e){var t=e.target||e.srcElement,n=t&&t.tagName&&t.tagName.toLowerCase();if("input"==n||"object"==n||"object"==n)return!1},_onClick:function(){this.isDisabled()||this.fireEvent("click")},setTitle:function(e){this.getDom("label").innerHTML=e}},e.inherits(i,t),e.extend(i.prototype,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=(baidu.editor.dom.domUtils,baidu.editor.ui.UIBase),i=baidu.editor.ui.Stateful,r=baidu.editor.ui.SplitButton=function(e){this.initOptions(e),this.initSplitButton()};r.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){this.initUIBase(),this.Stateful_init();if(null!=this.popup){var e=this.popup;this.popup=null,this.setPopup(e)}},_UIBase_postRender:n.prototype.postRender,postRender:function(){this.Stateful_postRender(),this._UIBase_postRender()},setPopup:function(n){this.popup!==n&&(null!=this.popup&&this.popup.dispose(),n.addListener("show",e.bind(this._onPopupShow,this)),n.addListener("hide",e.bind(this._onPopupHide,this)),n.addListener("postrender",e.bind(function(){n.getDom("body").appendChild(t.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(t.getClientRect(this.getDom()).width+20)+'px"></div>')),n.getDom().className+=" "+this.className},this)),this.popup=n)},_onPopupShow:function(){this.addState("opened")},_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'},showPopup:function(){var e=t.getClientRect(this.getDom());e.top-=this.popup.SHADOW_RADIUS,e.height+=this.popup.SHADOW_RADIUS,this.popup.showAnchorRect(e)},_onArrowClick:function(e,t){this.isDisabled()||this.showPopup()},_onButtonClick:function(){this.isDisabled()||this.fireEvent("buttonclick")}},e.inherits(r,n),e.extend(r.prototype,i,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.ColorPicker,i=baidu.editor.ui.Popup,r=baidu.editor.ui.SplitButton,o=baidu.editor.ui.ColorButton=function(e){this.initOptions(e),this.initColorButton()};o.prototype={initColorButton:function(){var e=this;this.popup=new i({content:new n({noColorText:e.editor.getLang("clearColor"),editor:e.editor,onpickcolor:function(t,n){e._onPickColor(n)},onpicknocolor:function(t,n){e._onPickNoColor(n)}}),editor:e.editor}),this.initSplitButton()},_SplitButton_postRender:r.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.getDom("button_body").appendChild(t.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"></div>')),this.getDom().className+=" edui-colorbutton"},setColor:function(e){this.getDom("colorlump").style.backgroundColor=e,this.color=e},_onPickColor:function(e){!1!==this.fireEvent("pickcolor",e)&&(this.setColor(e),this.popup.hide())},_onPickNoColor:function(e){!1!==this.fireEvent("picknocolor")&&this.popup.hide()}},e.inherits(o,r)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,n=baidu.editor.ui.TablePicker,i=baidu.editor.ui.SplitButton,r=baidu.editor.ui.TableButton=function(e){this.initOptions(e),this.initTableButton()};r.prototype={initTableButton:function(){var e=this;this.popup=new t({content:new n({editor:e.editor,onpicktable:function(t,n,i){e._onPickTable(n,i)}}),editor:e.editor}),this.initSplitButton()},_onPickTable:function(e,t){!1!==this.fireEvent("picktable",e,t)&&this.popup.hide()}},e.inherits(r,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.AutoTypeSetPicker=function(e){this.initOptions(e),this.initAutoTypeSetPicker()};n.prototype={initAutoTypeSetPicker:function(){this.initUIBase()},getHtmlTpl:function(){var e=this.editor,t=e.options.autotypeset,n=e.getLang("autoTypeSet"),i="textAlignValue"+e.uid,r="imageBlockLineValue"+e.uid,o="symbolConverValue"+e.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap><input type="checkbox" name="mergeEmptyline" '+(t.mergeEmptyline?"checked":"")+">"+n.mergeLine+'</td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(t.removeEmptyline?"checked":"")+">"+n.delLine+'</td></tr><tr><td nowrap><input type="checkbox" name="removeClass" '+(t.removeClass?"checked":"")+">"+n.removeFormat+'</td><td colspan="2"><input type="checkbox" name="indent" '+(t.indent?"checked":"")+">"+n.indent+'</td></tr><tr><td nowrap><input type="checkbox" name="textAlign" '+(t.textAlign?"checked":"")+">"+n.alignment+'</td><td colspan="2" id="'+i+'"><input type="radio" name="'+i+'" value="left" '+(t.textAlign&&"left"==t.textAlign?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+i+'" value="center" '+(t.textAlign&&"center"==t.textAlign?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+i+'" value="right" '+(t.textAlign&&"right"==t.textAlign?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="imageBlockLine" '+(t.imageBlockLine?"checked":"")+">"+n.imageFloat+'</td><td nowrap id="'+r+'"><input type="radio" name="'+r+'" value="none" '+(t.imageBlockLine&&"none"==t.imageBlockLine?"checked":"")+">"+e.getLang("default")+'<input type="radio" name="'+r+'" value="left" '+(t.imageBlockLine&&"left"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+r+'" value="center" '+(t.imageBlockLine&&"center"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+r+'" value="right" '+(t.imageBlockLine&&"right"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="clearFontSize" '+(t.clearFontSize?"checked":"")+">"+n.removeFontsize+'</td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(t.clearFontFamily?"checked":"")+">"+n.removeFontFamily+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="removeEmptyNode" '+(t.removeEmptyNode?"checked":"")+">"+n.removeHtml+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="pasteFilter" '+(t.pasteFilter?"checked":"")+">"+n.pasteFilter+'</td></tr><tr><td nowrap><input type="checkbox" name="symbolConver" '+(t.bdc2sb||t.tobdc?"checked":"")+">"+n.symbol+'</td><td id="'+o+'"><input type="radio" name="bdc" value="bdc2sb" '+(t.bdc2sb?"checked":"")+">"+n.bdc2sb+'<input type="radio" name="bdc" value="tobdc" '+(t.tobdc?"checked":"")+">"+n.tobdc+'</td><td nowrap align="right"><button >'+n.run+"</button></td></tr></table></div></div>"},_UIBase_render:t.prototype.render},e.inherits(n,t)}(),function(){function e(e){for(var n,i={},r=e.getDom(),o=e.editor.uid,a=null,s=domUtils.getElementsByTagName(r,"input"),l=s.length-1;n=s[l--];)if("checkbox"==n.getAttribute("type"))if(a=n.getAttribute("name"),i[a]&&delete i[a],n.checked){var u=document.getElementById(a+"Value"+o);if(u){if(/input/gi.test(u.tagName))i[a]=u.value;else for(var c,d=u.getElementsByTagName("input"),f=d.length-1;c=d[f--];)if(c.checked){i[a]=c.value;break}}else i[a]=!0}else i[a]=!1;else i[n.getAttribute("value")]=n.checked;for(var p,h=domUtils.getElementsByTagName(r,"select"),l=0;p=h[l++];){var m=p.getAttribute("name");i[m]=i[m]?p.value:""}t.extend(e.editor.options.autotypeset,i),e.editor.setPreferences("autotypeset",i)}var t=baidu.editor.utils,n=baidu.editor.ui.Popup,i=baidu.editor.ui.AutoTypeSetPicker,r=baidu.editor.ui.SplitButton,o=baidu.editor.ui.AutoTypeSetButton=function(e){this.initOptions(e),this.initAutoTypeSetButton()};o.prototype={initAutoTypeSetButton:function(){var t=this;this.popup=new n({content:new i({editor:t.editor}),editor:t.editor,hide:function(){!this._hidden&&this.getDom()&&(e(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});var r=0;this.popup.addListener("postRenderAfter",function(){var n=this;if(!r){var i=this.getDom();i.getElementsByTagName("button")[0].onclick=function(){e(n),t.editor.execCommand("autotypeset"),n.hide()},domUtils.on(i,"click",function(i){var r=i.target||i.srcElement,o=t.editor.uid;if(r&&"INPUT"==r.tagName){if("imageBlockLine"==r.name||"textAlign"==r.name||"symbolConver"==r.name)for(var a=r.checked,s=document.getElementById(r.name+"Value"+o),l=s.getElementsByTagName("input"),u={imageBlockLine:"none",textAlign:"left",symbolConver:"tobdc"},c=0;c<l.length;c++)a?l[c].value==u[r.name]&&(l[c].checked="checked"):l[c].checked=!1;if(r.name=="imageBlockLineValue"+o||r.name=="textAlignValue"+o||"bdc"==r.name){var d=r.parentNode.previousSibling.getElementsByTagName("input");d&&(d[0].checked=!0)}e(n)}}),r=1}}),this.initSplitButton()}},t.inherits(o,r)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,n=baidu.editor.ui.Stateful,i=baidu.editor.ui.UIBase,r=baidu.editor.ui.CellAlignPicker=function(e){this.initOptions(e),this.initSelected(),this.initCellAlignPicker()};r.prototype={initSelected:function(){var e={valign:{top:0,middle:1,bottom:2},align:{left:0,center:1,right:2},count:3};this.selected&&(this.selectedIndex=e.valign[this.selected.valign]*e.count+e.align[this.selected.align])},initCellAlignPicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){for(var e=["left","center","right"],t=null,n=-1,i=[],r=0;r<9;r++)t=this.selectedIndex===r?' class="edui-cellalign-selected" ':"",n=r%3,0===n&&i.push("<tr>"),i.push('<td index="'+r+'" '+t+' stateful><div class="edui-icon edui-'+e[n]+'"></div></td>'),2===n&&i.push("</tr>");return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+i.join("")+"</table></div></div>"},getStateDom:function(){return this.target},_onClick:function(e){var n=e.target||e.srcElement;/icon/.test(n.className)&&(this.items[n.parentNode.getAttribute("index")].onclick(),t.postHide(e))},_UIBase_render:i.prototype.render},e.inherits(r,i),e.extend(r.prototype,n,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Stateful,n=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,r=baidu.editor.ui.PastePicker=function(e){this.initOptions(e),this.initPastePicker()};r.prototype={initPastePicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">'+this.editor.getLang("pasteOpt")+'</div><div class="edui-button"><div title="'+this.editor.getLang("pasteSourceFormat")+'" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="'+this.editor.getLang("tagFormat")+'" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="'+this.editor.getLang("pasteTextFormat")+'" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'},getStateDom:function(){return this.target},format:function(e){this.editor.ui._isTransfer=!0,this.editor.fireEvent("pasteTransfer",e)},_onClick:function(e){var t=domUtils.getNextDomNode(e),i=n.getViewportRect().height,r=n.getClientRect(t);r.top+r.height>i?t.style.top=-r.height-e.offsetHeight+"px":t.style.top="",/hidden/gi.test(domUtils.getComputedStyle(t,"visibility"))?(t.style.visibility="visible",domUtils.addClass(e,"edui-state-opened")):(t.style.visibility="hidden",domUtils.removeClasses(e,"edui-state-opened"))},_UIBase_render:i.prototype.render},e.inherits(r,i),e.extend(r.prototype,t,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.Toolbar=function(e){this.initOptions(e),this.initToolbar()};i.prototype={items:null,initToolbar:function(){this.items=this.items||[],this.initUIBase()},add:function(e,t){void 0===t?this.items.push(e):this.items.splice(t,0,e)},getHtmlTpl:function(){for(var e=[],t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+e.join("")+"</div>"},postRender:function(){for(var e=this.getDom(),n=0;n<this.items.length;n++)this.items[n].postRender();t.makeUnselectable(e)},_onMouseDown:function(e){var t=e.target||e.srcElement,n=t&&t.tagName&&t.tagName.toLowerCase();if("input"==n||"object"==n||"object"==n)return!1}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,r=baidu.editor.ui.Popup,o=baidu.editor.ui.Stateful,a=baidu.editor.ui.CellAlignPicker,s=baidu.editor.ui.Menu=function(e){this.initOptions(e),this.initMenu()},l={renderHtml:function(){return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'},postRender:function(){},queryAutoHide:function(){return!0}};s.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[],this.initPopup(),this.initItems()},initItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];"-"==t?this.items[e]=this.getSeparator():t instanceof u||(t.editor=this.editor,t.theme=this.editor.options.theme,this.items[e]=this.createItem(t))}},getSeparator:function(){return l},createItem:function(e){return e.menu=this,new u(e)},_Popup_getContentHtmlTpl:r.prototype.getContentHtmlTpl,getContentHtmlTpl:function(){if(0==this.items.length)return this._Popup_getContentHtmlTpl();for(var e=[],t=0;t<this.items.length;t++){var n=this.items[t];e[t]=n.renderHtml()}return'<div class="%%-body">'+e.join("")+"</div>"},_Popup_postRender:r.prototype.postRender,postRender:function(){for(var e=this,i=0;i<this.items.length;i++){var r=this.items[i];r.ownerMenu=this,r.postRender()}t.on(this.getDom(),"mouseover",function(t){t=t||event;var i=t.relatedTarget||t.fromElement,r=e.getDom();n.contains(r,i)||r===i||e.fireEvent("over")}),this._Popup_postRender()},queryAutoHide:function(e){if(e){if(n.contains(this.getDom(),e))return!1;for(var t=0;t<this.items.length;t++){if(!1===this.items[t].queryAutoHide(e))return!1}}},clearItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];clearTimeout(t._showingTimer),clearTimeout(t._closingTimer),t.subMenu&&t.subMenu.destroy()}this.items=[]},destroy:function(){this.getDom()&&t.remove(this.getDom()),this.clearItems()},dispose:function(){this.destroy()}},e.inherits(s,r);var u=baidu.editor.ui.MenuItem=function(e){if(this.initOptions(e),this.initUIBase(),this.Stateful_init(),this.subMenu&&!(this.subMenu instanceof s))if(e.className&&-1!=e.className.indexOf("aligntd")){var n=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment"),this.subMenu=new r({content:new a(this.subMenu),parentMenu:n,editor:n.editor,destroy:function(){this.getDom()&&t.remove(this.getDom())}}),this.subMenu.addListener("postRenderAfter",function(){t.on(this.getDom(),"mouseover",function(){n.addState("opened")})})}else this.subMenu=new s(this.subMenu)};u.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:!0,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div></div>"},postRender:function(){var e=this;this.addListener("over",function(){e.ownerMenu.fireEvent("submenuover",e),e.subMenu&&e.delayShowSubMenu()}),this.subMenu&&(this.getDom().className+=" edui-hassubmenu",this.subMenu.render(),this.addListener("out",function(){e.delayHideSubMenu()}),this.subMenu.addListener("over",function(){clearTimeout(e._closingTimer),e._closingTimer=null,e.addState("opened")}),this.ownerMenu.addListener("hide",function(){e.hideSubMenu()}),this.ownerMenu.addListener("submenuover",function(t,n){n!==e&&e.delayHideSubMenu()}),this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide,this.subMenu.queryAutoHide=function(t){return(!t||!n.contains(e.getDom(),t))&&this._bakQueryAutoHide(t)}),this.getDom().style.tabIndex="-1",n.makeUnselectable(this.getDom()),this.Stateful_postRender()},delayShowSubMenu:function(){var e=this;e.isDisabled()||(e.addState("opened"),clearTimeout(e._showingTimer),clearTimeout(e._closingTimer),e._closingTimer=null,e._showingTimer=setTimeout(function(){e.showSubMenu()},250))},delayHideSubMenu:function(){var e=this;e.isDisabled()||(e.removeState("opened"),clearTimeout(e._showingTimer),e._closingTimer||(e._closingTimer=setTimeout(function(){e.hasState("opened")||e.hideSubMenu(),e._closingTimer=null},400)))},renderLabelHtml:function(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(e){if(this.subMenu&&this.hasState("opened"))return this.subMenu.queryAutoHide(e)},_onClick:function(e,t){this.hasState("disabled")||!1!==this.fireEvent("click",e,t)&&(this.subMenu?this.showSubMenu():r.postHide(e))},showSubMenu:function(){var e=n.getClientRect(this.getDom());e.right-=5,e.left+=2,e.width-=7,e.top-=4,e.bottom+=4,e.height+=8,this.subMenu.showAnchorRect(e,!0,!0)},hideSubMenu:function(){this.subMenu.hide()}},e.inherits(u,i),e.extend(u.prototype,o,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.Menu,i=baidu.editor.ui.SplitButton,r=baidu.editor.ui.Combox=function(e){this.initOptions(e),this.initCombox()};r.prototype={uiName:"combox",onbuttonclick:function(){this.showPopup()},initCombox:function(){var e=this;this.items=this.items||[];for(var t=0;t<this.items.length;t++){var i=this.items[t];i.uiName="listitem",i.index=t,i.onclick=function(){e.selectByIndex(this.index)}}this.popup=new n({items:this.items,uiName:"list",editor:this.editor,captureWheel:!0,combox:this}),this.initSplitButton()},_SplitButton_postRender:i.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.setLabel(this.label||""),this.setValue(this.initValue||"")},showPopup:function(){var e=t.getClientRect(this.getDom());e.top+=1,e.bottom-=1,e.height-=2,this.popup.showAnchorRect(e)},getValue:function(){return this.value},setValue:function(e){var t=this.indexByValue(e);-1!=t?(this.selectedIndex=t,this.setLabel(this.items[t].label),this.value=this.items[t].value):(this.selectedIndex=-1,this.setLabel(this.getLabelForUnknowValue(e)),this.value=e)},setLabel:function(e){this.getDom("button_body").innerHTML=e,this.label=e},getLabelForUnknowValue:function(e){return e},indexByValue:function(e){for(var t=0;t<this.items.length;t++)if(e==this.items[t].value)return t;return-1},getItem:function(e){return this.items[e]},selectByIndex:function(e){e<this.items.length&&!1!==this.fireEvent("select",e)&&(this.selectedIndex=e,this.value=this.items[e].value,this.setLabel(this.items[e].label))}},e.inherits(r,i)}(),function(){var e,t,n,i=baidu.editor.utils,r=baidu.editor.dom.domUtils,o=baidu.editor.ui.uiUtils,a=baidu.editor.ui.Mask,s=baidu.editor.ui.UIBase,l=baidu.editor.ui.Button,u=baidu.editor.ui.Dialog=function(e){if(e.name){var t=e.name,n=e.cssRules;e.className||(e.className="edui-for-"+t),n&&(e.cssRules=".edui-default .edui-for-"+t+" .edui-dialog-content  {"+n+"}")}this.initOptions(i.extend({autoReset:!0,draggable:!0,onok:function(){},oncancel:function(){},onclose:function(e,t){return t?this.onok():this.oncancel()},holdScroll:!1},e)),this.initDialog()};u.prototype={draggable:!1,uiName:"dialog",initDialog:function(){var r=this,o=this.editor.options.theme;if(this.cssRules&&i.cssRule("edui-customize-"+this.name+"-style",this.cssRules),this.initUIBase(),this.modalMask=e||(e=new a({className:"edui-dialog-modalmask",theme:o,onclick:function(){n&&n.close(!1)}})),this.dragMask=t||(t=new a({className:"edui-dialog-dragmask",theme:o})),this.closeButton=new l({className:"edui-dialog-closebutton",title:r.closeDialog,theme:o,onclick:function(){r.close(!1)}}),this.fullscreen&&this.initResizeEvent(),this.buttons)for(var s=0;s<this.buttons.length;s++)this.buttons[s]instanceof l||(this.buttons[s]=new l(i.extend(this.buttons[s],{editor:this.editor},!0)))},initResizeEvent:function(){var e=this;r.on(window,"resize",function(){e._hidden||void 0===e._hidden||(e.__resizeTimer&&window.clearTimeout(e.__resizeTimer),e.__resizeTimer=window.setTimeout(function(){e.__resizeTimer=null;var t=e.getDom(),n=e.getDom("content"),i=UE.ui.uiUtils.getClientRect(t),r=UE.ui.uiUtils.getClientRect(n),a=o.getViewportRect();n.style.width=a.width-i.width+r.width+"px",n.style.height=a.height-i.height+r.height+"px",t.style.width=a.width+"px",t.style.height=a.height+"px",e.fireEvent("resize")},100))})},fitSize:function(){var e=this.getDom("body"),t=this.mesureSize();return e.style.width=t.width+"px",e.style.height=t.height+"px",t},safeSetOffset:function(e){var t=this,n=t.getDom(),i=o.getViewportRect(),r=o.getClientRect(n),a=e.left;a+r.width>i.right&&(a=i.right-r.width);var s=e.top;s+r.height>i.bottom&&(s=i.bottom-r.height),n.style.left=Math.max(a,0)+"px",n.style.top=Math.max(s,0)+"px"},showAtCenter:function(){var e=o.getViewportRect();if(this.fullscreen){var t=this.getDom(),n=this.getDom("content");t.style.display="block";var i=UE.ui.uiUtils.getClientRect(t),a=UE.ui.uiUtils.getClientRect(n);t.style.left="-100000px",n.style.width=e.width-i.width+a.width+"px",n.style.height=e.height-i.height+a.height+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.left=0,this._originalContext={html:{overflowX:document.documentElement.style.overflowX,overflowY:document.documentElement.style.overflowY},body:{overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY}},document.documentElement.style.overflowX="hidden",document.documentElement.style.overflowY="hidden",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden"}else{this.getDom().style.display="";var s=this.fitSize(),l=0|this.getDom("titlebar").offsetHeight,u=e.width/2-s.width/2,c=e.height/2-(s.height-l)/2-l,d=this.getDom();this.safeSetOffset({left:Math.max(0|u,0),top:Math.max(0|c,0)}),r.hasClass(d,"edui-state-centered")||(d.className+=" edui-state-centered")}this._show()},getContentHtml:function(){var e="";return"string"==typeof this.content?e=this.content:this.iframeUrl&&(e='<span id="'+this.id+'_contmask" class="dialogcontmask"></span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>'),e},getHtmlTpl:function(){var e="";if(this.buttons){for(var t=[],n=0;n<this.buttons.length;n++)t[n]=this.buttons[n].renderHtml();e='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+t.join("")+"</div></div>"}return'<div id="##" class="%%"><div '+(this.fullscreen?'class="%%-wrap edui-dialog-fullscreen-flag"':'class="%%"')+'><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span></div>"+this.closeButton.renderHtml()+'</div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+e+"</div></div></div>"},postRender:function(){this.modalMask.getDom()||(this.modalMask.render(),this.modalMask.hide()),this.dragMask.getDom()||(this.dragMask.render(),this.dragMask.hide());var e=this;if(this.addListener("show",function(){e.modalMask.show(this.getDom().style.zIndex-2)}),this.addListener("hide",function(){e.modalMask.hide()}),this.buttons)for(var t=0;t<this.buttons.length;t++)this.buttons[t].postRender();r.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e.safeSetOffset(o.getClientRect(e.getDom()))})}),this._hide()},mesureSize:function(){var e=this.getDom("body"),t=o.getClientRect(this.getDom("content")).width;return e.style.width=t,o.getClientRect(e)},_onTitlebarMouseDown:function(e,t){if(this.draggable){var n,i=(o.getViewportRect(),this);o.startDrag(e,{ondragstart:function(){n=o.getClientRect(i.getDom()),i.getDom("contmask").style.visibility="visible",i.dragMask.show(i.getDom().style.zIndex-1)},ondragmove:function(e,t){var r=n.left+e,o=n.top+t;i.safeSetOffset({left:r,top:o})},ondragstop:function(){i.getDom("contmask").style.visibility="hidden",r.removeClasses(i.getDom(),["edui-state-centered"]),i.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml(),this.fireEvent("dialogafterreset")},_show:function(){this._hidden&&(this.getDom().style.display="",this.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*this.editor.container.style.zIndex+10),this._hidden=!1,this.fireEvent("show"),baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4)},isHidden:function(){return this._hidden},_hide:function(){if(!this._hidden){var e=this.getDom();e.style.display="none",e.style.zIndex="",e.style.width="",e.style.height="",this._hidden=!0,this.fireEvent("hide")}},open:function(){if(this.autoReset)try{this.reset()}catch(e){this.render(),this.open()}if(this.showAtCenter(),this.iframeUrl)try{this.getDom("iframe").focus()}catch(e){}n=this},_onCloseButtonClick:function(e,t){this.close(!1)},close:function(e){if(!1!==this.fireEvent("close",e)){this.fullscreen&&(document.documentElement.style.overflowX=this._originalContext.html.overflowX,document.documentElement.style.overflowY=this._originalContext.html.overflowY,document.body.style.overflowX=this._originalContext.body.overflowX,document.body.style.overflowY=this._originalContext.body.overflowY,delete this._originalContext),this._hide();var t=this.getDom("content"),n=this.getDom("iframe");if(t&&n){var i=n.contentDocument||n.contentWindow.document;i&&(i.body.innerHTML=""),r.remove(t)}}}},i.inherits(u,s)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Menu,n=baidu.editor.ui.SplitButton,i=baidu.editor.ui.MenuButton=function(e){this.initOptions(e),this.initMenuButton()};i.prototype={initMenuButton:function(){var e=this;this.uiName="menubutton",this.popup=new t({items:e.items,className:e.className,editor:e.editor}),this.popup.addListener("show",function(){for(var t=this,n=0;n<t.items.length;n++)t.items[n].removeState("checked"),t.items[n].value==e._value&&(t.items[n].addState("checked"),this.value=e._value)}),this.initSplitButton()},setValue:function(e){this._value=e}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,n=baidu.editor.ui.SplitButton,i=baidu.editor.ui.MultiMenuPop=function(e){this.initOptions(e),this.initMultiMenu()};i.prototype={initMultiMenu:function(){var e=this;this.popup=new t({content:"",editor:e.editor,iframe_rendered:!1,onshow:function(){this.iframe_rendered||(this.iframe_rendered=!0,this.getDom("content").innerHTML='<iframe id="'+e.id+'_iframe" src="'+e.iframeUrl+'" frameborder="0"></iframe>',e.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*e.editor.container.style.zIndex+1))}}),this.onbuttonclick=function(){this.showPopup()},this.initSplitButton()}},e.inherits(i,n)}(),function(){function e(e){var t=e.target||e.srcElement;if(!a.findParent(t,function(e){return a.hasClass(e,"edui-shortcutmenu")||a.hasClass(e,"edui-popup")},!0))for(var n,i=0;n=s[i++];)n.hide()}var t,n=baidu.editor.ui,i=n.UIBase,r=n.uiUtils,o=baidu.editor.utils,a=baidu.editor.dom.domUtils,s=[],l=!1,u=n.ShortCutMenu=function(e){this.initOptions(e),this.initShortCutMenu()};u.postHide=e,u.prototype={isHidden:!0,SPACE:5,initShortCutMenu:function(){this.items=this.items||[],this.initUIBase(),this.initItems(),this.initEvent(),s.push(this)},initEvent:function(){var e=this,n=e.editor.document;a.on(n,"mousemove",function(n){if(!1===e.isHidden){if(e.getSubMenuMark()||"contextmenu"==e.eventType)return;var i=!0,r=e.getDom(),o=r.offsetWidth,a=r.offsetHeight,s=o/2+e.SPACE,l=a/2,u=Math.abs(n.screenX-e.left),c=Math.abs(n.screenY-e.top);clearTimeout(t),t=setTimeout(function(){c>0&&c<l?e.setOpacity(r,"1"):c>l&&c<l+70?(e.setOpacity(r,"0.5"),i=!1):c>l+70&&c<l+140&&e.hide(),i&&u>0&&u<s?e.setOpacity(r,"1"):u>s&&u<s+70?e.setOpacity(r,"0.5"):u>s+70&&u<s+140&&e.hide()})}}),browser.chrome&&a.on(n,"mouseout",function(t){var n=t.relatedTarget||t.toElement;null!=n&&"HTML"!=n.tagName||e.hide()}),e.editor.addListener("afterhidepop",function(){e.isHidden||(l=!0)})},initItems:function(){if(o.isArray(this.items))for(var e=0,t=this.items.length;e<t;e++){var i=this.items[e].toLowerCase();n[i]&&(this.items[e]=new n[i](this.editor),this.items[e].className+=" edui-shortcutsubmenu ")}},setOpacity:function(e,t){browser.ie&&browser.version<9?e.style.filter="alpha(opacity = "+100*parseFloat(t)+");":e.style.opacity=t},getSubMenuMark:function(){l=!1;for(var e,t=r.getFixedLayer(),n=a.getElementsByTagName(t,"div",function(e){return a.hasClass(e,"edui-shortcutsubmenu edui-popup")}),i=0;e=n[i++];)"none"!=e.style.display&&(l=!0);return l},show:function(e,t){function n(e){e.left<0&&(e.left=0),e.top<0&&(e.top=0),l.style.cssText="position:absolute;left:"+e.left+"px;top:"+e.top+"px;"}function i(e){e.tagName||(e=e.getDom()),s.left=parseInt(e.style.left),s.top=parseInt(e.style.top),s.top-=l.offsetHeight+15,n(s)}var o=this,s={},l=this.getDom(),u=r.getFixedLayer();if(o.eventType=e.type,l.style.cssText="display:block;left:-9999px","contextmenu"==e.type&&t){var c=a.getElementsByTagName(u,"div","edui-contextmenu")[0];c?i(c):o.editor.addListener("aftershowcontextmenu",function(e,t){i(t)})}else s=r.getViewportOffsetByEvent(e),s.top-=l.offsetHeight+o.SPACE,s.left+=o.SPACE+20,n(s),o.setOpacity(l,.2);o.isHidden=!1,o.left=e.screenX+l.offsetWidth/2-o.SPACE,o.top=e.screenY-l.offsetHeight/2-o.SPACE,o.editor&&(l.style.zIndex=1*o.editor.container.style.zIndex+10,u.style.zIndex=l.style.zIndex-1)},hide:function(){this.getDom()&&(this.getDom().style.display="none"),this.isHidden=!0},postRender:function(){if(o.isArray(this.items))for(var e,t=0;e=this.items[t++];)e.postRender()},getHtmlTpl:function(){var e;if(o.isArray(this.items)){e=[];for(var t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();e=e.join("")}else e=this.items;return'<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >'+e+"</div>"}},o.inherits(u,i),a.on(document,"mousedown",function(t){e(t)}),a.on(window,"scroll",function(t){e(t)})}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.Breakline=function(e){this.initOptions(e),this.initSeparator()};n.prototype={uiName:"Breakline",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return"<br/>"}},e.inherits(n,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.Message=function(e){this.initOptions(e),this.initMessage()};i.prototype={initMessage:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-message %%"> <div id="##_closer" class="edui-message-closer"></div> <div id="##_body" class="edui-message-body edui-message-type-info"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-message-content">  </div> </div></div>'},reset:function(e){var t=this;e.keepshow||(clearTimeout(this.timer),t.timer=setTimeout(function(){t.hide()},e.timeout||4e3)),void 0!==e.content&&t.setContent(e.content),void 0!==e.type&&t.setType(e.type),t.show()},postRender:function(){var e=this,n=this.getDom("closer");n&&t.on(n,"click",function(){e.hide()})},setContent:function(e){this.getDom("content").innerHTML=e},setType:function(e){e=e||"info";var t=this.getDom("body");t.className=t.className.replace(/edui-message-type-[\w-]+/,"edui-message-type-"+e)},getContent:function(){return this.getDom("content").innerHTML},getType:function(){var e=this.getDom("body").match(/edui-message-type-([\w-]+)/);return e?e[1]:""},show:function(){this.getDom().style.display="block"},hide:function(){var e=this.getDom();e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e))}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui,n=t.Dialog;t.buttons={},t.Dialog=function(e){var t=new n(e);return t.addListener("hide",function(){if(t.editor){var e=t.editor;try{if(browser.gecko){var n=e.window.scrollY,i=e.window.scrollX;e.body.focus(),e.window.scrollTo(i,n)}else e.focus()}catch(e){}}}),t};for(var i,r={anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",link:"~/dialogs/link/link.html",spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",preview:"~/dialogs/preview/preview.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittip:"~/dialogs/table/edittip.html",edittable:"~/dialogs/table/edittable.html",edittd:"~/dialogs/table/edittd.html",webapp:"~/dialogs/webapp/webapp.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html",scrawl:"~/dialogs/scrawl/scrawl.html",music:"~/dialogs/music/music.html",template:"~/dialogs/template/template.html",background:"~/dialogs/background/background.html",charts:"~/dialogs/charts/charts.html"},o=["undo","redo","formatmatch","bold","italic","underline","fontborder","touppercase","tolowercase","strikethrough","subscript","superscript","source","indent","outdent","blockquote","pasteplain","pagebreak","selectall","print","horizontal","removeformat","time","date","unlink","insertparagraphbeforetable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","mergecells","deletetable","drafts"],a=0;i=o[a++];)i=i.toLowerCase(),t[i]=function(e){return function(n){var i=new t.Button({className:"edui-for-"+e,title:n.options.labelMap[e]||n.getLang("labelMap."+e)||"",onclick:function(){n.execCommand(e)},theme:n.options.theme,showText:!1});return t.buttons[e]=i,n.addListener("selectionchange",function(t,r,o){var a=n.queryCommandState(e);-1==a?(i.setDisabled(!0),i.setChecked(!1)):o||(i.setDisabled(!1),i.setChecked(a))}),i}}(i);t.cleardoc=function(e){var n=new t.Button({className:"edui-for-cleardoc",title:e.options.labelMap.cleardoc||e.getLang("labelMap.cleardoc")||"",theme:e.options.theme,onclick:function(){confirm(e.getLang("confirmClear"))&&e.execCommand("cleardoc")}});return t.buttons.cleardoc=n,e.addListener("selectionchange",function(){n.setDisabled(-1==e.queryCommandState("cleardoc"))}),n};var s={justify:["left","right","center","justify"],imagefloat:["none","left","center","right"],directionality:["ltr","rtl"]};for(var l in s)!function(e,n){for(var i,r=0;i=n[r++];)!function(n){t[e.replace("float","")+n]=function(i){var r=new t.Button({className:"edui-for-"+e.replace("float","")+n,title:i.options.labelMap[e.replace("float","")+n]||i.getLang("labelMap."+e.replace("float","")+n)||"",theme:i.options.theme,onclick:function(){i.execCommand(e,n)}});return t.buttons[e]=r,i.addListener("selectionchange",function(t,o,a){r.setDisabled(-1==i.queryCommandState(e)),r.setChecked(i.queryCommandValue(e)==n&&!a)}),r}}(i)}(l,s[l]);for(var i,a=0;i=["backcolor","forecolor"][a++];)t[i]=function(e){return function(n){var i=new t.ColorButton({className:"edui-for-"+e,color:"default",title:n.options.labelMap[e]||n.getLang("labelMap."+e)||"",editor:n,onpickcolor:function(t,i){n.execCommand(e,i)},onpicknocolor:function(){n.execCommand(e,"default"),this.setColor("transparent"),this.color="default"},onbuttonclick:function(){n.execCommand(e,this.color)}});return t.buttons[e]=i,n.addListener("selectionchange",function(){i.setDisabled(-1==n.queryCommandState(e))}),i}}(i);var u={noOk:["searchreplace","help","spechars","webapp","preview"],ok:["attachment","anchor","link","insertimage","map","gmap","insertframe","wordimage","insertvideo","insertframe","edittip","edittable","edittd","scrawl","template","music","background","charts"]};for(var l in u)!function(n,i){for(var o,a=0;o=i[a++];)browser.opera&&"searchreplace"===o||function(i){t[i]=function(o,a,s){a=a||(o.options.iframeUrlMap||{})[i]||r[i],s=o.options.labelMap[i]||o.getLang("labelMap."+i)||"";var l;a&&(l=new t.Dialog(e.extend({iframeUrl:o.ui.mapUrl(a),editor:o,className:"edui-for-"+i,title:s,holdScroll:"insertimage"===i,fullscreen:/charts|preview/.test(i),closeDialog:o.getLang("closeDialog")},"ok"==n?{buttons:[{className:"edui-okbutton",label:o.getLang("ok"),editor:o,onclick:function(){l.close(!0)}},{className:"edui-cancelbutton",label:o.getLang("cancel"),editor:o,onclick:function(){l.close(!1)}}]}:{})),o.ui._dialogs[i+"Dialog"]=l);var u=new t.Button({className:"edui-for-"+i,title:s,onclick:function(){if(l)switch(i){case"wordimage":var e=o.execCommand("wordimage");e&&e.length&&(l.render(),l.open());break;case"scrawl":-1!=o.queryCommandState("scrawl")&&(l.render(),l.open());break;default:l.render(),l.open()}},theme:o.options.theme,disabled:"scrawl"==i&&-1==o.queryCommandState("scrawl")||"charts"==i});return t.buttons[i]=u,o.addListener("selectionchange",function(){if(!(i in{edittable:1})){var e=o.queryCommandState(i);u.getDom()&&(u.setDisabled(-1==e),u.setChecked(e))}}),u}}(o.toLowerCase())}(l,u[l]);t.snapscreen=function(e,n,i){i=e.options.labelMap.snapscreen||e.getLang("labelMap.snapscreen")||"";var o=new t.Button({className:"edui-for-snapscreen",title:i,onclick:function(){e.execCommand("snapscreen")},theme:e.options.theme});if(t.buttons.snapscreen=o,n=n||(e.options.iframeUrlMap||{}).snapscreen||r.snapscreen){var a=new t.Dialog({iframeUrl:e.ui.mapUrl(n),editor:e,className:"edui-for-snapscreen",title:i,buttons:[{className:"edui-okbutton",label:e.getLang("ok"),editor:e,onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:e.getLang("cancel"),editor:e,onclick:function(){a.close(!1)}}]});a.render(),e.ui._dialogs.snapscreenDialog=a}return e.addListener("selectionchange",function(){o.setDisabled(-1==e.queryCommandState("snapscreen"))}),o},t.insertcode=function(n,i,r){i=n.options.insertcode||[],r=n.options.labelMap.insertcode||n.getLang("labelMap.insertcode")||"";var o=[];e.each(i,function(e,t){o.push({label:e,value:t,theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" >'+(this.label||"")+"</div>"}})});var a=new t.Combox({editor:n,items:o,onselect:function(e,t){n.execCommand("insertcode",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:r,initValue:r,className:"edui-for-insertcode",indexByValue:function(e){if(e)for(var t,n=0;t=this.items[n];n++)if(-1!=t.value.indexOf(e))return n;return-1}});return t.buttons.insertcode=a,n.addListener("selectionchange",function(e,t,i){if(!i){if(-1==n.queryCommandState("insertcode"))a.setDisabled(!0);else{a.setDisabled(!1);var o=n.queryCommandValue("insertcode");if(!o)return void a.setValue(r);o&&(o=o.replace(/['"]/g,"").split(",")[0]),a.setValue(o)}}}),a},t.fontfamily=function(n,i,r){if(i=n.options.fontfamily||[],r=n.options.labelMap.fontfamily||n.getLang("labelMap.fontfamily")||"",i.length){for(var o,a=0,s=[];o=i[a];a++){var l=n.getLang("fontfamily")[o.name]||"";!function(t,i){s.push({label:t,value:i,theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+e.unhtml(this.value)+'">'+(this.label||"")+"</div>"}})}(o.label||l,o.val)}var u=new t.Combox({editor:n,items:s,onselect:function(e,t){n.execCommand("FontFamily",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:r,initValue:r,className:"edui-for-fontfamily",indexByValue:function(e){if(e)for(var t,n=0;t=this.items[n];n++)if(-1!=t.value.indexOf(e))return n;return-1}});return t.buttons.fontfamily=u,n.addListener("selectionchange",function(e,t,i){if(!i){if(-1==n.queryCommandState("FontFamily"))u.setDisabled(!0);else{u.setDisabled(!1);var r=n.queryCommandValue("FontFamily");r&&(r=r.replace(/['"]/g,"").split(",")[0]),u.setValue(r)}}}),u}},t.fontsize=function(e,n,i){if(i=e.options.labelMap.fontsize||e.getLang("labelMap.fontsize")||"",n=n||e.options.fontsize||[],n.length){for(var r=[],o=0;o<n.length;o++){var a=n[o]+"px";r.push({label:a,value:a,theme:e.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}var s=new t.Combox({editor:e,items:r,title:i,initValue:i,onselect:function(t,n){e.execCommand("FontSize",this.items[n].value)},onbuttonclick:function(){this.showPopup()},className:"edui-for-fontsize"});return t.buttons.fontsize=s,e.addListener("selectionchange",function(t,n,i){if(!i){-1==e.queryCommandState("FontSize")?s.setDisabled(!0):(s.setDisabled(!1),s.setValue(e.queryCommandValue("FontSize")))}}),s}},t.paragraph=function(n,i,r){if(r=n.options.labelMap.paragraph||n.getLang("labelMap.paragraph")||"",i=n.options.paragraph||[],!e.isEmptyObject(i)){var o=[];for(var a in i)o.push({value:a,label:i[a]||n.getLang("paragraph")[a],theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"</span></div>"}});var s=new t.Combox({editor:n,items:o,title:r,initValue:r,className:"edui-for-paragraph",onselect:function(e,t){n.execCommand("Paragraph",this.items[t].value)},onbuttonclick:function(){this.showPopup()}});return t.buttons.paragraph=s,n.addListener("selectionchange",function(e,t,i){if(!i){if(-1==n.queryCommandState("Paragraph"))s.setDisabled(!0);else{s.setDisabled(!1);var r=n.queryCommandValue("Paragraph");-1!=s.indexByValue(r)?s.setValue(r):s.setValue(s.initValue)}}}),s}},t.customstyle=function(e){var n=e.options.customstyle||[],i=e.options.labelMap.customstyle||e.getLang("labelMap.customstyle")||"";if(n.length){for(var r,o=e.getLang("customstyle"),a=0,s=[];r=n[a++];)!function(t){var n={};n.label=t.label?t.label:o[t.name],n.style=t.style,n.className=t.className,n.tag=t.tag,s.push({label:n.label,value:n,theme:e.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><'+n.tag+" "+(n.className?' class="'+n.className+'"':"")+(n.style?' style="'+n.style+'"':"")+">"+n.label+"</"+n.tag+"></div>"}})}(r);var l=new t.Combox({editor:e,items:s,title:i,initValue:i,className:"edui-for-customstyle",onselect:function(t,n){e.execCommand("customstyle",this.items[n].value)},onbuttonclick:function(){this.showPopup()},indexByValue:function(e){for(var t,n=0;t=this.items[n++];)if(t.label==e)return n-1;return-1}});return t.buttons.customstyle=l,e.addListener("selectionchange",function(t,n,i){if(!i){if(-1==e.queryCommandState("customstyle"))l.setDisabled(!0);else{l.setDisabled(!1);var r=e.queryCommandValue("customstyle");-1!=l.indexByValue(r)?l.setValue(r):l.setValue(l.initValue)}}}),l}},t.inserttable=function(e,n,i){i=e.options.labelMap.inserttable||e.getLang("labelMap.inserttable")||"";var r=new t.TableButton({editor:e,title:i,className:"edui-for-inserttable",onpicktable:function(t,n,i){e.execCommand("InsertTable",{numRows:i,numCols:n,border:1})},onbuttonclick:function(){this.showPopup()}});return t.buttons.inserttable=r,e.addListener("selectionchange",function(){r.setDisabled(-1==e.queryCommandState("inserttable"))}),r},t.lineheight=function(e){var n=e.options.lineheight||[];if(n.length){for(var i,r=0,o=[];i=n[r++];)o.push({label:i,value:i,theme:e.options.theme,onclick:function(){e.execCommand("lineheight",this.value)}});var a=new t.MenuButton({editor:e,className:"edui-for-lineheight",title:e.options.labelMap.lineheight||e.getLang("labelMap.lineheight")||"",items:o,onbuttonclick:function(){var t=e.queryCommandValue("LineHeight")||this.value;e.execCommand("LineHeight",t)}});return t.buttons.lineheight=a,e.addListener("selectionchange",function(){var t=e.queryCommandState("LineHeight");if(-1==t)a.setDisabled(!0);else{a.setDisabled(!1);var n=e.queryCommandValue("LineHeight");n&&a.setValue((n+"").replace(/cm/,"")),a.setChecked(t)}}),a}};for(var c,d=["top","bottom"],f=0;c=d[f++];)!function(e){t["rowspacing"+e]=function(n){var i=n.options["rowspacing"+e]||[];if(!i.length)return null;for(var r,o=0,a=[];r=i[o++];)a.push({label:r,value:r,theme:n.options.theme,onclick:function(){n.execCommand("rowspacing",this.value,e)}});var s=new t.MenuButton({editor:n,className:"edui-for-rowspacing"+e,title:n.options.labelMap["rowspacing"+e]||n.getLang("labelMap.rowspacing"+e)||"",items:a,onbuttonclick:function(){var t=n.queryCommandValue("rowspacing",e)||this.value;n.execCommand("rowspacing",t,e)}});return t.buttons[e]=s,n.addListener("selectionchange",function(){var t=n.queryCommandState("rowspacing",e);if(-1==t)s.setDisabled(!0);else{s.setDisabled(!1);var i=n.queryCommandValue("rowspacing",e);i&&s.setValue((i+"").replace(/%/,"")),s.setChecked(t)}}),s}}(c);for(var p,h=["insertorderedlist","insertunorderedlist"],m=0;p=h[m++];)!function(e){t[e]=function(n){var i=n.options[e],r=function(){n.execCommand(e,this.value)},o=[];for(var a in i)o.push({label:i[a]||n.getLang()[e][a]||"",value:a,theme:n.options.theme,onclick:r});var s=new t.MenuButton({editor:n,className:"edui-for-"+e,title:n.getLang("labelMap."+e)||"",items:o,onbuttonclick:function(){var t=n.queryCommandValue(e)||this.value;n.execCommand(e,t)}});return t.buttons[e]=s,n.addListener("selectionchange",function(){var t=n.queryCommandState(e);if(-1==t)s.setDisabled(!0);else{s.setDisabled(!1);var i=n.queryCommandValue(e);s.setValue(i),s.setChecked(t)}}),s}}(p);t.fullscreen=function(e,n){n=e.options.labelMap.fullscreen||e.getLang("labelMap.fullscreen")||"";var i=new t.Button({className:"edui-for-fullscreen",title:n,theme:e.options.theme,onclick:function(){e.ui&&e.ui.setFullScreen(!e.ui.isFullScreen()),this.setChecked(e.ui.isFullScreen())}});return t.buttons.fullscreen=i,e.addListener("selectionchange",function(){var t=e.queryCommandState("fullscreen");i.setDisabled(-1==t),i.setChecked(e.ui.isFullScreen())}),i},t.emotion=function(e,n){var i="emotion",o=new t.MultiMenuPop({title:e.options.labelMap[i]||e.getLang("labelMap."+i)||"",editor:e,className:"edui-for-"+i,iframeUrl:e.ui.mapUrl(n||(e.options.iframeUrlMap||{})[i]||r[i])});return t.buttons[i]=o,e.addListener("selectionchange",function(){o.setDisabled(-1==e.queryCommandState(i))}),o},t.autotypeset=function(e){var n=new t.AutoTypeSetButton({editor:e,title:e.options.labelMap.autotypeset||e.getLang("labelMap.autotypeset")||"",className:"edui-for-autotypeset",onbuttonclick:function(){e.execCommand("autotypeset")}});return t.buttons.autotypeset=n,e.addListener("selectionchange",function(){n.setDisabled(-1==e.queryCommandState("autotypeset"))}),n},t.simpleupload=function(e){var n="simpleupload",i=new t.Button({className:"edui-for-"+n,title:e.options.labelMap[n]||e.getLang("labelMap."+n)||"",onclick:function(){},theme:e.options.theme,showText:!1});return t.buttons[n]=i,e.addListener("ready",function(){var t=i.getDom("body"),n=t.children[0];e.fireEvent("simpleuploadbtnready",n)}),e.addListener("selectionchange",function(t,r,o){var a=e.queryCommandState(n);-1==a?(i.setDisabled(!0),i.setChecked(!1)):o||(i.setDisabled(!1),i.setChecked(a))}),i}}(),function(){function e(e){this.initOptions(e),this.initEditorUI()}var t=baidu.editor.utils,n=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,r=baidu.editor.dom.domUtils,o=[];e.prototype={uiName:"editor",initEditorUI:function(){function e(e,t){e.setOpt({wordCount:!0,maximumWords:1e4,wordCountMsg:e.options.wordCountMsg||e.getLang("wordCountMsg"),wordOverFlowMsg:e.options.wordOverFlowMsg||e.getLang("wordOverFlowMsg")});var n=e.options,i=n.maximumWords,r=n.wordCountMsg,o=n.wordOverFlowMsg,a=t.getDom("wordcount");if(n.wordCount){var s=e.getContentLength(!0);s>i?(a.innerHTML=o,e.fireEvent("wordcountoverflow")):a.innerHTML=r.replace("{#leave}",i-s).replace("{#count}",s)}}this.editor.ui=this,this._dialogs={},this.initUIBase(),this._initToolbars();var t=this.editor,n=this;t.addListener("ready",function(){if(t.getDialog=function(e){return t.ui._dialogs[e+"Dialog"]},r.on(t.window,"scroll",function(e){baidu.editor.ui.Popup.postHide(e)}),t.ui._actualFrameWidth=t.options.initialFrameWidth,UE.browser.ie&&6===UE.browser.version&&t.container.ownerDocument.execCommand("BackgroundImageCache",!1,!0),t.options.elementPathEnabled&&(t.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+t.getLang("elementPathTip")+":</div>"),t.options.wordCount){var i=function(){e(t,n),r.un(t.document,"click",arguments.callee)};r.on(t.document,"click",i),t.ui.getDom("wordcount").innerHTML=t.getLang("wordCountTip")}t.ui._scale(),t.options.scaleEnabled?(t.autoHeightEnabled&&t.disableAutoHeight(),n.enableScale()):n.disableScale(),t.options.elementPathEnabled||t.options.wordCount||t.options.scaleEnabled||(t.ui.getDom("elementpath").style.display="none",t.ui.getDom("wordcount").style.display="none",t.ui.getDom("scale").style.display="none"),t.selection.isFocus()&&t.fireEvent("selectionchange",!1,!0)}),t.addListener("mousedown",function(e,t){var n=t.target||t.srcElement;baidu.editor.ui.Popup.postHide(t,n),baidu.editor.ui.ShortCutMenu.postHide(t)}),t.addListener("delcells",function(){UE.ui.edittip&&new UE.ui.edittip(t),t.getDialog("edittip").open()});var i,o,a=!1;t.addListener("afterpaste",function(){t.queryCommandState("pasteplain")||(baidu.editor.ui.PastePicker&&(i=new baidu.editor.ui.Popup({content:new baidu.editor.ui.PastePicker({editor:t}),editor:t,className:"edui-wordpastepop"}),i.render()),a=!0)}),t.addListener("afterinserthtml",function(){clearTimeout(o),o=setTimeout(function(){if(i&&(a||t.ui._isTransfer)){if(i.isHidden()){var e=r.createElement(t.document,"span",{style:"line-height:0px;",innerHTML:"\ufeff"});t.selection.getRange().insertNode(e);var n=getDomNode(e,"firstChild","previousSibling");n&&i.showAnchor(3==n.nodeType?n.parentNode:n),r.remove(e)}else i.show();delete t.ui._isTransfer,a=!1}},200)}),t.addListener("contextmenu",function(e,t){baidu.editor.ui.Popup.postHide(t)}),t.addListener("keydown",function(e,t){i&&i.dispose(t);var n=t.keyCode||t.which;t.altKey&&90==n&&UE.ui.buttons.fullscreen.onclick()}),t.addListener("wordcount",function(t){e(this,n)}),t.addListener("selectionchange",function(){t.options.elementPathEnabled&&n[(-1==t.queryCommandState("elementpath")?"dis":"en")+"ableElementPath"](),t.options.scaleEnabled&&n[(-1==t.queryCommandState("scale")?"dis":"en")+"ableScale"]()});var s=new baidu.editor.ui.Popup({editor:t,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide(),t.ui._dialogs.linkDialog.open()},_onImgEditButtonClick:function(e){this.hide(),t.ui._dialogs[e]&&t.ui._dialogs[e].open()},_onImgSetFloat:function(e){this.hide(),t.execCommand("imagefloat",e)},_setIframeAlign:function(e){var t=s.anchorEl,n=t.cloneNode(!0);switch(e){case-2:n.setAttribute("align","");break;case-1:n.setAttribute("align","left");break;case 1:n.setAttribute("align","right")}t.parentNode.insertBefore(n,t),r.remove(t),s.anchorEl=n,s.showAnchor(s.anchorEl)},_updateIframe:function(){var e=t._iframe=s.anchorEl;r.hasClass(e,"ueditor_baidumap")?(t.selection.getRange().selectNode(e).select(),t.ui._dialogs.mapDialog.open(),s.hide()):(t.ui._dialogs.insertframeDialog.open(),s.hide())},_onRemoveButtonClick:function(e){t.execCommand(e),this.hide()},queryAutoHide:function(e){return e&&e.ownerDocument==t.document&&("img"==e.tagName.toLowerCase()||r.findParentByTagName(e,"a",!0))?e!==s.anchorEl:baidu.editor.ui.Popup.prototype.queryAutoHide.call(this,e)}});s.render(),t.options.imagePopup&&(t.addListener("mouseover",function(e,n){n=n||window.event;var i=n.target||n.srcElement;if(t.ui._dialogs.insertframeDialog&&/iframe/gi.test(i.tagName)){var r=s.formatHtml("<nobr>"+t.getLang("property")+': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">'+t.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">'+t.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">'+t.getLang("justifyright")+'</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">'+t.getLang("modify")+"</span></nobr>");r?(s.getDom("content").innerHTML=r,s.anchorEl=i,s.showAnchor(s.anchorEl)):s.hide()}}),t.addListener("selectionchange",function(e,n){if(n){var i="",o="",a=t.selection.getRange().getClosedNode(),l=t.ui._dialogs;if(a&&"IMG"==a.tagName){var u="insertimageDialog";if(-1==a.className.indexOf("edui-faked-video")&&-1==a.className.indexOf("edui-upload-video")||(u="insertvideoDialog"),-1!=a.className.indexOf("edui-faked-webapp")&&(u="webappDialog"),-1!=a.src.indexOf("http://api.map.baidu.com")&&(u="mapDialog"),-1!=a.className.indexOf("edui-faked-music")&&(u="musicDialog"),-1!=a.src.indexOf("http://maps.google.com/maps/api/staticmap")&&(u="gmapDialog"),a.getAttribute("anchorname")&&(u="anchorDialog",i=s.formatHtml("<nobr>"+t.getLang("property")+': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">'+t.getLang("modify")+"</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">"+t.getLang("delete")+"</span></nobr>")),a.getAttribute("word_img")&&(t.word_img=[a.getAttribute("word_img")],u="wordimageDialog"),(r.hasClass(a,"loadingclass")||r.hasClass(a,"loaderrorclass"))&&(u=""),!l[u])return;o="<nobr>"+t.getLang("property")+': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">'+t.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">'+t.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">'+t.getLang("justifyright")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">'+t.getLang("justifycenter")+"</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('"+u+'\');" class="edui-clickable">'+t.getLang("modify")+"</span></nobr>",!i&&(i=s.formatHtml(o))}if(t.ui._dialogs.linkDialog){var c,d=t.queryCommandValue("link");if(d&&(c=d.getAttribute("_href")||d.getAttribute("href",2))){var f=c;c.length>30&&(f=c.substring(0,20)+"..."),i&&(i+='<div style="height:5px;"></div>'),i+=s.formatHtml("<nobr>"+t.getLang("anthorMsg")+': <a target="_blank" href="'+c+'" title="'+c+'" >'+f+'</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">'+t.getLang("modify")+'</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> '+t.getLang("clear")+"</span></nobr>"),s.showAnchor(d)}}i?(s.getDom("content").innerHTML=i,s.anchorEl=a||d,s.showAnchor(s.anchorEl)):s.hide()}}))},_initToolbars:function(){for(var e=this.editor,n=this.toolbars||[],i=[],r=0;r<n.length;r++){for(var o=n[r],a=new baidu.editor.ui.Toolbar({theme:e.options.theme}),s=0;s<o.length;s++){var l=o[s],u=null;if("string"==typeof l){if(l=l.toLowerCase(),"|"==l&&(l="Separator"),"||"==l&&(l="Breakline"),baidu.editor.ui[l]&&(u=new baidu.editor.ui[l](e)),"fullscreen"==l){i&&i[0]?i[0].items.splice(0,0,u):u&&a.items.splice(0,0,u);continue}}else u=l;u&&u.id&&a.add(u)}i[r]=a}t.each(UE._customizeUI,function(t,n){var i,r;if(t.id&&t.id!=e.key)return!1;(i=t.execFn.call(e,e,n))&&(r=t.index,void 0===r&&(r=a.items.length),a.add(i,r))}),this.toolbars=i},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">'+(this.toolbars.length?'<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+this.renderToolbarBoxHtml()+"</div></div>":"")+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">'+this.editor.getLang("clickToUpload")+'</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div><div id="##_message_holder" class="%%-messageholder"></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'},showWordImageDialog:function(){this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function(){for(var e=[],t=0;t<this.toolbars.length;t++)e.push(this.toolbars[t].renderHtml());return e.join("")},setFullScreen:function(e){var t=this.editor,n=t.container.parentNode.parentNode;if(this._fullscreen!=e){if(this._fullscreen=e,this.editor.fireEvent("beforefullscreenchange",e),baidu.editor.browser.gecko)var i=t.selection.getRange().createBookmark();if(e){for(;"BODY"!=n.tagName;){var r=baidu.editor.dom.domUtils.getComputedStyle(n,"position");o.push(r),n.style.position="static",n=n.parentNode}this._bakHtmlOverflow=document.documentElement.style.overflow,this._bakBodyOverflow=document.body.style.overflow,this._bakAutoHeight=this.editor.autoHeightEnabled,this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._bakEditorContaninerWidth=t.iframe.parentNode.offsetWidth,this._bakAutoHeight&&(t.autoHeightEnabled=!1,this.editor.disableAutoHeight()),document.documentElement.style.overflow="hidden",window.scrollTo(0,window.scrollY),this._bakCssText=this.getDom().style.cssText,this._bakCssText1=this.getDom("iframeholder").style.cssText,t.iframe.parentNode.style.width="",this._updateFullScreen()}else{for(;"BODY"!=n.tagName;)n.style.position=o.shift(),n=n.parentNode;this.getDom().style.cssText=this._bakCssText,this.getDom("iframeholder").style.cssText=this._bakCssText1,this._bakAutoHeight&&(t.autoHeightEnabled=!0,this.editor.enableAutoHeight()),document.documentElement.style.overflow=this._bakHtmlOverflow,document.body.style.overflow=this._bakBodyOverflow,t.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px",window.scrollTo(0,this._bakScrollTop)}if(browser.gecko&&"true"===t.body.contentEditable){var a=document.createElement("input");document.body.appendChild(a),t.body.contentEditable=!1,setTimeout(function(){a.focus(),setTimeout(function(){t.body.contentEditable=!0,t.fireEvent("fullscreenchanged",e),t.selection.getRange().moveToBookmark(i).select(!0),baidu.editor.dom.domUtils.remove(a),e&&window.scroll(0,0)},0)},0)}"true"===t.body.contentEditable&&(this.editor.fireEvent("fullscreenchanged",e),this.triggerLayout())}},_updateFullScreen:function(){if(this._fullscreen){var e=n.getViewportRect();if(this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+e.width+"px;height:"+e.height+"px;z-index:"+(1*this.getDom().style.zIndex+100),n.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0}),this.editor.setHeight(e.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0),!0),browser.gecko)try{window.onresize()}catch(e){}}},_updateElementPath:function(){var e,t=this.getDom("elementpath");if(this.elementPathEnabled&&(e=this.editor.queryCommandValue("elementpath"))){for(var n,i=[],r=0;n=e[r];r++)i[r]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+r+'&quot;);">'+n+"</span>");t.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+this.editor.getLang("elementPathTip")+": "+i.join(" &gt; ")+"</div>"}else t.style.display="none"},disableElementPath:function(){var e=this.getDom("elementpath");e.innerHTML="",e.style.display="none",this.elementPathEnabled=!1},enableElementPath:function(){this.getDom("elementpath").style.display="",this.elementPathEnabled=!0,this._updateElementPath()},_scale:function(){function e(){h=r.getXY(s),m||(m=a.options.minFrameHeight+u.offsetHeight+c.offsetHeight),f.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+s.offsetWidth+"px;height:"+s.offsetHeight+"px;z-index:"+(a.options.zIndex+1),r.on(o,"mousemove",t),r.on(l,"mouseup",n),r.on(o,"mouseup",n)}function t(e){i();var t=e||window.event;v=t.pageX||o.documentElement.scrollLeft+t.clientX,y=t.pageY||o.documentElement.scrollTop+t.clientY,b=v-h.x,x=y-h.y,b>=g&&(p=!0,f.style.width=b+"px"),x>=m&&(p=!0,f.style.height=x+"px")}function n(){p&&(p=!1,a.ui._actualFrameWidth=f.offsetWidth-2,s.style.width=a.ui._actualFrameWidth+"px",a.setHeight(f.offsetHeight-c.offsetHeight-u.offsetHeight-2,!0)),f&&(f.style.display="none"),i(),r.un(o,"mousemove",t),r.un(l,"mouseup",n),r.un(o,"mouseup",n)}function i(){browser.ie?o.selection.clear():window.getSelection().removeAllRanges()}var o=document,a=this.editor,s=a.container,l=a.document,u=this.getDom("toolbarbox"),c=this.getDom("bottombar"),d=this.getDom("scale"),f=this.getDom("scalelayer"),p=!1,h=null,m=0,g=a.options.minFrameWidth,v=0,y=0,b=0,x=0,w=this;this.editor.addListener("fullscreenchanged",function(e,t){if(t)w.disableScale();else if(w.editor.options.scaleEnabled){w.enableScale();var n=w.editor.document.createElement("span");w.editor.body.appendChild(n),w.editor.body.style.height=Math.max(r.getXY(n).y,w.editor.iframe.offsetHeight-20)+"px",r.remove(n)}}),this.enableScale=function(){1!=a.queryCommandState("source")&&(d.style.display="",this.scaleEnabled=!0,r.on(d,"mousedown",e))},this.disableScale=function(){d.style.display="none",this.scaleEnabled=!1,r.un(d,"mousedown",e)}},isFullScreen:function(){return this._fullscreen},postRender:function(){i.prototype.postRender.call(this);for(var e=0;e<this.toolbars.length;e++)this.toolbars[e].postRender();var t,n=this,r=baidu.editor.dom.domUtils,o=function(){clearTimeout(t),t=setTimeout(function(){n._updateFullScreen()})};r.on(window,"resize",o),n.addListener("destroy",function(){r.un(window,"resize",o),clearTimeout(t)})},showToolbarMsg:function(e,t){if(this.getDom("toolbarmsg_label").innerHTML=e,this.getDom("toolbarmsg").style.display="",!t){this.getDom("upload_dialog").style.display="none"}},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(e){return e?e.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function(){var e=this.getDom();"1"==e.style.zoom?e.style.zoom="100%":e.style.zoom="1"}},t.inherits(e,baidu.editor.ui.UIBase);var a={};UE.ui.Editor=function(n){var i=new UE.Editor(n);i.options.editor=i,t.loadFile(document,{href:i.options.themePath+i.options.theme+"/css/ueditor.css",tag:"link",type:"text/css",rel:"stylesheet"});var o=i.render;return i.render=function(n){n.constructor===String&&(i.key=n,a[n]=i),t.domReady(function(){function t(){if(i.setOpt({labelMap:i.options.labelMap||i.getLang("labelMap")}),new e(i.options),n&&(n.constructor===String&&(n=document.getElementById(n)),n&&n.getAttribute("name")&&(i.options.textarea=n.getAttribute("name")),n&&/script|textarea/gi.test(n.tagName))){var t=document.createElement("div");n.parentNode.insertBefore(t,n);var a=n.value||n.innerHTML;i.options.initialContent=/^[\t\r\n ]*$/.test(a)?i.options.initialContent:a.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><"),n.className&&(t.className=n.className),n.style.cssText&&(t.style.cssText=n.style.cssText),/textarea/i.test(n.tagName)?(i.textarea=n,i.textarea.style.display="none"):n.parentNode.removeChild(n),n.id&&(t.id=n.id,r.removeAttributes(n,"id")),n=t,n.innerHTML=""}r.addClass(n,"edui-"+i.options.theme),i.ui.render(n);var s=i.options;i.container=i.ui.getDom();for(var l,u=r.findParents(n,!0),c=[],d=0;l=u[d];d++)c[d]=l.style.display,l.style.display="block";if(s.initialFrameWidth)s.minFrameWidth=s.initialFrameWidth;else{s.minFrameWidth=s.initialFrameWidth=n.offsetWidth;var f=n.style.width;/%$/.test(f)&&(s.initialFrameWidth=f)}s.initialFrameHeight?s.minFrameHeight=s.initialFrameHeight:s.initialFrameHeight=s.minFrameHeight=n.offsetHeight;for(var l,d=0;l=u[d];d++)l.style.display=c[d];n.style.height&&(n.style.height=""),i.container.style.width=s.initialFrameWidth+(/%$/.test(s.initialFrameWidth)?"":"px"),i.container.style.zIndex=s.zIndex,o.call(i,i.ui.getDom("iframeholder")),i.fireEvent("afteruiready")}i.langIsReady?t():i.addListener("langReady",t)})},i},UE.getEditor=function(e,t){var n=a[e];return n||(n=a[e]=new UE.ui.Editor(t),n.render(e)),n},UE.delEditor=function(e){var t;(t=a[e])&&(t.key&&t.destroy(),delete a[e])},UE.registerUI=function(e,n,i,r){t.each(e.split(/\s+/),function(e){UE._customizeUI[e]={id:r,execFn:n,index:i}})}}(),UE.registerUI("message",function(e){function t(){var e=a.ui.getDom("toolbarbox");e&&(n.style.top=e.offsetHeight+3+"px"),n.style.zIndex=Math.max(a.options.zIndex,a.iframe.style.zIndex)+1}var n,i=baidu.editor.ui,r=i.Message,o=[],a=e;a.addListener("ready",function(){n=document.getElementById(a.ui.id+"_message_holder"),t(),setTimeout(function(){t()},500)}),a.addListener("showmessage",function(e,i){i=utils.isString(i)?{content:i}:i;var s=new r({timeout:i.timeout,type:i.type,content:i.content,keepshow:i.keepshow,editor:a}),l=i.id||"msg_"+(+new Date).toString(36);return s.render(n),o[l]=s,s.reset(i),t(),l}),a.addListener("updatemessage",function(e,t,i){i=utils.isString(i)?{content:i}:i;var r=o[t];r.render(n),r&&r.reset(i)}),a.addListener("hidemessage",function(e,t){var n=o[t];n&&n.hide()})}),UE.registerUI("autosave",function(e){var t=null,n=null;e.on("afterautosave",function(){clearTimeout(t),t=setTimeout(function(){n&&e.trigger("hidemessage",n),n=e.trigger("showmessage",{content:e.getLang("autosave.success"),timeout:2e3})},2e3)})})}()}).call(exports,__webpack_require__(956))},956:function(e,t,n){var i,r;/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(e,t,n){n=n||fe;var i,r,o=n.createElement("script");if(o.text=e,t)for(i in ke)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function s(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ye[be.call(e)]||"object":typeof e}function l(e){var t=!!e&&"length"in e&&e.length,n=s(e);return!Ee(e)&&!Te(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function c(e,t,n){return Ee(t)?_e.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?_e.grep(e,function(e){return e===t!==n}):"string"!=typeof t?_e.grep(e,function(e){return ve.call(t,e)>-1!==n}):_e.filter(t,e,n)}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function f(e){var t={};return _e.each(e.match(je)||[],function(e,n){t[n]=!0}),t}function p(e){return e}function h(e){throw e}function m(e,t,n,i){var r;try{e&&Ee(r=e.promise)?r.call(e).done(t).fail(n):e&&Ee(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function g(){fe.removeEventListener("DOMContentLoaded",g),n.removeEventListener("load",g),_e.ready()}function v(e,t){return t.toUpperCase()}function y(e){return e.replace(Fe,"ms-").replace($e,v)}function b(){this.expando=_e.expando+b.uid++}function x(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ye.test(e)?JSON.parse(e):e)}function w(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Xe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=x(n)}catch(e){}We.set(e,t,n)}else n=void 0;return n}function C(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return _e.css(e,t,"")},l=s(),u=n&&n[3]||(_e.cssNumber[t]?"":"px"),c=e.nodeType&&(_e.cssNumber[t]||"px"!==u&&+l)&&Ge.exec(_e.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)_e.style(e,t,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,_e.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function N(e){var t,n=e.ownerDocument,i=e.nodeName,r=it[i];return r||(t=n.body.appendChild(n.createElement(i)),r=_e.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),it[i]=r,r)}function E(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)i=e[o],i.style&&(n=i.style.display,t?("none"===n&&(r[o]=Ve.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&tt(i)&&(r[o]=N(i))):"none"!==n&&(r[o]="none",Ve.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function T(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&u(e,t)?_e.merge([e],n):n}function k(e,t){for(var n=0,i=e.length;n<i;n++)Ve.set(e[n],"globalEval",!t||Ve.get(t[n],"globalEval"))}function _(e,t,n,i,r){for(var o,a,l,u,c,d,f=t.createDocumentFragment(),p=[],h=0,m=e.length;h<m;h++)if((o=e[h])||0===o)if("object"===s(o))_e.merge(p,o.nodeType?[o]:o);else if(lt.test(o)){for(a=a||f.appendChild(t.createElement("div")),l=(ot.exec(o)||["",""])[1].toLowerCase(),u=st[l]||st._default,a.innerHTML=u[1]+_e.htmlPrefilter(o)+u[2],d=u[0];d--;)a=a.lastChild;_e.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",h=0;o=p[h++];)if(i&&_e.inArray(o,i)>-1)r&&r.push(o);else if(c=Je(o),a=T(f.appendChild(o),"script"),c&&k(a),n)for(d=0;o=a[d++];)at.test(o.type||"")&&n.push(o);return f}function S(){return!0}function U(){return!1}function A(e,t){return e===O()==("focus"===t)}function O(){try{return fe.activeElement}catch(e){}}function L(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)L(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=U;else if(!r)return e;return 1===o&&(a=r,r=function(e){return _e().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=_e.guid++)),e.each(function(){_e.event.add(this,t,r,i,n)})}function B(e,t,n){if(!n)return void(void 0===Ve.get(e,t)&&_e.event.add(e,t,S));Ve.set(e,t,!1),_e.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=Ve.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(_e.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=he.call(arguments),Ve.set(this,t,o),i=n(this,t),this[t](),r=Ve.get(this,t),o!==r||i?Ve.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else o.length&&(Ve.set(this,t,{value:_e.event.trigger(_e.extend(o[0],_e.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})}function R(e,t){return u(e,"table")&&u(11!==t.nodeType?t:t.firstChild,"tr")?_e(e).children("tbody")[0]||e:e}function P(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function I(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function D(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(Ve.hasData(e)&&(o=Ve.access(e),a=Ve.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;n<i;n++)_e.event.add(t,r,u[r][n])}We.hasData(e)&&(s=We.access(e),l=_e.extend({},s),We.set(t,l))}}function j(e,t){var n=t.nodeName.toLowerCase();"input"===n&&rt.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function q(e,t,n,i){t=me.apply([],t);var r,o,s,l,u,c,d=0,f=e.length,p=f-1,h=t[0],m=Ee(h);if(m||f>1&&"string"==typeof h&&!Ne.checkClone&&ht.test(h))return e.each(function(r){var o=e.eq(r);m&&(t[0]=h.call(this,r,o.html())),q(o,t,n,i)});if(f&&(r=_(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=_e.map(T(r,"script"),P),l=s.length;d<f;d++)u=r,d!==p&&(u=_e.clone(u,!0,!0),l&&_e.merge(s,T(u,"script"))),n.call(e[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,_e.map(s,I),d=0;d<l;d++)u=s[d],at.test(u.type||"")&&!Ve.access(u,"globalEval")&&_e.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?_e._evalUrl&&!u.noModule&&_e._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):a(u.textContent.replace(mt,""),u,c))}return e}function M(e,t,n){for(var i,r=t?_e.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_e.cleanData(T(i)),i.parentNode&&(n&&Je(i)&&k(T(i,"script")),i.parentNode.removeChild(i));return e}function H(e,t,n){var i,r,o,a,s=e.style;return n=n||vt(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Je(e)||(a=_e.style(e,t)),!Ne.pixelBoxStyles()&&gt.test(a)&&yt.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function F(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function $(e){for(var t=e[0].toUpperCase()+e.slice(1),n=bt.length;n--;)if((e=bt[n]+t)in xt)return e}function z(e){var t=_e.cssProps[e]||wt[e];return t||(e in xt?e:wt[e]=$(e)||e)}function V(e,t,n){var i=Ge.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function W(e,t,n,i,r,o){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=_e.css(e,n+Ze[a],!0,r)),i?("content"===n&&(l-=_e.css(e,"padding"+Ze[a],!0,r)),"margin"!==n&&(l-=_e.css(e,"border"+Ze[a]+"Width",!0,r))):(l+=_e.css(e,"padding"+Ze[a],!0,r),"padding"!==n?l+=_e.css(e,"border"+Ze[a]+"Width",!0,r):s+=_e.css(e,"border"+Ze[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function Y(e,t,n){var i=vt(e),r=!Ne.boxSizingReliable()||n,o=r&&"border-box"===_e.css(e,"boxSizing",!1,i),a=o,s=H(e,t,i),l="offset"+t[0].toUpperCase()+t.slice(1);if(gt.test(s)){if(!n)return s;s="auto"}return(!Ne.boxSizingReliable()&&o||"auto"===s||!parseFloat(s)&&"inline"===_e.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===_e.css(e,"boxSizing",!1,i),(a=l in e)&&(s=e[l])),(s=parseFloat(s)||0)+W(e,t,n||(o?"border":"content"),a,i,s)+"px"}function X(e,t,n,i,r){return new X.prototype.init(e,t,n,i,r)}function K(){_t&&(!1===fe.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(K):n.setTimeout(K,_e.fx.interval),_e.fx.tick())}function G(){return n.setTimeout(function(){kt=void 0}),kt=Date.now()}function Z(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)n=Ze[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Q(e,t,n){for(var i,r=(te.tweeners[t]||[]).concat(te.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function J(e,t,n){var i,r,o,a,s,l,u,c,d="width"in t||"height"in t,f=this,p={},h=e.style,m=e.nodeType&&tt(e),g=Ve.get(e,"fxshow");n.queue||(a=_e._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,_e.queue(e,"fx").length||a.empty.fire()})}));for(i in t)if(r=t[i],St.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||_e.style(e,i)}if((l=!_e.isEmptyObject(t))||!_e.isEmptyObject(p)){d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=g&&g.display,null==u&&(u=Ve.get(e,"display")),c=_e.css(e,"display"),"none"===c&&(u?c=u:(E([e],!0),u=e.style.display||u,c=_e.css(e,"display"),E([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===_e.css(e,"float")&&(l||(f.done(function(){h.display=u}),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(g?"hidden"in g&&(m=g.hidden):g=Ve.access(e,"fxshow",{display:u}),o&&(g.hidden=!m),m&&E([e],!0),f.done(function(){m||E([e]),Ve.remove(e,"fxshow");for(i in p)_e.style(e,i,p[i])})),l=Q(m?g[i]:0,i,f),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}function ee(e,t){var n,i,r,o,a;for(n in e)if(i=y(n),r=t[i],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=_e.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function te(e,t,n){var i,r,o=0,a=te.prefilters.length,s=_e.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=kt||G(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&l?n:(l||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:_e.extend({},t),opts:_e.extend(!0,{specialEasing:{},easing:_e.easing._default},n),originalProperties:t,originalOptions:n,startTime:kt||G(),duration:n.duration,tweens:[],createTween:function(t,n){var i=_e.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(ee(c,u.opts.specialEasing);o<a;o++)if(i=te.prefilters[o].call(u,e,c,u.opts))return Ee(i.stop)&&(_e._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return _e.map(c,Q,u),Ee(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),_e.fx.timer(_e.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function ne(e){return(e.match(je)||[]).join(" ")}function ie(e){return e.getAttribute&&e.getAttribute("class")||""}function re(e){return Array.isArray(e)?e:"string"==typeof e?e.match(je)||[]:[]}function oe(e,t,n,i){var r;if(Array.isArray(t))_e.each(t,function(t,r){n||Mt.test(e)?i(e,r):oe(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==s(t))i(e,t);else for(r in t)oe(e+"["+r+"]",t[r],n,i)}function ae(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(je)||[];if(Ee(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function se(e,t,n,i){function r(s){var l;return o[s]=!0,_e.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===Qt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function le(e,t){var n,i,r=_e.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&_e.extend(!0,e,i),e}function ue(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function ce(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var de=[],fe=n.document,pe=Object.getPrototypeOf,he=de.slice,me=de.concat,ge=de.push,ve=de.indexOf,ye={},be=ye.toString,xe=ye.hasOwnProperty,we=xe.toString,Ce=we.call(Object),Ne={},Ee=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Te=function(e){return null!=e&&e===e.window},ke={type:!0,src:!0,nonce:!0,noModule:!0},_e=function(e,t){return new _e.fn.init(e,t)},Se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_e.fn=_e.prototype={jquery:"3.4.1",constructor:_e,length:0,toArray:function(){return he.call(this)},get:function(e){return null==e?he.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_e.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _e.each(this,e)},map:function(e){return this.pushStack(_e.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(he.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ge,sort:de.sort,splice:de.splice},_e.extend=_e.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Ee(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(u&&i&&(_e.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||_e.isPlainObject(n)?n:{},r=!1,a[t]=_e.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},_e.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==be.call(e))&&(!(t=pe(e))||"function"==typeof(n=xe.call(t,"constructor")&&t.constructor)&&we.call(n)===Ce)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){a(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(l(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Se,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(l(Object(e))?_e.merge(n,"string"==typeof e?[e]:e):ge.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ve.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(l(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return me.apply([],a)},guid:1,support:Ne}),"function"==typeof Symbol&&(_e.fn[Symbol.iterator]=de[Symbol.iterator]),_e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ye["[object "+t+"]"]=t.toLowerCase()});var Ue=/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){function t(e,t,n,i){var r,o,a,s,l,c,f,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:q)!==O&&A(t),t=t||O,B)){if(11!==h&&(l=ve.exec(e)))if(r=l[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&D(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(r)),n}if(x.qsa&&!V[e+" "]&&(!R||!R.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(f=e,p=t,1===h&&ue.test(e)){for((s=t.getAttribute("id"))?s=s.replace(we,Ce):t.setAttribute("id",s=j),c=E(e),o=c.length;o--;)c[o]="#"+s+" "+d(c[o]);f=c.join(","),p=ye.test(e)&&u(t.parentNode)||t}try{return Z.apply(n,p.querySelectorAll(f)),n}catch(t){V(e,!0)}finally{s===j&&t.removeAttribute("id")}}}return k(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[j]=!0,e}function r(e){var t=O.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=H++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,l){var u,c,d,f=[M,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=t[j]||(t[j]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[o])&&u[0]===M&&u[1]===s)return f[2]=u[2];if(c[o]=f,f[2]=e(t,n,l))return!0}return!1}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function h(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function g(e,t,n,r,o,a){return r&&!r[j]&&(r=g(r)),o&&!o[j]&&(o=g(o,a)),i(function(i,a,s,l){var u,c,d,f=[],p=[],g=a.length,v=i||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:m(v,f,e,s,l),b=n?o||(i?e:g||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(u=m(b,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?J(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else b=m(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function v(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return J(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==_)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];s<r;s++)if(n=w.relative[e[s].type])c=[f(p(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[j]){for(i=++s;i<r&&!w.relative[e[i].type];i++);return g(s>1&&p(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<i&&v(e.slice(s,i)),i<r&&v(e=e.slice(i)),i<r&&d(e))}c.push(n)}return p(c)}function y(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,f,p=0,h="0",g=i&&[],v=[],y=_,b=i||o&&w.find.TAG("*",u),x=M+=null==y?1:Math.random()||.1,C=b.length;for(u&&(_=a===O||a||u);h!==C&&null!=(c=b[h]);h++){if(o&&c){for(d=0,a||c.ownerDocument===O||(A(c),s=!B);f=e[d++];)if(f(c,a||O,s)){l.push(c);break}u&&(M=x)}r&&((c=!f&&c)&&p--,i&&g.push(c))}if(p+=h,r&&h!==p){for(d=0;f=n[d++];)f(g,v,a,s);if(i){if(p>0)for(;h--;)g[h]||v[h]||(v[h]=K.call(l));v=m(v)}Z.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(M=x,_=y),g};return r?i(a):a}var b,x,w,C,N,E,T,k,_,S,U,A,O,L,B,R,P,I,D,j="sizzle"+1*new Date,q=e.document,M=0,H=0,F=n(),$=n(),z=n(),V=n(),W=function(e,t){return e===t&&(U=!0),0},Y={}.hasOwnProperty,X=[],K=X.pop,G=X.push,Z=X.push,Q=X.slice,J=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",re=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",oe=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),se=new RegExp("^"+te+"*,"+te+"*"),le=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ue=new RegExp(te+"|>"),ce=new RegExp(re),de=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/HTML$/i,he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ce=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ne=function(){A()},Ee=f(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(X=Q.call(q.childNodes),q.childNodes),X[q.childNodes.length].nodeType}catch(e){Z={apply:X.length?function(e,t){G.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},N=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!pe.test(t||n&&n.nodeName||"HTML")},A=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:q;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,L=O.documentElement,B=!N(O),q!==O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ne,!1):n.attachEvent&&n.attachEvent("onunload",Ne)),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(O.getElementsByClassName),x.getById=r(function(e){return L.appendChild(e).id=j,!O.getElementsByName||!O.getElementsByName(j).length}),x.getById?(w.filter.ID=function(e){var t=e.replace(be,xe);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&B){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(be,xe);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&B){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&B)return t.getElementsByClassName(e)},P=[],R=[],(x.qsa=ge.test(O.querySelectorAll))&&(r(function(e){L.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+j+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||R.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=ge.test(I=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){x.disconnectedMatch=I.call(e,"*"),I.call(e,"[s!='']:x"),P.push("!=",re)}),R=R.length&&new RegExp(R.join("|")),P=P.length&&new RegExp(P.join("|")),t=ge.test(L.compareDocumentPosition),D=t||ge.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return U=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===O||e.ownerDocument===q&&D(q,e)?-1:t===O||t.ownerDocument===q&&D(q,t)?1:S?J(S,e)-J(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return U=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===O?-1:t===O?1:r?-1:o?1:S?J(S,e)-J(S,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===q?-1:l[i]===q?1:0},O):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&A(e),x.matchesSelector&&B&&!V[n+" "]&&(!P||!P.test(n))&&(!R||!R.test(n)))try{var i=I.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){V(n,!0)}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&A(e),D(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&A(e);var n=w.attrHandle[t.toLowerCase()],i=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!B):void 0;return void 0!==i?i:x.attributes||!B?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(we,Ce)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(U=!x.detectDuplicates,S=!x.sortStable&&e.slice(0),e.sort(W),U){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return S=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(be,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(oe," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(f=g,d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],p=u[0]===M&&u[1],b=p&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[M,p,b];break}}else if(y&&(f=t,d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],p=u[0]===M&&u[1],b=p),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[M,b]),f!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=J(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(ae,"$1"));return r[j]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(be,xe),function(t){return(t.textContent||C(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,xe).toLowerCase(),function(t){var n;do{if(n=B?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,E=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=$[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=w.preFilter;s;){i&&!(r=se.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=le.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ae," ")}),s=s.slice(i.length));for(a in w.filter)!(r=fe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):$(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=v(t[n]),o[j]?i.push(o):r.push(o);o=z(e,y(r,i)),o.selector=e}return o},k=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,f=!i&&E(e=c.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&B&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(be,xe),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(be,xe),ye.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&d(o)))return Z.apply(n,i),n;break}}return(c||T(e,f))(i,t,!B,n,!t||ye.test(e)&&u(t.parentNode)||t),n},x.sortStable=j.split("").sort(W).join("")===j,x.detectDuplicates=!!U,A(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);_e.find=Ue,_e.expr=Ue.selectors,_e.expr[":"]=_e.expr.pseudos,_e.uniqueSort=_e.unique=Ue.uniqueSort,_e.text=Ue.getText,_e.isXMLDoc=Ue.isXML,_e.contains=Ue.contains,_e.escapeSelector=Ue.escape;var Ae=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_e(e).is(n))break;i.push(e)}return i},Oe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Le=_e.expr.match.needsContext,Be=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;_e.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_e.find.matchesSelector(i,e)?[i]:[]:_e.find.matches(e,_e.grep(t,function(e){return 1===e.nodeType}))},_e.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(_e(e).filter(function(){for(t=0;t<i;t++)if(_e.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)_e.find(e,r[t],n);return i>1?_e.uniqueSort(n):n},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&Le.test(e)?_e(e):e||[],!1).length}});var Re,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_e.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Re,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Pe.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof _e?t[0]:t,_e.merge(this,_e.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),Be.test(i[1])&&_e.isPlainObject(t))for(i in t)Ee(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=fe.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Ee(e)?void 0!==n.ready?n.ready(e):e(_e):_e.makeArray(e,this)}).prototype=_e.fn,Re=_e(fe);var Ie=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};_e.fn.extend({has:function(e){var t=_e(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(_e.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&_e(e);if(!Le.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&_e.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?_e.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ve.call(_e(e),this[0]):ve.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_e.uniqueSort(_e.merge(this.get(),_e(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_e.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ae(e,"parentNode")},parentsUntil:function(e,t,n){return Ae(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return Ae(e,"nextSibling")},prevAll:function(e){return Ae(e,"previousSibling")},nextUntil:function(e,t,n){return Ae(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ae(e,"previousSibling",n)},siblings:function(e){return Oe((e.parentNode||{}).firstChild,e)},children:function(e){return Oe(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(u(e,"template")&&(e=e.content||e),_e.merge([],e.childNodes))}},function(e,t){_e.fn[e]=function(n,i){var r=_e.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_e.filter(i,r)),this.length>1&&(De[e]||_e.uniqueSort(r),Ie.test(e)&&r.reverse()),this.pushStack(r)}});var je=/[^\x20\t\r\n\f]+/g;_e.Callbacks=function(e){e="string"==typeof e?f(e):_e.extend({},e);var t,n,i,r,o=[],a=[],l=-1,u=function(){for(r=r||e.once,i=t=!0;a.length;l=-1)for(n=a.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(l=o.length-1,a.push(n)),function t(n){_e.each(n,function(n,i){Ee(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==s(i)&&t(i)})}(arguments),n&&!t&&u()),this},remove:function(){return _e.each(arguments,function(e,t){for(var n;(n=_e.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(e){return e?_e.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},_e.extend({Deferred:function(e){var t=[["notify","progress",_e.Callbacks("memory"),_e.Callbacks("memory"),2],["resolve","done",_e.Callbacks("once memory"),_e.Callbacks("once memory"),0,"resolved"],["reject","fail",_e.Callbacks("once memory"),_e.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _e.Deferred(function(n){_e.each(t,function(t,i){var r=Ee(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&Ee(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,i,r){function o(e,t,i,r){return function(){var s=this,l=arguments,u=function(){var n,u;if(!(e<a)){if((n=i.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,Ee(u)?r?u.call(n,o(a,t,p,r),o(a,t,h,r)):(a++,u.call(n,o(a,t,p,r),o(a,t,h,r),o(a,t,p,t.notifyWith))):(i!==p&&(s=void 0,l=[n]),(r||t.resolveWith)(s,l))}},c=r?u:function(){try{u()}catch(n){_e.Deferred.exceptionHook&&_e.Deferred.exceptionHook(n,c.stackTrace),e+1>=a&&(i!==h&&(s=void 0,l=[n]),t.rejectWith(s,l))}};e?c():(_e.Deferred.getStackHook&&(c.stackTrace=_e.Deferred.getStackHook()),n.setTimeout(c))}}var a=0;return _e.Deferred(function(n){t[0][3].add(o(0,n,Ee(r)?r:p,n.notifyWith)),t[1][3].add(o(0,n,Ee(e)?e:p)),t[2][3].add(o(0,n,Ee(i)?i:h))}).promise()},promise:function(e){return null!=e?_e.extend(e,r):r}},o={};return _e.each(t,function(e,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=he.call(arguments),o=_e.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?he.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(m(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||Ee(r[n]&&r[n].then)))return o.then();for(;n--;)m(r[n],a(n),o.reject);return o.promise()}});var qe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_e.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&qe.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},_e.readyException=function(e){n.setTimeout(function(){throw e})};var Me=_e.Deferred();_e.fn.ready=function(e){return Me.then(e).catch(function(e){_e.readyException(e)}),this},_e.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_e.readyWait:_e.isReady)||(_e.isReady=!0,!0!==e&&--_e.readyWait>0||Me.resolveWith(fe,[_e]))}}),_e.ready.then=Me.then,"complete"===fe.readyState||"loading"!==fe.readyState&&!fe.documentElement.doScroll?n.setTimeout(_e.ready):(fe.addEventListener("DOMContentLoaded",g),n.addEventListener("load",g));var He=function(e,t,n,i,r,o,a){var l=0,u=e.length,c=null==n;if("object"===s(n)){r=!0;for(l in n)He(e,t,l,n[l],!0,o,a)}else if(void 0!==i&&(r=!0,Ee(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(_e(e),n)})),t))for(;l<u;l++)t(e[l],n,a?i:i.call(e[l],l,t(e[l],n)));return r?e:c?t.call(e):u?t(e[0],n):o},Fe=/^-ms-/,$e=/-([a-z])/g,ze=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};b.uid=1,b.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ze(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[y(t)]=n;else for(i in t)r[y(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){Array.isArray(t)?t=t.map(y):(t=y(t),t=t in i?[t]:t.match(je)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||_e.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_e.isEmptyObject(t)}};var Ve=new b,We=new b,Ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xe=/[A-Z]/g;_e.extend({hasData:function(e){return We.hasData(e)||Ve.hasData(e)},data:function(e,t,n){return We.access(e,t,n)},removeData:function(e,t){We.remove(e,t)},_data:function(e,t,n){return Ve.access(e,t,n)},_removeData:function(e,t){Ve.remove(e,t)}}),_e.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=We.get(o),1===o.nodeType&&!Ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=y(i.slice(5)),w(o,i,r[i])));Ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){We.set(this,e)}):He(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=We.get(o,e)))return n;if(void 0!==(n=w(o,e)))return n}else this.each(function(){We.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){We.remove(this,e)})}}),_e.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Ve.get(e,t),n&&(!i||Array.isArray(n)?i=Ve.access(e,t,_e.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=_e.queue(e,t),i=n.length,r=n.shift(),o=_e._queueHooks(e,t),a=function(){_e.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ve.get(e,n)||Ve.access(e,n,{empty:_e.Callbacks("once memory").add(function(){Ve.remove(e,[t+"queue",n])})})}}),_e.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_e.queue(this[0],e):void 0===t?this:this.each(function(){var n=_e.queue(this,e,t);_e._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_e.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_e.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=_e.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Ve.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ge=new RegExp("^(?:([+-])=|)("+Ke+")([a-z%]*)$","i"),Ze=["Top","Right","Bottom","Left"],Qe=fe.documentElement,Je=function(e){return _e.contains(e.ownerDocument,e)},et={composed:!0};Qe.getRootNode&&(Je=function(e){return _e.contains(e.ownerDocument,e)||e.getRootNode(et)===e.ownerDocument});var tt=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Je(e)&&"none"===_e.css(e,"display")},nt=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},it={};_e.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){tt(this)?_e(this).show():_e(this).hide()})}});var rt=/^(?:checkbox|radio)$/i,ot=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,at=/^$|^module$|\/(?:java|ecma)script/i,st={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};st.optgroup=st.option,st.tbody=st.tfoot=st.colgroup=st.caption=st.thead,st.th=st.td;var lt=/<|&#?\w+;/;!function(){var e=fe.createDocumentFragment(),t=e.appendChild(fe.createElement("div")),n=fe.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ut=/^key/,ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,dt=/^([^.]*)(?:\.(.+)|)/;_e.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,p,h,m,g=Ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&_e.find.matchesSelector(Qe,r),n.guid||(n.guid=_e.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==_e&&_e.event.triggered!==t.type?_e.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],u=t.length;u--;)s=dt.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p&&(d=_e.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=_e.event.special[p]||{},c=_e.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_e.expr.match.needsContext.test(r),namespace:h.join(".")},o),(f=l[p])||(f=l[p]=[],f.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,h,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),_e.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,p,h,m,g=Ve.hasData(e)&&Ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(je)||[""],u=t.length;u--;)if(s=dt.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=_e.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,f=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||_e.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)_e.event.remove(e,p+t[u],n,i,!0);_e.isEmptyObject(l)&&Ve.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=_e.event.fix(e),l=new Array(arguments.length),u=(Ve.get(this,"events")||{})[s.type]||[],c=_e.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=_e.event.handlers.call(this,s,u),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((_e.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)i=t[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?_e(r,this).index(u)>-1:_e.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(_e.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ee(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_e.expando]?e:new _e.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return rt.test(t.type)&&t.click&&u(t,"input")&&B(t,"click",S),!1},trigger:function(e){var t=this||e;return rt.test(t.type)&&t.click&&u(t,"input")&&B(t,"click"),!0},_default:function(e){var t=e.target;return rt.test(t.type)&&t.click&&u(t,"input")&&Ve.get(t,"click")||u(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_e.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_e.Event=function(e,t){if(!(this instanceof _e.Event))return new _e.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:U,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_e.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_e.expando]=!0},_e.Event.prototype={constructor:_e.Event,isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=S,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=S,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=S,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ut.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ct.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_e.event.addProp),_e.each({focus:"focusin",blur:"focusout"},function(e,t){_e.event.special[e]={setup:function(){return B(this,e,A),!1},trigger:function(){return B(this,e),!0},delegateType:t}}),_e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){_e.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||_e.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),_e.fn.extend({on:function(e,t,n,i){return L(this,e,t,n,i)},one:function(e,t,n,i){return L(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_e(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=U),this.each(function(){_e.event.remove(this,e,n,t)})}});var ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,pt=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;_e.extend({htmlPrefilter:function(e){return e.replace(ft,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=Je(e);if(!(Ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_e.isXMLDoc(e)))for(a=T(s),o=T(e),i=0,r=o.length;i<r;i++)j(o[i],a[i]);if(t)if(n)for(o=o||T(e),a=a||T(s),i=0,r=o.length;i<r;i++)D(o[i],a[i]);else D(e,s);return a=T(s,"script"),a.length>0&&k(a,!l&&T(e,"script")),s},cleanData:function(e){for(var t,n,i,r=_e.event.special,o=0;void 0!==(n=e[o]);o++)if(ze(n)){if(t=n[Ve.expando]){if(t.events)for(i in t.events)r[i]?_e.event.remove(n,i):_e.removeEvent(n,i,t.handle);n[Ve.expando]=void 0}n[We.expando]&&(n[We.expando]=void 0)}}}),_e.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return He(this,function(e){return void 0===e?_e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return q(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){R(this,e).appendChild(e)}})},prepend:function(){return q(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=R(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return q(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return q(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_e.cleanData(T(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _e.clone(this,e,t)})},html:function(e){return He(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!pt.test(e)&&!st[(ot.exec(e)||["",""])[1].toLowerCase()]){e=_e.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(_e.cleanData(T(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return q(this,arguments,function(t){var n=this.parentNode;_e.inArray(this,e)<0&&(_e.cleanData(T(this)),n&&n.replaceChild(t,this))},e)}}),_e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_e.fn[e]=function(e){for(var n,i=[],r=_e(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),_e(r[a])[t](n),ge.apply(i,n.get());return this.pushStack(i)}});var gt=new RegExp("^("+Ke+")(?!px)[a-z%]+$","i"),vt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},yt=new RegExp(Ze.join("|"),"i");!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Qe.appendChild(l).appendChild(u);var e=n.getComputedStyle(u);i="1%"!==e.top,s=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),Qe.removeChild(l),u=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,a,s,l=fe.createElement("div"),u=fe.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",Ne.clearCloneStyle="content-box"===u.style.backgroundClip,_e.extend(Ne,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o}}))}();var bt=["Webkit","Moz","ms"],xt=fe.createElement("div").style,wt={},Ct=/^(none|table(?!-c[ea]).+)/,Nt=/^--/,Et={position:"absolute",visibility:"hidden",display:"block"},Tt={letterSpacing:"0",fontWeight:"400"};_e.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=H(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=y(t),l=Nt.test(t),u=e.style;if(l||(t=z(s)),a=_e.cssHooks[t]||_e.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];o=typeof n,"string"===o&&(r=Ge.exec(n))&&r[1]&&(n=C(e,t,r),o="number"),null!=n&&n===n&&("number"!==o||l||(n+=r&&r[3]||(_e.cssNumber[s]?"":"px")),Ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,a,s=y(t);return Nt.test(t)||(t=z(s)),a=_e.cssHooks[t]||_e.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=H(e,t,i)),"normal"===r&&t in Tt&&(r=Tt[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_e.each(["height","width"],function(e,t){_e.cssHooks[t]={get:function(e,n,i){if(n)return!Ct.test(_e.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Y(e,t,i):nt(e,Et,function(){return Y(e,t,i)})},set:function(e,n,i){var r,o=vt(e),a=!Ne.scrollboxSize()&&"absolute"===o.position,s=a||i,l=s&&"border-box"===_e.css(e,"boxSizing",!1,o),u=i?W(e,t,i,l,o):0;return l&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-W(e,t,"border",!1,o)-.5)),u&&(r=Ge.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=_e.css(e,t)),V(e,n,u)}}}),_e.cssHooks.marginLeft=F(Ne.reliableMarginLeft,function(e,t){if(t)return(parseFloat(H(e,"marginLeft"))||e.getBoundingClientRect().left-nt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),_e.each({margin:"",padding:"",border:"Width"},function(e,t){_e.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Ze[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(_e.cssHooks[e+t].set=V)}),_e.fn.extend({css:function(e,t){return He(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=vt(e),r=t.length;a<r;a++)o[t[a]]=_e.css(e,t[a],!1,i);return o}return void 0!==n?_e.style(e,t,n):_e.css(e,t)},e,t,arguments.length>1)}}),_e.Tween=X,X.prototype={constructor:X,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||_e.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_e.cssNumber[n]?"":"px")},cur:function(){var e=X.propHooks[this.prop];return e&&e.get?e.get(this):X.propHooks._default.get(this)},run:function(e){var t,n=X.propHooks[this.prop];return this.options.duration?this.pos=t=_e.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):X.propHooks._default.set(this),this}},X.prototype.init.prototype=X.prototype,X.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_e.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){_e.fx.step[e.prop]?_e.fx.step[e.prop](e):1!==e.elem.nodeType||!_e.cssHooks[e.prop]&&null==e.elem.style[z(e.prop)]?e.elem[e.prop]=e.now:_e.style(e.elem,e.prop,e.now+e.unit)}}},X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_e.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_e.fx=X.prototype.init,_e.fx.step={};var kt,_t,St=/^(?:toggle|show|hide)$/,Ut=/queueHooks$/;_e.Animation=_e.extend(te,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return C(n.elem,e,Ge.exec(t),n),n}]},tweener:function(e,t){Ee(e)?(t=e,e=["*"]):e=e.match(je);for(var n,i=0,r=e.length;i<r;i++)n=e[i],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(t)},prefilters:[J],prefilter:function(e,t){t?te.prefilters.unshift(e):te.prefilters.push(e)}}),_e.speed=function(e,t,n){var i=e&&"object"==typeof e?_e.extend({},e):{complete:n||!n&&t||Ee(e)&&e,duration:e,easing:n&&t||t&&!Ee(t)&&t};return _e.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _e.fx.speeds?i.duration=_e.fx.speeds[i.duration]:i.duration=_e.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){Ee(i.old)&&i.old.call(this),i.queue&&_e.dequeue(this,i.queue)},i},_e.fn.extend({fadeTo:function(e,t,n,i){return this.filter(tt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=_e.isEmptyObject(e),o=_e.speed(t,n,i),a=function(){var t=te(this,_e.extend({},e),o);(r||Ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=_e.timers,a=Ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&Ut.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||_e.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Ve.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=_e.timers,a=i?i.length:0;for(n.finish=!0,_e.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),_e.each(["toggle","show","hide"],function(e,t){var n=_e.fn[t];_e.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Z(t,!0),e,i,r)}}),_e.each({slideDown:Z("show"),slideUp:Z("hide"),slideToggle:Z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_e.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),_e.timers=[],_e.fx.tick=function(){var e,t=0,n=_e.timers;for(kt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_e.fx.stop(),kt=void 0},_e.fx.timer=function(e){_e.timers.push(e),_e.fx.start()},_e.fx.interval=13,_e.fx.start=function(){_t||(_t=!0,K())},_e.fx.stop=function(){_t=null},_e.fx.speeds={slow:600,fast:200,_default:400},_e.fn.delay=function(e,t){return e=_e.fx?_e.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=fe.createElement("input"),t=fe.createElement("select"),n=t.appendChild(fe.createElement("option"));e.type="checkbox",Ne.checkOn=""!==e.value,Ne.optSelected=n.selected,e=fe.createElement("input"),e.value="t",e.type="radio",Ne.radioValue="t"===e.value}();var At,Ot=_e.expr.attrHandle;_e.fn.extend({attr:function(e,t){return He(this,_e.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_e.removeAttr(this,e)})}}),_e.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?_e.prop(e,t,n):(1===o&&_e.isXMLDoc(e)||(r=_e.attrHooks[t.toLowerCase()]||(_e.expr.match.bool.test(t)?At:void 0)),void 0!==n?null===n?void _e.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=_e.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!Ne.radioValue&&"radio"===t&&u(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(je);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),At={set:function(e,t,n){return!1===t?_e.removeAttr(e,n):e.setAttribute(n,n),n}},_e.each(_e.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ot[t]||_e.find.attr;Ot[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=Ot[a],Ot[a]=r,r=null!=n(e,t,i)?a:null,Ot[a]=o),r}});var Lt=/^(?:input|select|textarea|button)$/i,Bt=/^(?:a|area)$/i;_e.fn.extend({prop:function(e,t){return He(this,_e.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[_e.propFix[e]||e]})}}),_e.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_e.isXMLDoc(e)||(t=_e.propFix[t]||t,r=_e.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=_e.find.attr(e,"tabindex");return t?parseInt(t,10):Lt.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ne.optSelected||(_e.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_e.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_e.propFix[this.toLowerCase()]=this}),_e.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(Ee(e))return this.each(function(t){_e(this).addClass(e.call(this,t,ie(this)))});if(t=re(e),t.length)for(;n=this[l++];)if(r=ie(n),i=1===n.nodeType&&" "+ne(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=ne(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(Ee(e))return this.each(function(t){_e(this).removeClass(e.call(this,t,ie(this)))});if(!arguments.length)return this.attr("class","");if(t=re(e),t.length)for(;n=this[l++];)if(r=ie(n),i=1===n.nodeType&&" "+ne(r)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=ne(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):Ee(e)?this.each(function(n){_e(this).toggleClass(e.call(this,n,ie(this),t),t)}):this.each(function(){var t,r,o,a;if(i)for(r=0,o=_e(this),a=re(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=ie(this),t&&Ve.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ve.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+ne(ie(n))+" ").indexOf(t)>-1)return!0;return!1}});var Rt=/\r/g;_e.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=Ee(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,_e(this).val()):e,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_e.map(r,function(e){return null==e?"":e+""})),(t=_e.valHooks[this.type]||_e.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return(t=_e.valHooks[r.type]||_e.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Rt,""):null==n?"":n)}}}),_e.extend({valHooks:{option:{get:function(e){var t=_e.find.attr(e,"value");return null!=t?t:ne(_e.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,"optgroup"))){if(t=_e(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=_e.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=_e.inArray(_e.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),_e.each(["radio","checkbox"],function(){_e.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_e.inArray(_e(e).val(),t)>-1}},Ne.checkOn||(_e.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Ne.focusin="onfocusin"in n;var Pt=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};_e.extend(_e.event,{trigger:function(e,t,i,r){var o,a,s,l,u,c,d,f,p=[i||fe],h=xe.call(e,"type")?e.type:e,m=xe.call(e,"namespace")?e.namespace.split("."):[];if(a=f=s=i=i||fe,3!==i.nodeType&&8!==i.nodeType&&!Pt.test(h+_e.event.triggered)&&(h.indexOf(".")>-1&&(m=h.split("."),h=m.shift(),m.sort()),u=h.indexOf(":")<0&&"on"+h,e=e[_e.expando]?e:new _e.Event(h,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:_e.makeArray(t,[e]),d=_e.event.special[h]||{},r||!d.trigger||!1!==d.trigger.apply(i,t))){if(!r&&!d.noBubble&&!Te(i)){for(l=d.delegateType||h,Pt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||fe)&&p.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)f=a,e.type=o>1?l:d.bindType||h,c=(Ve.get(a,"events")||{})[e.type]&&Ve.get(a,"handle"),c&&c.apply(a,t),(c=u&&a[u])&&c.apply&&ze(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!ze(i)||u&&Ee(i[h])&&!Te(i)&&(s=i[u],s&&(i[u]=null),_e.event.triggered=h,e.isPropagationStopped()&&f.addEventListener(h,It),i[h](),e.isPropagationStopped()&&f.removeEventListener(h,It),_e.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(e,t,n){var i=_e.extend(new _e.Event,n,{type:e,isSimulated:!0});_e.event.trigger(i,null,t)}}),_e.fn.extend({trigger:function(e,t){return this.each(function(){_e.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return _e.event.trigger(e,t,n,!0)}}),Ne.focusin||_e.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){_e.event.simulate(t,e.target,_e.event.fix(e))};_e.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Ve.access(i,t);r||i.addEventListener(e,n,!0),Ve.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ve.access(i,t)-1;r?Ve.access(i,t,r):(i.removeEventListener(e,n,!0),Ve.remove(i,t))}}});var Dt=n.location,jt=Date.now(),qt=/\?/;_e.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||_e.error("Invalid XML: "+e),t};var Mt=/\[\]$/,Ht=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;_e.param=function(e,t){var n,i=[],r=function(e,t){var n=Ee(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_e.isPlainObject(e))_e.each(e,function(){r(this.name,this.value)});else for(n in e)oe(n,e[n],t,r);return i.join("&")},_e.fn.extend({serialize:function(){return _e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_e.prop(this,"elements");return e?_e.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_e(this).is(":disabled")&&$t.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!rt.test(e))}).map(function(e,t){var n=_e(this).val();return null==n?null:Array.isArray(n)?_e.map(n,function(e){return{name:t.name,value:e.replace(Ht,"\r\n")}}):{name:t.name,value:n.replace(Ht,"\r\n")}}).get()}});var zt=/%20/g,Vt=/#.*$/,Wt=/([?&])_=[^&]*/,Yt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Gt=/^\/\//,Zt={},Qt={},Jt="*/".concat("*"),en=fe.createElement("a");en.href=Dt.href,_e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:Xt.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?le(le(e,_e.ajaxSettings),t):le(_e.ajaxSettings,e)},ajaxPrefilter:ae(Zt),ajaxTransport:ae(Qt),ajax:function(e,t){function i(e,t,i,s){var u,f,p,x,w,C=t;c||(c=!0,l&&n.clearTimeout(l),r=void 0,a=s||"",N.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(x=ue(h,N,i)),x=ce(h,x,N,u),u?(h.ifModified&&(w=N.getResponseHeader("Last-Modified"),w&&(_e.lastModified[o]=w),(w=N.getResponseHeader("etag"))&&(_e.etag[o]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=x.state,f=x.data,p=x.error,u=!p)):(p=C,!e&&C||(C="error",e<0&&(e=0))),N.status=e,N.statusText=(t||C)+"",u?v.resolveWith(m,[f,C,N]):v.rejectWith(m,[N,C,p]),N.statusCode(b),b=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[N,h,u?f:p]),y.fireWith(m,[N,C]),d&&(g.trigger("ajaxComplete",[N,h]),--_e.active||_e.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,a,s,l,u,c,d,f,p,h=_e.ajaxSetup({},t),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?_e(m):_e.event,v=_e.Deferred(),y=_e.Callbacks("once memory"),b=h.statusCode||{},x={},w={},C="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Yt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)N.always(e[N.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),i(0,t),this}};if(v.promise(N),h.url=((e||h.url||Dt.href)+"").replace(Gt,Dt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(je)||[""],null==h.crossDomain){u=fe.createElement("a");try{u.href=h.url,u.href=u.href,h.crossDomain=en.protocol+"//"+en.host!=u.protocol+"//"+u.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=_e.param(h.data,h.traditional)),se(Zt,h,t,N),c)return N;d=_e.event&&h.global,d&&0==_e.active++&&_e.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Kt.test(h.type),o=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(zt,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(qt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Wt,"$1"),p=(qt.test(o)?"&":"?")+"_="+jt+++p),h.url=o+p),h.ifModified&&(_e.lastModified[o]&&N.setRequestHeader("If-Modified-Since",_e.lastModified[o]),_e.etag[o]&&N.setRequestHeader("If-None-Match",_e.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&N.setRequestHeader("Content-Type",h.contentType),N.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Jt+"; q=0.01":""):h.accepts["*"]);for(f in h.headers)N.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(m,N,h)||c))return N.abort();if(C="abort",y.add(h.complete),N.done(h.success),N.fail(h.error),r=se(Qt,h,t,N)){if(N.readyState=1,d&&g.trigger("ajaxSend",[N,h]),c)return N;h.async&&h.timeout>0&&(l=n.setTimeout(function(){N.abort("timeout")},h.timeout));try{c=!1,r.send(x,i)}catch(e){if(c)throw e;i(-1,e)}}else i(-1,"No Transport");return N},getJSON:function(e,t,n){return _e.get(e,t,n,"json")},getScript:function(e,t){return _e.get(e,void 0,t,"script")}}),_e.each(["get","post"],function(e,t){_e[t]=function(e,n,i,r){return Ee(n)&&(r=r||i,i=n,n=void 0),_e.ajax(_e.extend({url:e,type:t,dataType:r,data:n,success:i},_e.isPlainObject(e)&&e))}}),_e._evalUrl=function(e,t){return _e.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_e.globalEval(e,t)}})},_e.fn.extend({wrapAll:function(e){var t;return this[0]&&(Ee(e)&&(e=e.call(this[0])),t=_e(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Ee(e)?this.each(function(t){_e(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_e(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Ee(e);return this.each(function(n){_e(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_e(this).replaceWith(this.childNodes)}),this}}),_e.expr.pseudos.hidden=function(e){return!_e.expr.pseudos.visible(e)},_e.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_e.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var tn={0:200,1223:204},nn=_e.ajaxSettings.xhr();Ne.cors=!!nn&&"withCredentials"in nn,Ne.ajax=nn=!!nn,_e.ajaxTransport(function(e){var t,i;if(Ne.cors||nn&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(tn[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),_e.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _e.globalEval(e),e}}}),_e.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_e.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(i,r){t=_e("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),fe.head.appendChild(t[0])},abort:function(){n&&n()}}}});var rn=[],on=/(=)\?(?=&|$)|\?\?/;_e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=rn.pop()||_e.expando+"_"+jt++;return this[e]=!0,e}}),_e.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,a,s=!1!==e.jsonp&&(on.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&on.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=Ee(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(on,"$1"+r):!1!==e.jsonp&&(e.url+=(qt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||_e.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?_e(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,rn.push(r)),a&&Ee(o)&&o(a[0]),a=o=void 0}),"script"}),Ne.createHTMLDocument=function(){var e=fe.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),_e.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,r,o;return t||(Ne.createHTMLDocument?(t=fe.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=fe.location.href,t.head.appendChild(i)):t=fe),r=Be.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=_([e],t,o),o&&o.length&&_e(o).remove(),_e.merge([],r.childNodes))},_e.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=ne(e.slice(s)),e=e.slice(0,s)),Ee(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&_e.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?_e("<div>").append(_e.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},_e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_e.fn[t]=function(e){return this.on(t,e)}}),_e.expr.pseudos.animated=function(e){return _e.grep(_e.timers,function(t){return e===t.elem}).length},_e.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=_e.css(e,"position"),d=_e(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=_e.css(e,"top"),l=_e.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),Ee(t)&&(t=t.call(e,n,_e.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):d.css(f)}},_e.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_e.offset.setOffset(this,e,t)});var t,n,i=this[0];if(i)return i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===_e.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_e.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&(r=_e(e).offset(),r.top+=_e.css(e,"borderTopWidth",!0),r.left+=_e.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_e.css(i,"marginTop",!0),left:t.left-r.left-_e.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_e.css(e,"position");)e=e.offsetParent;return e||Qe})}}),_e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;_e.fn[e]=function(i){return He(this,function(e,i,r){var o;if(Te(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),_e.each(["top","left"],function(e,t){_e.cssHooks[t]=F(Ne.pixelPosition,function(e,n){if(n)return n=H(e,t),gt.test(n)?_e(e).position()[t]+"px":n})}),_e.each({Height:"height",Width:"width"},function(e,t){_e.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){_e.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return He(this,function(t,n,r){var o;return Te(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?_e.css(t,n,s):_e.style(t,n,r,s)},t,a?r:void 0,a)}})}),_e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){_e.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),_e.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_e.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),_e.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),Ee(e))return i=he.call(arguments,2),r=function(){return e.apply(t||this,i.concat(he.call(arguments)))},r.guid=e.guid=e.guid||_e.guid++,r},_e.holdReady=function(e){e?_e.readyWait++:_e.ready(!0)},_e.isArray=Array.isArray,_e.parseJSON=JSON.parse,_e.nodeName=u,_e.isFunction=Ee,_e.isWindow=Te,_e.camelCase=y,_e.type=s,_e.now=Date.now,_e.isNumeric=function(e){var t=_e.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},i=[],void 0!==(r=function(){return _e}.apply(t,i))&&(e.exports=r);var an=n.jQuery,sn=n.$;return _e.noConflict=function(e){return n.$===_e&&(n.$=sn),e&&n.jQuery===_e&&(n.jQuery=an),_e},o||(n.jQuery=n.$=_e),_e})},957:function(e,t,n){"use strict";UE.I18N["zh-cn"]={labelMap:{anchor:"",undo:"",redo:"",bold:"",indent:"",snapscreen:"",italic:"",underline:"",strikethrough:"",subscript:"",fontborder:"",superscript:"",formatmatch:"",source:"",blockquote:"",pasteplain:"",selectall:"",print:"",preview:"",horizontal:"",removeformat:"",time:"",date:"",unlink:"",insertrow:"",insertcol:"",mergeright:"",mergedown:"",deleterow:"",deletecol:"",splittorows:"",splittocols:"",splittocells:"",deletecaption:"",inserttitle:"",mergecells:"",deletetable:"",cleardoc:"",insertparagraphbeforetable:"",insertcode:"",fontfamily:"",fontsize:"",paragraph:"",simpleupload:"",insertimage:"",edittable:"",edittd:"",link:"",emotion:"",spechars:"",searchreplace:"",map:"Baidu",gmap:"Google",insertvideo:"",help:"",justifyleft:"",justifyright:"",justifycenter:"",justifyjustify:"",forecolor:"",backcolor:"",insertorderedlist:"",insertunorderedlist:"",fullscreen:"",directionalityltr:"",directionalityrtl:"",rowspacingtop:"",rowspacingbottom:"",pagebreak:"",insertframe:"Iframe",imagenone:"",imageleft:"",imageright:"",attachment:"",imagecenter:"",wordimage:"",lineheight:"",edittip:"",customstyle:"",autotypeset:"",webapp:"",touppercase:"",tolowercase:"",background:"",template:"",scrawl:"",music:"",inserttable:"",drafts:"",charts:""},insertorderedlist:{num:"1,2,3...",num1:"1),2),3)...",num2:"(1),(2),(3)...",cn:",,....",cn1:"),),)....",cn2:"(),(),()....",decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:" ",disc:" ",square:"  ",dash:" ",dot:"  "},paragraph:{p:"",h1:" 1",h2:" 2",h3:" 3",h4:" 4",h5:" 5",h6:" 6"},fontfamily:{songti:"",kaiti:"",heiti:"",lishu:"",yahei:"",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},customstyle:{tc:"",tl:"",im:"",hi:""},autoupload:{exceedSizeError:"",exceedTypeError:"",jsonEncodeError:"",loading:"...",loadError:"",errorLoadConfig:""},simpleupload:{exceedSizeError:"",exceedTypeError:"",jsonEncodeError:"",loading:"...",loadError:"",errorLoadConfig:""},elementPathTip:"",wordCountTip:"",wordCountMsg:"{#count}, {#leave} ",wordOverFlowMsg:'<span style="color:red;"></span>',ok:"",cancel:"",closeDialog:"",tableDrag:"uiUtils.js",autofloatMsg:"UIUI!",loadconfigError:"",loadconfigFormatError:"",loadconfigHttpError:"http",snapScreen_plugin:{browserMsg:"IE",callBackErrorMsg:"",uploadErrorMsg:"! "},insertcode:{as3:"ActionScript 3",bash:"Bash/Shell",cpp:"C/C++",css:"CSS",cf:"ColdFusion","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"HTML",java:"Java",jfx:"JavaFX",js:"JavaScript",pl:"Perl",php:"PHP",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",vb:"Visual Basic",xml:"XML"},confirmClear:"",contextMenu:{delete:"",selectall:"",deletecode:"",cleardoc:"",confirmclear:"",unlink:"",paragraph:"",edittable:"",aligntd:"",aligntable:"",tableleft:"",tablecenter:"",tableright:"",edittd:"",setbordervisible:"",justifyleft:"",justifyright:"",justifycenter:"",justifyjustify:"",table:"",inserttable:"",deletetable:"",insertparagraphbefore:"",insertparagraphafter:"",deleterow:"",deletecol:"",insertrow:"",insertcol:"",insertrownext:"",insertcolnext:"",insertcaption:"",deletecaption:"",inserttitle:"",deletetitle:"",inserttitlecol:"",deletetitlecol:"",averageDiseRow:"",averageDisCol:"",mergeright:"",mergeleft:"",mergedown:"",mergecells:"",splittocells:"",splittocols:"",splittorows:"",tablesort:"",enablesort:"",disablesort:"",reversecurrent:"",orderbyasc:"ASCII",reversebyasc:"ASCII",orderbynum:"",reversebynum:"",borderbk:"",setcolor:"",unsetcolor:"",setbackground:"",unsetbackground:"",redandblue:"",threecolorgradient:"",copy:"(Ctrl + c)",copymsg:", 'Ctrl + c'",paste:"(Ctrl + v)",pastemsg:", 'Ctrl + v'"},copymsg:", 'Ctrl + c'",pastemsg:", 'Ctrl + v'",anthorMsg:"",clearColor:"",standardColor:"",themeColor:"",property:"",default:"",modify:"",justifyleft:"",justifyright:"",justifycenter:"",justify:"",clear:"",anchorMsg:"",delete:"",clickToUpload:"",unset:"",t_row:"",t_col:"",more:"",pasteOpt:"",pasteSourceFormat:"",tagFormat:"",pasteTextFormat:"",autoTypeSet:{mergeLine:"",delLine:"",removeFormat:"",indent:"",alignment:"",imageFloat:"",removeFontsize:"",removeFontFamily:"",removeHtml:"HTML",pasteFilter:"",run:"",symbol:"",bdc2sb:"",tobdc:""},background:{static:{lang_background_normal:"",lang_background_local:"",lang_background_set:"",lang_background_none:"",lang_background_colored:"",lang_background_color:"",lang_background_netimg:"",lang_background_align:"",lang_background_position:"",repeatType:{options:["","","","",""]}},noUploadImage:"",toggleSelect:"\n: "},insertimage:{static:{lang_tab_remote:"",lang_tab_upload:"",lang_tab_online:"",lang_tab_search:"",lang_input_url:" ",lang_input_size:" ",lang_input_width:"",lang_input_height:"",lang_input_border:" ",lang_input_vhspace:" ",lang_input_title:" ",lang_input_align:"",lang_imgLoading:"",lang_start_upload:"",lock:{title:""},searchType:{title:"",options:["","","",""]},searchTxt:{value:""},searchBtn:{value:""},searchReset:{value:""},noneAlign:{title:""},leftAlign:{title:""},rightAlign:{title:""},centerAlign:{title:""}},uploadSelectFile:"",uploadAddFile:"",uploadStart:"",uploadPause:"",uploadContinue:"",uploadRetry:"",uploadDelete:"",uploadTurnLeft:"",uploadTurnRight:"",uploadPreview:"",uploadNoPreview:"",updateStatusReady:"__KB",updateStatusConfirm:"__",updateStatusFinish:"__KB_",updateStatusError:"_",errorNotSupport:"WebUploader IE flash ",errorLoadConfig:"",errorExceedSize:"",errorFileType:"",errorInterrupt:"",errorUploadRetry:"",errorHttp:"http",errorServerUpload:"",remoteLockError:",",numError:"123400",imageUrlError:"",imageLoadError:"",searchRemind:"",searchLoading:"",searchRetry:" :( "},attachment:{static:{lang_tab_upload:"",lang_tab_online:"",lang_start_upload:"",lang_drop_remind:"100"},uploadSelectFile:"",uploadAddFile:"",uploadStart:"",uploadPause:"",uploadContinue:"",uploadRetry:"",uploadDelete:"",uploadTurnLeft:"",uploadTurnRight:"",uploadPreview:"",updateStatusReady:"__KB",updateStatusConfirm:"__",updateStatusFinish:"__KB_",updateStatusError:"_",errorNotSupport:"WebUploader IE flash ",errorLoadConfig:"",errorExceedSize:"",errorFileType:"",errorInterrupt:"",errorUploadRetry:"",errorHttp:"http",errorServerUpload:""},insertvideo:{static:{lang_tab_insertV:"",lang_tab_searchV:"",lang_tab_uploadV:"",lang_video_url:"",lang_video_size:"",lang_videoW:"",lang_videoH:"",lang_alignment:"",videoSearchTxt:{value:""},videoType:{options:["","","","","","",""]},videoSearchBtn:{value:""},videoSearchReset:{value:""},lang_input_fileStatus:" ",startUpload:{style:"background:url(upload.png) no-repeat;"},lang_upload_size:"",lang_upload_width:"",lang_upload_height:"",lang_upload_alignment:"",lang_format_advice:"mp4."},numError:"123,400",floatLeft:"",floatRight:"",'"default"':"",block:"",urlError:"",loading:" &nbsp;",clickToSelect:"",goToSource:"",noVideo:" &nbsp; &nbsp;",browseFiles:"",uploadSuccess:"!",delSuccessFile:"",delFailSaveFile:"",statusPrompt:"  ",flashVersionError:"FlashFlashPlayer",flashLoadingError:"Flash!",fileUploadReady:"",delUploadQueue:"",limitPrompt1:"",limitPrompt2:"",delFailFile:"",fileSizeLimit:"",emptyFile:"",fileTypeError:"",unknownError:"",fileUploading:"",cancelUpload:"",netError:"",failUpload:"!",serverIOError:"IO",noAuthority:"",fileNumLimit:"",failCheck:"",fileCanceling:"",stopUploading:"",uploadSelectFile:"",uploadAddFile:"",uploadStart:"",uploadPause:"",uploadContinue:"",uploadRetry:"",uploadDelete:"",uploadTurnLeft:"",uploadTurnRight:"",uploadPreview:"",updateStatusReady:"__KB",updateStatusConfirm:"__",updateStatusFinish:"_(_KB)_",updateStatusError:"_",errorNotSupport:"WebUploader IE flash ",errorLoadConfig:"",errorExceedSize:"",errorFileType:"",errorInterrupt:"",errorUploadRetry:"",errorHttp:"http",errorServerUpload:""},webapp:{tip1:"APPAPPKey!",tip2:"ueditor.config.jsappkey! ",applyFor:"",anthorApi:"API"},template:{static:{lang_template_bkcolor:"",lang_template_clear:"",lang_template_select:""},blank:"",blog:"",resume:"",richText:"",sciPapers:""},scrawl:{static:{lang_input_previousStep:"",lang_input_nextsStep:"",lang_input_clear:"",lang_input_addPic:"",lang_input_ScalePic:"",lang_input_removePic:"",J_imgTxt:{title:""}},noScarwl:"~",scrawlUpLoading:",~",continueBtn:"",imageError:"",backgroundUploading:",~"},music:{static:{lang_input_tips:"//",J_searchBtn:{value:""}},emptyTxt:"",chapter:"",singer:"",special:"",listenTest:""},anchor:{static:{lang_input_anchorName:""}},charts:{static:{lang_data_source:"",lang_chart_format:"",lang_data_align:"",lang_chart_align_same:"XY",lang_chart_align_reverse:"XY",lang_chart_title:"",lang_chart_main_title:"",lang_chart_sub_title:"",lang_chart_x_title:"X",lang_chart_y_title:"Y",lang_chart_tip:"",lang_cahrt_tip_prefix:"",lang_cahrt_tip_description:" ",lang_chart_data_unit:"",lang_chart_data_unit_title:"",lang_chart_data_unit_description:"   ",lang_chart_type:"",lang_prev_btn:"",lang_next_btn:""}},emotion:{static:{lang_input_choice:"",lang_input_Tuzki:"",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"",lang_input_babyCat:"baby",lang_input_bubble:"",lang_input_youa:""}},gmap:{static:{lang_input_address:"",lang_input_search:"",address:{value:""}},searchError:"!"},help:{static:{lang_input_about:"UEditor",lang_input_shortcuts:"",lang_input_introduction:"UEditorwebwebBSD",lang_Txt_shortcuts:"",lang_Txt_func:"",lang_Txt_bold:"",lang_Txt_copy:"",lang_Txt_cut:"",lang_Txt_Paste:"",lang_Txt_undo:"",lang_Txt_redo:"",lang_Txt_italic:"",lang_Txt_underline:"",lang_Txt_selectAll:"",lang_Txt_visualEnter:"",lang_Txt_fullscreen:""}},insertframe:{static:{lang_input_address:"",lang_input_width:"",lang_input_height:"",lang_input_isScroll:"",lang_input_frameborder:"",lang_input_alignMode:"",align:{title:"",options:["","","",""]}},enterAddress:"!"},link:{static:{lang_input_text:"",lang_input_url:"",lang_input_title:"",lang_input_target:""},validLink:"",httpPrompt:"httphttp://"},map:{static:{lang_city:"",lang_address:"",city:{value:""},lang_search:"",lang_dynamicmap:""},cityMsg:"",errorMsg:""},searchreplace:{static:{lang_tab_search:"",lang_tab_replace:"",lang_search1:"",lang_search2:"",lang_replace:"",lang_searchReg:"//",lang_searchReg1:"//",lang_case_sensitive1:"",lang_case_sensitive2:"",nextFindBtn:{value:""},preFindBtn:{value:""},nextReplaceBtn:{value:""},preReplaceBtn:{value:""},repalceBtn:{value:""},repalceAllBtn:{value:""}},getEnd:"",getStart:"",countMsg:"{#count}"},snapscreen:{static:{lang_showMsg:"UEditor ",lang_download:"",lang_step1:"UEditor",lang_step2:""}},spechars:{static:{},tsfh:"",lmsz:"",szfh:"",rwfh:"",xlzm:"",ewzm:"",pyzm:"",yyyb:"",zyzf:""},edittable:{static:{lang_tableStyle:"",lang_insertCaption:"",lang_insertTitle:"",lang_insertTitleCol:"",lang_orderbycontent:"",lang_tableSize:"",lang_autoSizeContent:"",lang_autoSizePage:"",lang_example:"",lang_borderStyle:"",lang_color:":"},captionName:"",titleName:"",cellsName:"",errorMsg:""},edittip:{static:{lang_delRow:"",lang_delCol:""}},edittd:{static:{lang_tdBkColor:":"}},formula:{static:{}},wordimage:{static:{lang_resave:"",uploadBtn:{src:"upload.png",alt:""},clipboard:{style:"background: url(copy.png) -153px -1px no-repeat;"},lang_step:"12Ctrl+V3"},fileType:"",flashError:"FLASHFLASH",netError:"",copySuccess:"",flashI18n:{}},autosave:{saving:"...",success:""}}},958:function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}var r,o,a=n(806),s=i(a),l=n(286),u=i(l),c=n(287),d=i(c),f=n(65),p=i(f);!function(t,n){"object"==(0,p.default)(e)&&"object"==(0,p.default)(e.exports)?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:void 0,function(i,a){function l(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e,t,n){if(he.isFunction(t))return he.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return he.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ee.test(t))return he.filter(t,e,n);t=he.filter(t,e)}return he.grep(e,function(e){return le.call(t,e)>-1!==n})}function f(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e){var t={};return he.each(e.match(Ue)||[],function(e,n){t[n]=!0}),t}function m(){re.removeEventListener("DOMContentLoaded",m),i.removeEventListener("load",m),he.ready()}function g(){this.expando=he.expando+g.uid++}function v(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ie,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pe.test(n)?he.parseJSON(n):n)}catch(e){}Re.set(e,t,n)}else n=void 0;return n}function y(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return he.css(e,t,"")},l=s(),u=n&&n[3]||(he.cssNumber[t]?"":"px"),c=(he.cssNumber[t]||"px"!==u&&+l)&&je.exec(he.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,he.style(e,t,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function b(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&he.nodeName(e,t)?he.merge([e],n):n}function x(e,t){for(var n=0,i=e.length;i>n;n++)Be.set(e[n],"globalEval",!t||Be.get(t[n],"globalEval"))}function w(e,t,n,i,r){for(var o,a,s,l,u,c,d=t.createDocumentFragment(),f=[],p=0,h=e.length;h>p;p++)if((o=e[p])||0===o)if("object"===he.type(o))he.merge(f,o.nodeType?[o]:o);else if(Ve.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(Fe.exec(o)||["",""])[1].toLowerCase(),l=ze[s]||ze._default,a.innerHTML=l[1]+he.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;he.merge(f,a.childNodes),a=d.firstChild,a.textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(i&&he.inArray(o,i)>-1)r&&r.push(o);else if(u=he.contains(o.ownerDocument,o),a=b(d.appendChild(o),"script"),u&&x(a),n)for(c=0;o=a[c++];)$e.test(o.type||"")&&n.push(o);return d}function C(){return!0}function N(){return!1}function E(){try{return re.activeElement}catch(e){}}function T(e,t,n,i,r,o){var a,s;if("object"==(void 0===t?"undefined":(0,p.default)(t))){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)T(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=N;else if(!r)return e;return 1===o&&(a=r,r=function(e){return he().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,r,i,n)})}function k(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function S(e){var t=Qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function U(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(Be.hasData(e)&&(o=Be.access(e),a=Be.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)he.event.add(t,r,u[r][n])}Re.hasData(e)&&(s=Re.access(e),l=he.extend({},s),Re.set(t,l))}}function A(e,t){var n=t.nodeName.toLowerCase();"input"===n&&He.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function O(e,t,n,i){t=ae.apply([],t);var r,o,a,s,l,u,c=0,d=e.length,f=d-1,p=t[0],h=he.isFunction(p);if(h||d>1&&"string"==typeof p&&!fe.checkClone&&Ze.test(p))return e.each(function(r){var o=e.eq(r);h&&(t[0]=p.call(this,r,o.html())),O(o,t,n,i)});if(d&&(r=w(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=he.map(b(r,"script"),_),s=a.length;d>c;c++)l=r,c!==f&&(l=he.clone(l,!0,!0),s&&he.merge(a,b(l,"script"))),n.call(e[c],l,c);if(s)for(u=a[a.length-1].ownerDocument,he.map(a,S),c=0;s>c;c++)l=a[c],$e.test(l.type||"")&&!Be.access(l,"globalEval")&&he.contains(u,l)&&(l.src?he._evalUrl&&he._evalUrl(l.src):he.globalEval(l.textContent.replace(Je,"")))}return e}function L(e,t,n){for(var i,r=t?he.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||he.cleanData(b(i)),i.parentNode&&(n&&he.contains(i.ownerDocument,i)&&x(b(i,"script")),i.parentNode.removeChild(i));return e}function B(e,t){var n=he(t.createElement(e)).appendTo(t.body),i=he.css(n[0],"display");return n.detach(),i}function R(e){var t=re,n=tt[e];return n||(n=B(e,t),"none"!==n&&n||(et=(et||he("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=et[0].contentDocument,t.write(),t.close(),n=B(e,t),et.detach()),tt[e]=n),n}function P(e,t,n){var i,r,o,a,s=e.style;return n=n||rt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),n&&!fe.pixelMarginRight()&&it.test(a)&&nt.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e){if(e in dt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ct.length;n--;)if((e=ct[n]+t)in dt)return e}function j(e,t,n){var i=je.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function q(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=he.css(e,n+qe[o],!0,r)),i?("content"===n&&(a-=he.css(e,"padding"+qe[o],!0,r)),"margin"!==n&&(a-=he.css(e,"border"+qe[o]+"Width",!0,r))):(a+=he.css(e,"padding"+qe[o],!0,r),"padding"!==n&&(a+=he.css(e,"border"+qe[o]+"Width",!0,r)));return a}function M(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=rt(e),s="border-box"===he.css(e,"boxSizing",!1,a);if(re.msFullscreenElement&&i.top!==i&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[t])),0>=o||null==o){if(o=P(e,t,a),(0>o||null==o)&&(o=e.style[t]),it.test(o))return o;r=s&&(fe.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+q(e,t,n||(s?"border":"content"),r,a)+"px"}function H(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=Be.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Me(i)&&(o[a]=Be.access(i,"olddisplay",R(i.nodeName)))):(r=Me(i),"none"===n&&r||Be.set(i,"olddisplay",r?n:he.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function F(e,t,n,i,r){return new F.prototype.init(e,t,n,i,r)}function $(){return i.setTimeout(function(){ft=void 0}),ft=he.now()}function z(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=qe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function V(e,t,n){for(var i,r=(X.tweeners[t]||[]).concat(X.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function W(e,t,n){var i,r,o,a,s,l,u,c=this,d={},f=e.style,p=e.nodeType&&Me(e),h=Be.get(e,"fxshow");n.queue||(s=he._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,he.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=he.css(e,"display"),"inline"===("none"===u?Be.get(e,"olddisplay")||R(e.nodeName):u)&&"none"===he.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],ht.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!h||void 0===h[i])continue;p=!0}d[i]=h&&h[i]||he.style(e,i)}else u=void 0;if(he.isEmptyObject(d))"inline"===("none"===u?R(e.nodeName):u)&&(f.display=u);else{h?"hidden"in h&&(p=h.hidden):h=Be.access(e,"fxshow",{}),o&&(h.hidden=!p),p?he(e).show():c.done(function(){he(e).hide()}),c.done(function(){var t;Be.remove(e,"fxshow");for(t in d)he.style(e,t,d[t])});for(i in d)a=V(p?h[i]:0,i,c),i in h||(h[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function Y(e,t){var n,i,r,o,a;for(n in e)if(i=he.camelCase(n),r=t[i],o=e[n],he.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=he.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function X(e,t,n){var i,r,o=0,a=X.prefilters.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ft||$(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:ft||$(),duration:n.duration,tweens:[],createTween:function(t,n){var i=he.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(Y(c,u.opts.specialEasing);a>o;o++)if(i=X.prefilters[o].call(u,e,c,u.opts))return he.isFunction(i.stop)&&(he._queueHooks(u.elem,u.opts.queue).stop=he.proxy(i.stop,i)),i;return he.map(c,V,u),he.isFunction(u.opts.start)&&u.opts.start.call(e,u),he.fx.timer(he.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function K(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Ue)||[];if(he.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Z(e,t,n,i){function r(s){var l;return o[s]=!0,he.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===Rt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function Q(e,t){var n,i,r=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&he.extend(!0,e,i),e}function J(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function ee(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function te(e,t,n,i){var r;if(he.isArray(t))he.each(t,function(t,r){n||jt.test(e)?i(e,r):te(e+"["+("object"==(void 0===r?"undefined":(0,p.default)(r))&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==he.type(t))i(e,t);else for(r in t)te(e+"["+r+"]",t[r],n,i)}function ne(e){return he.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ie=[],re=i.document,oe=ie.slice,ae=ie.concat,se=ie.push,le=ie.indexOf,ue={},ce=ue.toString,de=ue.hasOwnProperty,fe={},pe="2.2.3",he=function e(t,n){return new e.fn.init(t,n)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,ve=/-([\da-z])/gi,ye=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:pe,constructor:he,selector:"",length:0,toArray:function(){return oe.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:oe.call(this)},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ie.sort,splice:ie.splice},he.extend=he.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==(void 0===a?"undefined":(0,p.default)(a))||he.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(he.isPlainObject(i)||(r=he.isArray(i)))?(r?(r=!1,o=n&&he.isArray(n)?n:[]):o=n&&he.isPlainObject(n)?n:{},a[t]=he.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},he.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!he.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==he.type(e)||e.nodeType||he.isWindow(e))return!1;if(e.constructor&&!de.call(e,"constructor")&&!de.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||de.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==(void 0===e?"undefined":(0,p.default)(e))||"function"==typeof e?ue[ce.call(e)]||"object":void 0===e?"undefined":(0,p.default)(e)},globalEval:function(e){var t,n=eval;(e=he.trim(e))&&(1===e.indexOf("use strict")?(t=re.createElement("script"),t.text=e,re.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ge,"ms-").replace(ve,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(l(e))for(n=e.length;n>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(l(Object(e))?he.merge(n,"string"==typeof e?[e]:e):se.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:le.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;o>r;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(l(e))for(i=e.length;i>o;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return ae.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),he.isFunction(e)?(i=oe.call(arguments,2),r=function(){return e.apply(t||this,i.concat(oe.call(arguments)))},r.guid=e.guid=e.guid||he.guid++,r):void 0},now:Date.now,support:fe}),"function"==typeof d.default&&(he.fn[u.default]=ie[u.default]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ue["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,n,i){var r,o,a,s,u,d,f,p,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:j)!==A&&U(t),t=t||A,L)){if(11!==m&&(d=me.exec(e)))if(r=d[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&I(t,a)&&a.id===r)return n.push(a),n}else{if(d[2])return G.apply(n,t.getElementsByTagName(e)),n;if((r=d[3])&&b.getElementsByClassName&&t.getElementsByClassName)return G.apply(n,t.getElementsByClassName(r)),n}if(b.qsa&&!$[e+" "]&&(!B||!B.test(e))){if(1!==m)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=D),f=N(e),o=f.length,u=ce.test(s)?"#"+s:"[id='"+s+"']";o--;)f[o]=u+" "+c(f[o]);p=f.join(","),h=ge.test(e)&&l(t.parentNode)||t}if(p)try{return G.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{s===D&&t.removeAttribute("id")}}}return T(e.replace(oe,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[D]=!0,e}function r(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function c(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=M++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u,c=[q,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[D]||(t[D]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[i])&&s[0]===q&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function h(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function m(e,t,n,r,o,a){return r&&!r[D]&&(r=m(r)),o&&!o[D]&&(o=m(o,a)),i(function(i,a,s,l){var u,c,d,f=[],m=[],g=a.length,v=i||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:h(v,f,e,s,l),b=n?o||(i?e:g||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(u=h(b,m),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[m[c]]=!(y[m[c]]=d));if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?Q(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else b=h(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):G.apply(a,b)})}function g(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=d(function(e){return e===t},a,!0),u=d(function(e){return Q(t,e)>-1},a,!0),p=[function(e,n,i){var r=!o&&(i||n!==k)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>s;s++)if(n=x.relative[e[s].type])p=[d(f(p),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[D]){for(i=++s;r>i&&!x.relative[e[i].type];i++);return m(s>1&&f(p),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,i>s&&g(e.slice(s,i)),r>i&&g(e=e.slice(i)),r>i&&c(e))}p.push(n)}return f(p)}function v(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,f,p=0,m="0",g=i&&[],v=[],y=k,b=i||o&&x.find.TAG("*",u),w=q+=null==y?1:Math.random()||.1,C=b.length;for(u&&(k=a===A||a||u);m!==C&&null!=(c=b[m]);m++){if(o&&c){for(d=0,a||c.ownerDocument===A||(U(c),s=!L);f=e[d++];)if(f(c,a||A,s)){l.push(c);break}u&&(q=w)}r&&((c=!f&&c)&&p--,i&&g.push(c))}if(p+=m,r&&m!==p){for(d=0;f=n[d++];)f(g,v,a,s);if(i){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=X.call(l));v=h(v)}G.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(q=w,k=y),g};return r?i(a):a}var y,b,x,w,C,N,E,T,k,_,S,U,A,O,L,B,R,P,I,D="sizzle"+1*new Date,j=e.document,q=0,M=0,H=n(),F=n(),$=n(),z=function(e,t){return e===t&&(S=!0),0},V=1<<31,W={}.hasOwnProperty,Y=[],X=Y.pop,K=Y.push,G=Y.push,Z=Y.slice,Q=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ie),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=function(){U()};try{G.apply(Y=Z.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(e){G={apply:Y.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},U=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:j;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,O=A.documentElement,L=!C(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(A.getElementsByClassName),b.getById=r(function(e){return O.appendChild(e).id=D,!A.getElementsByName||!A.getElementsByName(D).length}),b.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(ye,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=b.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0},R=[],B=[],(b.qsa=he.test(A.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+ee+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+D+"-]").length||B.push("~="),e.querySelectorAll(":checked").length||B.push(":checked"),e.querySelectorAll("a#"+D+"+*").length||B.push(".#.+[+~]")}),r(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(b.matchesSelector=he.test(P=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){b.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),R.push("!=",ie)}),B=B.length&&new RegExp(B.join("|")),R=R.length&&new RegExp(R.join("|")),t=he.test(O.compareDocumentPosition),I=t||he.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return S=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===j&&I(j,e)?-1:t===A||t.ownerDocument===j&&I(j,t)?1:_?Q(_,e)-Q(_,t):0:4&n?-1:1)}:function(e,t){if(e===t)return S=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===A?-1:t===A?1:r?-1:o?1:_?Q(_,e)-Q(_,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===j?-1:l[i]===j?1:0},A):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&U(e),n=n.replace(le,"='$1']"),b.matchesSelector&&L&&!$[n+" "]&&(!R||!R.test(n))&&(!B||!B.test(n)))try{var i=P.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&U(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&U(e);var n=x.attrHandle[t.toLowerCase()],i=n&&W.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:b.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(S=!b.detectDuplicates,_=!b.sortStable&&e.slice(0),e.sort(z),S){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return _=null,e},w=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=w(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(f=g,d=f[D]||(f[D]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],p=u[0]===q&&u[1],b=p&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[q,p,b];break}}else if(y&&(f=t,d=f[D]||(f[D]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],p=u[0]===q&&u[1],b=p),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(d=f[D]||(f[D]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[q,b]),f!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[D]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=Q(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=E(e.replace(oe,"$1"));return r[D]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:i(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,be).toLowerCase(),function(t){var n;do{if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[0>n?n+t:n]}),even:s(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:s(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,N=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=F[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){i&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=se.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(oe," ")}),s=s.slice(i.length));for(a in x.filter)!(r=de[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):F(e,l).slice(0)},E=t.compile=function(e,t){var n,i=[],r=[],o=$[e+" "];if(!o){for(t||(t=N(e)),n=t.length;n--;)o=g(t[n]),o[D]?i.push(o):r.push(o);o=$(e,v(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,a,s,u,d="function"==typeof e&&e,f=!i&&N(e=d.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&L&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,be),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=de.needsContext.test(e)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((u=x.find[s])&&(i=u(a.matches[0].replace(ye,be),ge.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&c(o)))return G.apply(n,i),n;break}}return(d||E(e,f))(i,t,!L,n,!t||ge.test(e)&&l(t.parentNode)||t),n},b.sortStable=D.split("").sort(z).join("")===D,b.detectDuplicates=!!S,U(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(J,function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(i);he.find=be,he.expr=be.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=be.uniqueSort,he.text=be.getText,he.isXMLDoc=be.isXML,he.contains=be.contains;var xe=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&he(e).is(n))break;i.push(e)}return i},we=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ce=he.expr.match.needsContext,Ne=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ee=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?he.find.matchesSelector(i,e)?[i]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;n>t;t++)if(he.contains(r[t],this))return!0}));for(t=0;n>t;t++)he.find(e,r[t],i);return i=this.pushStack(n>1?he.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&Ce.test(e)?he(e):e||[],!1).length}});var Te,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(he.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Te,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ke.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Ne.test(i[1])&&he.isPlainObject(t))for(i in t)he.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=re.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),he.makeArray(e,this))}).prototype=he.fn,Te=he(re);var _e=/^(?:parents|prev(?:Until|All))/,Se={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Ce.test(e)||"string"!=typeof e?he(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?le.call(he(e),this[0]):le.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,n){return xe(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,n){return xe(e,"nextSibling",n)},prevUntil:function(e,t,n){return xe(e,"previousSibling",n)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,i){var r=he.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=he.filter(i,r)),this.length>1&&(Se[e]||he.uniqueSort(r),_e.test(e)&&r.reverse()),this.pushStack(r)}});var Ue=/\S+/g;he.Callbacks=function(e){e="string"==typeof e?h(e):he.extend({},e);var t,n,i,r,o=[],a=[],s=-1,l=function(){for(r=e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){he.each(n,function(n,i){he.isFunction(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==he.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,o,n))>-1;)o.splice(n,1),s>=n&&s--}),this},has:function(e){return e?he.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},he.extend({Deferred:function(e){var t=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return he.Deferred(function(n){he.each(t,function(t,o){var a=he.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?he.extend(e,i):i}},r={};return i.pipe=i.then,he.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=oe.call(arguments),a=o.length,s=1!==a||e&&he.isFunction(e.promise)?a:0,l=1===s?e:he.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?oe.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&he.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}});var Ae;he.fn.ready=function(e){return he.ready.promise().done(e),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0,!0!==e&&--he.readyWait>0||(Ae.resolveWith(re,[he]),he.fn.triggerHandler&&(he(re).triggerHandler("ready"),he(re).off("ready"))))}}),he.ready.promise=function(e){return Ae||(Ae=he.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll?i.setTimeout(he.ready):(re.addEventListener("DOMContentLoaded",m),i.addEventListener("load",m))),Ae.promise(e)},he.ready.promise();var Oe=function e(t,n,i,r,o,a,s){var l=0,u=t.length,c=null==i;if("object"===he.type(i)){o=!0;for(l in i)e(t,n,l,i[l],!0,a,s)}else if(void 0!==r&&(o=!0,he.isFunction(r)||(s=!0),c&&(s?(n.call(t,r),n=null):(c=n,n=function(e,t,n){return c.call(he(e),n)})),n))for(;u>l;l++)n(t[l],i,s?r:r.call(t[l],l,n(t[l],i)));return o?t:c?n.call(t):u?n(t[0],i):a},Le=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:(0,s.default)(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Le(e))return{};var t=e[this.expando];return t||(t={},Le(e)&&(e.nodeType?e[this.expando]=t:(0,s.default)(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,he.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{he.isArray(t)?i=t.concat(t.map(he.camelCase)):(r=he.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(Ue)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||he.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var Be=new g,Re=new g,Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;he.extend({hasData:function(e){return Re.hasData(e)||Be.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),he.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Re.get(o),1===o.nodeType&&!Be.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=he.camelCase(i.slice(5)),v(o,i,r[i])));Be.set(o,"hasDataAttrs",!0)}return r}return"object"==(void 0===e?"undefined":(0,p.default)(e))?this.each(function(){Re.set(this,e)}):Oe(this,function(t){var n,i;if(o&&void 0===t){if(void 0!==(n=Re.get(o,e)||Re.get(o,e.replace(Ie,"-$&").toLowerCase())))return n;if(i=he.camelCase(e),void 0!==(n=Re.get(o,i)))return n;if(void 0!==(n=v(o,i,void 0)))return n}else i=he.camelCase(e),this.each(function(){var n=Re.get(this,i);Re.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&Re.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),he.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Be.get(e,t),n&&(!i||he.isArray(n)?i=Be.access(e,t,he.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),i=n.length,r=n.shift(),o=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Be.get(e,n)||Be.access(e,n,{empty:he.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=he.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Be.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Me=function(e,t){return e=t||e,"none"===he.css(e,"display")||!he.contains(e.ownerDocument,e)},He=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,$e=/^$|\/(?:java|ecma)script/i,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td;var Ve=/<|&#?\w+;/;!function(){var e=re.createDocumentFragment(),t=e.appendChild(re.createElement("div")),n=re.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),fe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",fe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var We=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,p,h,m,g=Be.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=he.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ue)||[""],u=t.length;u--;)s=Xe.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p&&(d=he.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=he.event.special[p]||{},c=he.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&he.expr.match.needsContext.test(r),namespace:h.join(".")},o),(f=l[p])||(f=l[p]=[],f.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,h,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),he.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,p,h,m,g=Be.hasData(e)&&Be.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Ue)||[""],u=t.length;u--;)if(s=Xe.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=he.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,f=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||he.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)he.event.remove(e,p+t[u],n,i,!0);he.isEmptyObject(l)&&Be.remove(e,"handle events")}},dispatch:function(e){e=he.event.fix(e);var t,n,i,r,o,a=[],s=oe.call(arguments),l=(Be.get(this,"events")||{})[e.type]||[],u=he.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=he.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((he.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?he(r,this).index(l)>-1:he.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||re,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[he.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ye.test(r)?this.mouseHooks:We.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new he.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=re),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==E()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===E()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&he.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?C:N):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:N,isPropagationStopped:N,isImmediatePropagationStopped:N,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=C,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=C,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=C,e&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||he.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,i){return T(this,e,t,n,i)},one:function(e,t,n,i){return T(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,he(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==(void 0===e?"undefined":(0,p.default)(e))){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=N),this.each(function(){he.event.remove(this,e,n,t)})}});var Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ge=/<script|<style|<link/i,Ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Qe=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=he.contains(e.ownerDocument,e);if(!(fe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(a=b(s),o=b(e),i=0,r=o.length;r>i;i++)A(o[i],a[i]);if(t)if(n)for(o=o||b(e),a=a||b(s),i=0,r=o.length;r>i;i++)U(o[i],a[i]);else U(e,s);return a=b(s,"script"),a.length>0&&x(a,!l&&b(e,"script")),s},cleanData:function(e){for(var t,n,i,r=he.event.special,o=0;void 0!==(n=e[o]);o++)if(Le(n)){if(t=n[Be.expando]){if(t.events)for(i in t.events)r[i]?he.event.remove(n,i):he.removeEvent(n,i,t.handle);n[Be.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),he.fn.extend({domManip:O,detach:function(e){return L(this,e,!0)},remove:function(e){return L(this,e)},text:function(e){return Oe(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){k(this,e).appendChild(e)}})},prepend:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Oe(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ge.test(e)&&!ze[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(he.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return O(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,i=[],r=he(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),he(r[a])[t](n),se.apply(i,n.get());return this.pushStack(i)}});var et,tt={HTML:"block",BODY:"block"},nt=/^margin/,it=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),rt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},ot=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},at=re.documentElement;!function(){var e,t,n,r,o=re.createElement("div"),a=re.createElement("div");if(a.style){var s=function(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",at.appendChild(o);var s=i.getComputedStyle(a);e="1%"!==s.top,r="2px"===s.marginLeft,t="4px"===s.width,a.style.marginRight="50%",n="4px"===s.marginRight,at.removeChild(o)};a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",fe.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),he.extend(fe,{pixelPosition:function(){return s(),e},boxSizingReliable:function(){return null==t&&s(),t},pixelMarginRight:function(){return null==t&&s(),n},reliableMarginLeft:function(){return null==t&&s(),r},reliableMarginRight:function(){var e,t=a.appendChild(re.createElement("div"));return t.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",at.appendChild(o),e=!parseFloat(i.getComputedStyle(t).marginRight),at.removeChild(o),a.removeChild(t),e}})}}();var st=/^(none|table(?!-c[ea]).+)/,lt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","O","Moz","ms"],dt=re.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=he.camelCase(t),l=e.style;return t=he.cssProps[s]||(he.cssProps[s]=D(s)||s),a=he.cssHooks[t]||he.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=void 0===n?"undefined":(0,p.default)(n),"string"===o&&(r=je.exec(n))&&r[1]&&(n=y(e,t,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(he.cssNumber[s]?"":"px")),fe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=D(s)||s),a=he.cssHooks[t]||he.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=P(e,t,i)),"normal"===r&&t in ut&&(r=ut[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,i){return n?st.test(he.css(e,"display"))&&0===e.offsetWidth?ot(e,lt,function(){return M(e,t,i)}):M(e,t,i):void 0},set:function(e,n,i){var r,o=i&&rt(e),a=i&&q(e,t,i,"border-box"===he.css(e,"boxSizing",!1,o),o);return a&&(r=je.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),j(e,n,a)}}}),he.cssHooks.marginLeft=I(fe.reliableMarginLeft,function(e,t){return t?(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-ot(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),he.cssHooks.marginRight=I(fe.reliableMarginRight,function(e,t){return t?ot(e,{display:"inline-block"},P,[e,"marginRight"]):void 0}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+qe[i]+t]=o[i]||o[i-2]||o[0];return r}},nt.test(e)||(he.cssHooks[e+t].set=j)}),he.fn.extend({css:function(e,t){return Oe(this,function(e,t,n){var i,r,o={},a=0;if(he.isArray(t)){for(i=rt(e),r=t.length;r>a;a++)o[t[a]]=he.css(e,t[a],!1,i);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?he(this).show():he(this).hide()})}}),he.Tween=F,F.prototype={constructor:F,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=F.prototype.init,he.fx.step={};var ft,pt,ht=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;he.Animation=he.extend(X,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return y(n.elem,e,je.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Ue);for(var n,i=0,r=e.length;r>i;i++)n=e[i],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?X.prefilters.unshift(e):X.prefilters.push(e)}}),he.speed=function(e,t,n){var i=e&&"object"==(void 0===e?"undefined":(0,p.default)(e))?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return i.duration=he.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in he.fx.speeds?he.fx.speeds[i.duration]:he.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){he.isFunction(i.old)&&i.old.call(this),i.queue&&he.dequeue(this,i.queue)},i},he.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=he.isEmptyObject(e),o=he.speed(t,n,i),a=function(){var t=X(this,he.extend({},e),o);(r||Be.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=he.timers,a=Be.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&mt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||he.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Be.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=he.timers,a=i?i.length:0;for(n.finish=!0,he.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(z(t,!0),e,i,r)}}),he.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(ft=he.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),ft=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){pt||(pt=i.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){i.clearInterval(pt),pt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(e,t){return e=he.fx?he.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=re.createElement("input"),t=re.createElement("select"),n=t.appendChild(re.createElement("option"));e.type="checkbox",fe.checkOn=""!==e.value,fe.optSelected=n.selected,t.disabled=!0,fe.optDisabled=!n.disabled,e=re.createElement("input"),e.value="t",e.type="radio",fe.radioValue="t"===e.value}();var gt,vt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Oe(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(t=t.toLowerCase(),r=he.attrHooks[t]||(he.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=he.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!fe.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(Ue);if(o&&1===e.nodeType)for(;n=o[r++];)i=he.propFix[n]||n,he.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||he.find.attr;vt[t]=function(e,t,i){var r,o;return i||(o=vt[t],vt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,vt[t]=o),r}});var yt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Oe(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,r=he.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),fe.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this});var xt=/[\t\r\n\f]/g;he.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,K(this)))});if("string"==typeof e&&e)for(t=e.match(Ue)||[];n=this[l++];)if(r=K(n),i=1===n.nodeType&&(" "+r+" ").replace(xt," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=he.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,K(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ue)||[];n=this[l++];)if(r=K(n),i=1===n.nodeType&&(" "+r+" ").replace(xt," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=he.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":(0,p.default)(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,K(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=he(this),o=e.match(Ue)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=K(this),t&&Be.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Be.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+K(n)+" ").replace(xt," ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g,Ct=/[\x20\t\r\n\f]+/g;he.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=he.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,he(this).val()):e,null==r?r="":"number"==typeof r?r+="":he.isArray(r)&&(r=he.map(r,function(e){return null==e?"":e+""})),(t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=he.valHooks[r.type]||he.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(wt,""):null==n?"":n)):void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:he.trim(he.text(e)).replace(Ct," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(fe.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=he.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=he.inArray(he.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){return he.isArray(t)?e.checked=he.inArray(he(e).val(),t)>-1:void 0}},fe.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Nt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(e,t,n,r){var o,a,s,l,u,c,d,f=[n||re],h=de.call(e,"type")?e.type:e,m=de.call(e,"namespace")?e.namespace.split("."):[];if(a=s=n=n||re,3!==n.nodeType&&8!==n.nodeType&&!Nt.test(h+he.event.triggered)&&(h.indexOf(".")>-1&&(m=h.split("."),h=m.shift(),m.sort()),u=h.indexOf(":")<0&&"on"+h,e=e[he.expando]?e:new he.Event(h,"object"==(void 0===e?"undefined":(0,p.default)(e))&&e),e.isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:he.makeArray(t,[e]),d=he.event.special[h]||{},r||!d.trigger||!1!==d.trigger.apply(n,t))){if(!r&&!d.noBubble&&!he.isWindow(n)){for(l=d.delegateType||h,Nt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||re)&&f.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||h,c=(Be.get(a,"events")||{})[e.type]&&Be.get(a,"handle"),c&&c.apply(a,t),(c=u&&a[u])&&c.apply&&Le(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),t)||!Le(n)||u&&he.isFunction(n[h])&&!he.isWindow(n)&&(s=n[u],s&&(n[u]=null),he.event.triggered=h,n[h](),he.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,n){var i=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?he.event.trigger(e,t,n,!0):void 0}}),he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),fe.focusin="onfocusin"in i,fe.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Be.access(i,t);r||i.addEventListener(e,n,!0),Be.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Be.access(i,t)-1;r?Be.access(i,t,r):(i.removeEventListener(e,n,!0),Be.remove(i,t))}}});var Et=i.location,Tt=he.now(),kt=/\?/;he.parseJSON=function(e){return JSON.parse(e+"")},he.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+e),t};var _t=/#.*$/,St=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,At=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ot=/^(?:GET|HEAD)$/,Lt=/^\/\//,Bt={},Rt={},Pt="*/".concat("*"),It=re.createElement("a");It.href=Et.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:At.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Q(Q(e,he.ajaxSettings),t):Q(he.ajaxSettings,e)},ajaxPrefilter:G(Bt),ajaxTransport:G(Rt),ajax:function(e,t){function n(e,t,n,s){var u,d,p,b,x,C=t;2!==w&&(w=2,l&&i.clearTimeout(l),r=void 0,a=s||"",N.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(b=J(f,N,n)),b=ee(f,b,N,u),u?(f.ifModified&&(x=N.getResponseHeader("Last-Modified"),x&&(he.lastModified[o]=x),(x=N.getResponseHeader("etag"))&&(he.etag[o]=x)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,p=b.error,u=!p)):(p=C,!e&&C||(C="error",0>e&&(e=0))),N.status=e,N.statusText=(t||C)+"",u?g.resolveWith(h,[d,C,N]):g.rejectWith(h,[N,C,p]),N.statusCode(y),y=void 0,c&&m.trigger(u?"ajaxSuccess":"ajaxError",[N,f,u?d:p]),v.fireWith(h,[N,C]),c&&(m.trigger("ajaxComplete",[N,f]),--he.active||he.event.trigger("ajaxStop")))}"object"==(void 0===e?"undefined":(0,p.default)(e))&&(t=e,e=void 0),t=t||{};var r,o,a,s,l,u,c,d,f=he.ajaxSetup({},t),h=f.context||f,m=f.context&&(h.nodeType||h.jquery)?he(h):he.event,g=he.Deferred(),v=he.Callbacks("once memory"),y=f.statusCode||{},b={},x={},w=0,C="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=Ut.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=x[n]=x[n]||e,b[e]=t),this},overrideMimeType:function(e){return w||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)y[t]=[y[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||C;return r&&r.abort(t),n(0,t),this}};if(g.promise(N).complete=v.add,N.success=N.done,N.error=N.fail,f.url=((e||f.url||Et.href)+"").replace(_t,"").replace(Lt,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=he.trim(f.dataType||"*").toLowerCase().match(Ue)||[""],null==f.crossDomain){u=re.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=It.protocol+"//"+It.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=he.param(f.data,f.traditional)),Z(Bt,f,t,N),2===w)return N;c=he.event&&f.global,c&&0==he.active++&&he.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ot.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(kt.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=St.test(o)?o.replace(St,"$1_="+Tt++):o+(kt.test(o)?"&":"?")+"_="+Tt++)),f.ifModified&&(he.lastModified[o]&&N.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&N.setRequestHeader("If-None-Match",he.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&N.setRequestHeader("Content-Type",f.contentType),N.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Pt+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)N.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(h,N,f)||2===w))return N.abort();C="abort";for(d in{success:1,error:1,complete:1})N[d](f[d]);if(r=Z(Rt,f,t,N)){if(N.readyState=1,c&&m.trigger("ajaxSend",[N,f]),2===w)return N;f.async&&f.timeout>0&&(l=i.setTimeout(function(){N.abort("timeout")},f.timeout));try{w=1,r.send(b,n)}catch(e){if(!(2>w))throw e;n(-1,e)}}else n(-1,"No Transport");return N},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,i,r){return he.isFunction(n)&&(r=r||i,i=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:r,data:n,success:i},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return he.isFunction(e)?this.each(function(t){he(this).wrapAll(e.call(this,t))}):(this[0]&&(t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}}),he.expr.filters.hidden=function(e){return!he.expr.filters.visible(e)},he.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Dt=/%20/g,jt=/\[\]$/,qt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,i=[],r=function(e,t){t=he.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){r(this.name,this.value)});else for(n in e)te(n,e[n],t,r);return i.join("&").replace(Dt,"+")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&Ht.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(qt,"\r\n")}}):{name:t.name,value:n.replace(qt,"\r\n")}}).get()}}),he.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},$t=he.ajaxSettings.xhr();fe.cors=!!$t&&"withCredentials"in $t,fe.ajax=$t=!!$t,he.ajaxTransport(function(e){var t,n;return fe.cors||$t&&!e.crossDomain?{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ft[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),re.head.appendChild(t[0])},abort:function(){n&&n()}}}});var zt=[],Vt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||he.expando+"_"+Tt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=he.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||he.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===o?he(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),a&&he.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),he.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var i=Ne.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=w([e],t,r),r&&r.length&&he(r).remove(),he.merge([],i.childNodes))};var Wt=he.fn.load;he.fn.load=function(e,t,n){if("string"!=typeof e&&Wt)return Wt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=he.trim(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&&"object"==(void 0===t?"undefined":(0,p.default)(t))&&(r="POST"),a.length>0&&he.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?he("<div>").append(he.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.filters.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=he.css(e,"position"),d=he(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=he.css(e,"top"),l=he.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):d.css(f)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,he.contains(t,i)?(r=i.getBoundingClientRect(),n=ne(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===he.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(i=e.offset()),i.top+=he.css(e[0],"borderTopWidth",!0),i.left+=he.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-he.css(n,"marginTop",!0),left:t.left-i.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||at})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(i){return Oe(this,function(e,i,r){var o=ne(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=I(fe.pixelPosition,function(e,n){return n?(n=P(e,t),it.test(n)?he(e).position()[t]+"px":n):void 0})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){he.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return Oe(this,function(t,n,i){var r;return he.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?he.css(t,n,a):he.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),he.fn.andSelf=he.fn.addBack,n(959)&&(r=[],void 0!==(o=function(){return he}.apply(t,r))&&(e.exports=o));var Yt=i.jQuery,Xt=i.$;return he.noConflict=function(e){return i.$===he&&(i.$=Xt),e&&i.jQuery===he&&(i.jQuery=Yt),he},a||(i.jQuery=i.$=he),he})}).call(t,n(173)(e))},959:function(e,t){(function(t){e.exports=t}).call(t,{})},960:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0,!1,!1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("script",{attrs:{id:"editor",type:"text/plain"}})])}];i._withStripped=!0;var o={render:i,staticRenderFns:r};t.default=o},985:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(986),o=n(947),a=i(o),s=n(172),l=n(952),u=i(l),c=localStorage.getItem("token");t.default={name:"teamdetail",components:{quillEditor:r.quillEditor,UEditor:u.default},data:function(){return{content:"",quillOption:a.default,uploadUrl:s.BASICURL+"admin/upload",pic:n(803),myHeaders:{token:c},countrydata:null,tableData:[],currentPageIdx:1,langData:[],hackReset:!1,formValidate:{title:"",keyword:"",type:0,des:"",typeTitle:"",category:0,lang:4},config:{autoHeightEnabled:!1,autoFloatEnabled:!0,initialContent:"...",autoClearinitialContent:!0,initialFrameWidth:null,initialFrameHeight:600,BaseUrl:"",UEDITOR_HOME_URL:"static/ueditor/"},ruleValidate:{title:[{required:!0,message:"",trigger:"blur"}],type:[{required:!0,message:"",trigger:"change",type:"number"}],category:[{required:!0,message:"",trigger:"change"}],lang:[{required:!0,message:"",trigger:"change",type:"number"}],des:[{required:!0,message:"",trigger:"change"}],keyword:[{required:!0,message:"",trigger:"change"}]}}},watch:{$route:function(e,t){var n=this;this.getTypeData({pageNo:this.currentPageIdx,pageSize:100}),"teamdetail"==e.name&&(-1!=this.$route.query.id?(this.getData({id:this.$route.query.id}),this.getLangData()):(this.getblank(),setTimeout(function(){n.getLangData()},500)))}},mounted:function(){var e=this;this.getTypeData({pageNo:this.currentPageIdx,pageSize:100}),-1!=this.$route.query.id?(this.getData({id:this.$route.query.id}),this.getLangData()):(this.getblank(),setTimeout(function(){e.getLangData()},500))},methods:{onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(e){console.log("value===>",e)},aliHandleSuccess:function(e,t){this.pic=s.BASICURL+e.ret_code},clearValue:function(){this.formValidate.type=""},clearcategoryValue:function(){this.formValidate.category=0},typeChange:function(e){var t=this;this.formValidate.type=e,this.tableData.map(function(n,i){n.id==e&&(t.formValidate.typeTitle=n.title)})},getblank:function(){var e=this;this.formValidate.title="",this.formValidate.keyword="",this.formValidate.type="",this.formValidate.category=0,this.formValidate.lang=4,this.formValidate.typeTitle="",this.formValidate.des="",this.content="",this.formValidate.pic=n(803),this.hackReset=!1,this.$nextTick(function(){e.hackReset=!0})},getData:function(e){var t=this,n=this;(0,s.teamdetail)(e).then(function(e){t.formValidate.title=e.data[0].title,t.formValidate.keyword=e.data[0].keyword,t.formValidate.type=Number(e.data[0].type),t.formValidate.category=e.data[0].category,t.formValidate.lang=Number(e.data[0].lang),t.formValidate.typeTitle=e.data[0].typeTitle,t.formValidate.des=e.data[0].des,t.pic=e.data[0].pic,t.content=e.data[0].content,t.hackReset=!1,t.$nextTick(function(){n.hackReset=!0})})},getTypeData:function(e){var t=this;(0,s.productConfiglist)(e).then(function(e){t.tableData=e.data})},getLangData:function(){var e=this;(0,s.langConfiglist)({pageNo:1,pageSize:10}).then(function(t){e.langData=t.data})},sure:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var i={};if(i.pic=t.pic,i.title=t.formValidate.title,i.keyword=t.formValidate.keyword,i.type=t.formValidate.type,i.category=t.formValidate.category,i.lang=t.formValidate.lang,i.typeTitle=t.formValidate.typeTitle,i.des=t.formValidate.des,i.content=t.$refs.ueditor.getUEContent(),-1!=t.$route.query.id&&(i.Id=t.$route.query.id),t.pic===n(803))return t.$Message.error(""),!1;-1!=t.$route.query.id?(0,s.teamdeupdate)(i).then(function(e){200==e.status?t.$Message.success(e.msg):t.$Message.error(e.msg)}):(0,s.teamdeadd)(i).then(function(e){console.log(e),200==e.status?t.$Message.success(e.msg):t.$Message.error(e.msg)}).catch(function(e){console.log(e)})}else t.$Message.error("!")})}}}},986:function(e,t,n){!function(t,i){e.exports=i(n(942))}(0,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n.n(i),o=n(6),a=n(5),s=a(r.a,o.a,!1,null,null,null);t.default=s.exports},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.quillEditor=t.Quill=void 0;var r=n(0),o=i(r),a=n(1),s=i(a),l=window.Quill||o.default,u=function(e,t){t&&(s.default.props.globalOptions.default=function(){return t}),e.component(s.default.name,s.default)},c={Quill:l,quillEditor:s.default,install:u};t.default=c,t.Quill=l,t.quillEditor=s.default,t.install=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=i(r),a=n(3),s=i(a),l=window.Quill||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),t.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:s.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var e=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new l(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",function(t){t?e.$emit("focus",e.quill):e.$emit("blur",e.quill)}),this.quill.on("text-change",function(t,n,i){var r=e.$refs.editor.children[0].innerHTML,o=e.quill,a=e.quill.getText();"<p><br></p>"===r&&(r=""),e._content=r,e.$emit("input",e._content),e.$emit("change",{html:r,text:a,quill:o})}),this.$emit("ready",this.quill))}},watch:{content:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},value:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},disabled:function(e,t){this.quill&&this.quill.enable(!e)}}}},function(e,t){e.exports=function(e,t,n,i,r,o){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var u="function"==typeof s?s.options:s;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r);var c;if(o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var d=u.functional,f=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),f(e,t)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:a,exports:s,options:u}}},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quill-editor"},[e._t("toolbar"),e._v(" "),n("div",{ref:"editor"})],2)},r=[],o={render:i,staticRenderFns:r};t.a=o}])})},987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Form",{ref:"formValidate",attrs:{model:e.formValidate,"label-width":80,rules:e.ruleValidate}},[n("div",{staticStyle:{margin:"0 auto",width:"1200px"}},[n("FormItem",{attrs:{label:"",prop:"title"}},[n("Input",{attrs:{placeholder:"..."},model:{value:e.formValidate.title,callback:function(t){e.$set(e.formValidate,"title",t)},expression:"formValidate.title"}})],1),e._v(" "),n("FormItem",{attrs:{label:"",prop:"keyword"}},[n("Input",{attrs:{placeholder:"..."},model:{value:e.formValidate.keyword,callback:function(t){e.$set(e.formValidate,"keyword",t)},expression:"formValidate.keyword"}})],1),e._v(" "),n("FormItem",{attrs:{label:"",prop:"type"}},[n("Select",{attrs:{clearable:!0},on:{"on-change":e.typeChange,"on-clear":e.clearValue},model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},e._l(e.tableData,function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.title))])}))],1),e._v(" "),n("FormItem",{attrs:{label:"",prop:"category"}},[n("Select",{attrs:{clearable:!0},on:{"on-clear":e.clearcategoryValue},model:{value:e.formValidate.category,callback:function(t){e.$set(e.formValidate,"category",t)},expression:"formValidate.category"}},[n("Option",{attrs:{value:"0"}},[e._v("")]),e._v(" "),n("Option",{attrs:{value:"1"}},[e._v("")])],1)],1),e._v(" "),n("FormItem",{attrs:{label:"",prop:"lang"}},[n("Select",{attrs:{clearable:!0},on:{"on-clear":e.clearValue},model:{value:e.formValidate.lang,callback:function(t){e.$set(e.formValidate,"lang",t)},expression:"formValidate.lang"}},e._l(e.langData,function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.title))])}))],1),e._v(" "),n("FormItem",{attrs:{label:"",prop:"des"}},[n("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"..."},model:{value:e.formValidate.des,callback:function(t){e.$set(e.formValidate,"des",t)},expression:"formValidate.des"}})],1),e._v(" "),n("FormItem",{attrs:{label:"",prop:"pic"}},[n("div",{staticClass:"acc_sc"},[n("img",{staticStyle:{width:"200px",height:"170px"},attrs:{id:"aliImg",src:e.pic}}),e._v(" "),n("div",{staticStyle:{color:"red"}},[e._v(":270*198(),2")]),e._v(" "),n("Upload",{ref:"upload",attrs:{name:"picUrl","show-upload-list":!1,"on-success":e.aliHandleSuccess,action:e.uploadUrl,enctype:"multipart/form-data",headers:e.myHeaders}},[n("Button",{staticStyle:{opacity:"0",width:"200px",height:"170px","margin-top":"-200px"},attrs:{type:"success",icon:"ios-cloud-upload-outline"}},[e._v("")])],1)],1)]),e._v(" "),e.hackReset?n("div",{attrs:{id:"Test"}},[n("UEditor",{ref:"ueditor",attrs:{config:e.config,defaultMsg:e.content}})],1):e._e(),e._v(" "),n("div",{staticStyle:{"margin-top":"50px",width:"200px","margin-left":"auto","margin-right":"auto",display:"flex","justify-content":"center","margin-bottom":"150px"}},[n("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.sure("formValidate")}}},[e._v("")]),e._v(" "),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{long:""},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("")])],1)],1)])],1)},r=[];i._withStripped=!0;var o={render:i,staticRenderFns:r};t.default=o}});